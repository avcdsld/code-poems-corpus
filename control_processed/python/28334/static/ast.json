{
  "type": "module",
  "start": {
    "row": 0,
    "column": 0
  },
  "end": {
    "row": 124,
    "column": 14
  },
  "text": "def set_volumes_tags(tag_maps, authoritative=False, dry_run=False,\n                    region=None, key=None, keyid=None, profile=None):\n    '''\n    .. versionadded:: 2016.11.0\n\n    tag_maps (list)\n        List of dicts of filters and tags, where 'filters' is a dict suitable for passing to the\n        'filters' argument of get_all_volumes() above, and 'tags' is a dict of tags to be set on\n        volumes (via create_tags/delete_tags) as matched by the given filters.  The filter syntax\n        is extended to permit passing either a list of volume_ids or an instance_name (with\n        instance_name being the Name tag of the instance to which the desired volumes are mapped).\n        Each mapping in the list is applied separately, so multiple sets of volumes can be all\n        tagged differently with one call to this function.  If filtering by instance Name, You may\n        additionally limit the instances matched by passing in a list of desired instance states.\n        The default set of states is ('pending', 'rebooting', 'running', 'stopping', 'stopped').\n\n    YAML example fragment:\n\n    .. code-block:: yaml\n\n        - filters:\n            attachment.instance_id: i-abcdef12\n          tags:\n            Name: dev-int-abcdef12.aws-foo.com\n        - filters:\n            attachment.device: /dev/sdf\n          tags:\n            ManagedSnapshots: true\n            BillingGroup: bubba.hotep@aws-foo.com\n          in_states:\n          - stopped\n          - terminated\n        - filters:\n            instance_name: prd-foo-01.aws-foo.com\n          tags:\n            Name: prd-foo-01.aws-foo.com\n            BillingGroup: infra-team@aws-foo.com\n        - filters:\n            volume_ids: [ vol-12345689, vol-abcdef12 ]\n          tags:\n            BillingGroup: infra-team@aws-foo.com\n\n    authoritative (bool)\n        If true, any existing tags on the matched volumes, and not explicitly requested here, will\n        be removed.\n\n    dry_run (bool)\n        If true, don't change anything, just return a dictionary describing any changes which\n        would have been applied.\n\n    returns (dict)\n        A dict describing status and any changes.\n\n    '''\n    ret = {'success': True, 'comment': '', 'changes': {}}\n    running_states = ('pending', 'rebooting', 'running', 'stopping', 'stopped')\n    ### First creeate a dictionary mapping all changes for a given volume to it's volume ID...\n    tag_sets = {}\n    for tm in tag_maps:\n        filters = dict(tm.get('filters', {}))\n        tags = dict(tm.get('tags', {}))\n        args = {'return_objs': True, 'region': region, 'key': key, 'keyid': keyid, 'profile': profile}\n        new_filters = {}\n        log.debug('got filters: %s', filters)\n        instance_id = None\n        in_states = tm.get('in_states', running_states)\n        try:\n            for k, v in filters.items():\n                if k == 'volume_ids':\n                    args['volume_ids'] = v\n                elif k == 'instance_name':\n                    instance_id = get_id(name=v, in_states=in_states, region=region, key=key,\n                                         keyid=keyid, profile=profile)\n                    if not instance_id:\n                        msg = \"Couldn't resolve instance Name {0} to an ID.\".format(v)\n                        raise CommandExecutionError(msg)\n                    new_filters['attachment.instance_id'] = instance_id\n                else:\n                    new_filters[k] = v\n        except CommandExecutionError as e:\n            log.warning(e)\n            continue  # Hmme, abort or do what we can...?  Guess the latter for now.\n        args['filters'] = new_filters\n        volumes = get_all_volumes(**args)\n        log.debug('got volume list: %s', volumes)\n        for vol in volumes:\n            tag_sets.setdefault(vol.id.replace('-', '_'), {'vol': vol, 'tags': tags.copy()})['tags'].update(tags.copy())\n    log.debug('tag_sets after munging: %s', tag_sets)\n\n    ### ...then loop through all those volume->tag pairs and apply them.\n    changes = {'old': {}, 'new': {}}\n    for volume in tag_sets.values():\n        vol, tags = volume['vol'], volume['tags']\n        log.debug('current tags on vol.id %s: %s', vol.id, dict(getattr(vol, 'tags', {})))\n        curr = set(dict(getattr(vol, 'tags', {})).keys())\n        log.debug('requested tags on vol.id %s: %s', vol.id, tags)\n        req = set(tags.keys())\n        add = list(req - curr)\n        update = [r for r in (req & curr) if vol.tags[r] != tags[r]]\n        remove = list(curr - req)\n        if add or update or (authoritative and remove):\n            changes['old'][vol.id] = dict(getattr(vol, 'tags', {}))\n            changes['new'][vol.id] = tags\n        else:\n            log.debug('No changes needed for vol.id %s', vol.id)\n        if add:\n            d = dict((k, tags[k]) for k in add)\n            log.debug('New tags for vol.id %s: %s', vol.id, d)\n        if update:\n            d = dict((k, tags[k]) for k in update)\n            log.debug('Updated tags for vol.id %s: %s', vol.id, d)\n        if not dry_run:\n            if not create_tags(vol.id, tags, region=region, key=key, keyid=keyid, profile=profile):\n                ret['success'] = False\n                ret['comment'] = \"Failed to set tags on vol.id {0}: {1}\".format(vol.id, tags)\n                return ret\n            if authoritative:\n                if remove:\n                    log.debug('Removed tags for vol.id %s: %s', vol.id, remove)\n                    if not delete_tags(vol.id, remove, region=region, key=key, keyid=keyid, profile=profile):\n                        ret['success'] = False\n                        ret['comment'] = \"Failed to remove tags on vol.id {0}: {1}\".format(vol.id, remove)\n                        return ret\n    ret['changes'].update(changes) if changes['old'] or changes['new'] else None  # pylint: disable=W0106\n    return ret",
  "children": [
    {
      "type": "function_definition",
      "start": {
        "row": 0,
        "column": 0
      },
      "end": {
        "row": 124,
        "column": 14
      },
      "text": "def set_volumes_tags(tag_maps, authoritative=False, dry_run=False,\n                    region=None, key=None, keyid=None, profile=None):\n    '''\n    .. versionadded:: 2016.11.0\n\n    tag_maps (list)\n        List of dicts of filters and tags, where 'filters' is a dict suitable for passing to the\n        'filters' argument of get_all_volumes() above, and 'tags' is a dict of tags to be set on\n        volumes (via create_tags/delete_tags) as matched by the given filters.  The filter syntax\n        is extended to permit passing either a list of volume_ids or an instance_name (with\n        instance_name being the Name tag of the instance to which the desired volumes are mapped).\n        Each mapping in the list is applied separately, so multiple sets of volumes can be all\n        tagged differently with one call to this function.  If filtering by instance Name, You may\n        additionally limit the instances matched by passing in a list of desired instance states.\n        The default set of states is ('pending', 'rebooting', 'running', 'stopping', 'stopped').\n\n    YAML example fragment:\n\n    .. code-block:: yaml\n\n        - filters:\n            attachment.instance_id: i-abcdef12\n          tags:\n            Name: dev-int-abcdef12.aws-foo.com\n        - filters:\n            attachment.device: /dev/sdf\n          tags:\n            ManagedSnapshots: true\n            BillingGroup: bubba.hotep@aws-foo.com\n          in_states:\n          - stopped\n          - terminated\n        - filters:\n            instance_name: prd-foo-01.aws-foo.com\n          tags:\n            Name: prd-foo-01.aws-foo.com\n            BillingGroup: infra-team@aws-foo.com\n        - filters:\n            volume_ids: [ vol-12345689, vol-abcdef12 ]\n          tags:\n            BillingGroup: infra-team@aws-foo.com\n\n    authoritative (bool)\n        If true, any existing tags on the matched volumes, and not explicitly requested here, will\n        be removed.\n\n    dry_run (bool)\n        If true, don't change anything, just return a dictionary describing any changes which\n        would have been applied.\n\n    returns (dict)\n        A dict describing status and any changes.\n\n    '''\n    ret = {'success': True, 'comment': '', 'changes': {}}\n    running_states = ('pending', 'rebooting', 'running', 'stopping', 'stopped')\n    ### First creeate a dictionary mapping all changes for a given volume to it's volume ID...\n    tag_sets = {}\n    for tm in tag_maps:\n        filters = dict(tm.get('filters', {}))\n        tags = dict(tm.get('tags', {}))\n        args = {'return_objs': True, 'region': region, 'key': key, 'keyid': keyid, 'profile': profile}\n        new_filters = {}\n        log.debug('got filters: %s', filters)\n        instance_id = None\n        in_states = tm.get('in_states', running_states)\n        try:\n            for k, v in filters.items():\n                if k == 'volume_ids':\n                    args['volume_ids'] = v\n                elif k == 'instance_name':\n                    instance_id = get_id(name=v, in_states=in_states, region=region, key=key,\n                                         keyid=keyid, profile=profile)\n                    if not instance_id:\n                        msg = \"Couldn't resolve instance Name {0} to an ID.\".format(v)\n                        raise CommandExecutionError(msg)\n                    new_filters['attachment.instance_id'] = instance_id\n                else:\n                    new_filters[k] = v\n        except CommandExecutionError as e:\n            log.warning(e)\n            continue  # Hmme, abort or do what we can...?  Guess the latter for now.\n        args['filters'] = new_filters\n        volumes = get_all_volumes(**args)\n        log.debug('got volume list: %s', volumes)\n        for vol in volumes:\n            tag_sets.setdefault(vol.id.replace('-', '_'), {'vol': vol, 'tags': tags.copy()})['tags'].update(tags.copy())\n    log.debug('tag_sets after munging: %s', tag_sets)\n\n    ### ...then loop through all those volume->tag pairs and apply them.\n    changes = {'old': {}, 'new': {}}\n    for volume in tag_sets.values():\n        vol, tags = volume['vol'], volume['tags']\n        log.debug('current tags on vol.id %s: %s', vol.id, dict(getattr(vol, 'tags', {})))\n        curr = set(dict(getattr(vol, 'tags', {})).keys())\n        log.debug('requested tags on vol.id %s: %s', vol.id, tags)\n        req = set(tags.keys())\n        add = list(req - curr)\n        update = [r for r in (req & curr) if vol.tags[r] != tags[r]]\n        remove = list(curr - req)\n        if add or update or (authoritative and remove):\n            changes['old'][vol.id] = dict(getattr(vol, 'tags', {}))\n            changes['new'][vol.id] = tags\n        else:\n            log.debug('No changes needed for vol.id %s', vol.id)\n        if add:\n            d = dict((k, tags[k]) for k in add)\n            log.debug('New tags for vol.id %s: %s', vol.id, d)\n        if update:\n            d = dict((k, tags[k]) for k in update)\n            log.debug('Updated tags for vol.id %s: %s', vol.id, d)\n        if not dry_run:\n            if not create_tags(vol.id, tags, region=region, key=key, keyid=keyid, profile=profile):\n                ret['success'] = False\n                ret['comment'] = \"Failed to set tags on vol.id {0}: {1}\".format(vol.id, tags)\n                return ret\n            if authoritative:\n                if remove:\n                    log.debug('Removed tags for vol.id %s: %s', vol.id, remove)\n                    if not delete_tags(vol.id, remove, region=region, key=key, keyid=keyid, profile=profile):\n                        ret['success'] = False\n                        ret['comment'] = \"Failed to remove tags on vol.id {0}: {1}\".format(vol.id, remove)\n                        return ret\n    ret['changes'].update(changes) if changes['old'] or changes['new'] else None  # pylint: disable=W0106\n    return ret",
      "children": [
        {
          "type": "def",
          "start": {
            "row": 0,
            "column": 0
          },
          "end": {
            "row": 0,
            "column": 3
          },
          "text": "def"
        },
        {
          "type": "identifier",
          "start": {
            "row": 0,
            "column": 4
          },
          "end": {
            "row": 0,
            "column": 20
          },
          "text": "set_volumes_tags"
        },
        {
          "type": "parameters",
          "start": {
            "row": 0,
            "column": 20
          },
          "end": {
            "row": 1,
            "column": 68
          },
          "text": "(tag_maps, authoritative=False, dry_run=False,\n                    region=None, key=None, keyid=None, profile=None)",
          "children": [
            {
              "type": "(",
              "start": {
                "row": 0,
                "column": 20
              },
              "end": {
                "row": 0,
                "column": 21
              },
              "text": "("
            },
            {
              "type": "identifier",
              "start": {
                "row": 0,
                "column": 21
              },
              "end": {
                "row": 0,
                "column": 29
              },
              "text": "tag_maps"
            },
            {
              "type": ",",
              "start": {
                "row": 0,
                "column": 29
              },
              "end": {
                "row": 0,
                "column": 30
              },
              "text": ","
            },
            {
              "type": "default_parameter",
              "start": {
                "row": 0,
                "column": 31
              },
              "end": {
                "row": 0,
                "column": 50
              },
              "text": "authoritative=False",
              "children": [
                {
                  "type": "identifier",
                  "start": {
                    "row": 0,
                    "column": 31
                  },
                  "end": {
                    "row": 0,
                    "column": 44
                  },
                  "text": "authoritative"
                },
                {
                  "type": "=",
                  "start": {
                    "row": 0,
                    "column": 44
                  },
                  "end": {
                    "row": 0,
                    "column": 45
                  },
                  "text": "="
                },
                {
                  "type": "false",
                  "start": {
                    "row": 0,
                    "column": 45
                  },
                  "end": {
                    "row": 0,
                    "column": 50
                  },
                  "text": "False"
                }
              ]
            },
            {
              "type": ",",
              "start": {
                "row": 0,
                "column": 50
              },
              "end": {
                "row": 0,
                "column": 51
              },
              "text": ","
            },
            {
              "type": "default_parameter",
              "start": {
                "row": 0,
                "column": 52
              },
              "end": {
                "row": 0,
                "column": 65
              },
              "text": "dry_run=False",
              "children": [
                {
                  "type": "identifier",
                  "start": {
                    "row": 0,
                    "column": 52
                  },
                  "end": {
                    "row": 0,
                    "column": 59
                  },
                  "text": "dry_run"
                },
                {
                  "type": "=",
                  "start": {
                    "row": 0,
                    "column": 59
                  },
                  "end": {
                    "row": 0,
                    "column": 60
                  },
                  "text": "="
                },
                {
                  "type": "false",
                  "start": {
                    "row": 0,
                    "column": 60
                  },
                  "end": {
                    "row": 0,
                    "column": 65
                  },
                  "text": "False"
                }
              ]
            },
            {
              "type": ",",
              "start": {
                "row": 0,
                "column": 65
              },
              "end": {
                "row": 0,
                "column": 66
              },
              "text": ","
            },
            {
              "type": "default_parameter",
              "start": {
                "row": 1,
                "column": 20
              },
              "end": {
                "row": 1,
                "column": 31
              },
              "text": "region=None",
              "children": [
                {
                  "type": "identifier",
                  "start": {
                    "row": 1,
                    "column": 20
                  },
                  "end": {
                    "row": 1,
                    "column": 26
                  },
                  "text": "region"
                },
                {
                  "type": "=",
                  "start": {
                    "row": 1,
                    "column": 26
                  },
                  "end": {
                    "row": 1,
                    "column": 27
                  },
                  "text": "="
                },
                {
                  "type": "none",
                  "start": {
                    "row": 1,
                    "column": 27
                  },
                  "end": {
                    "row": 1,
                    "column": 31
                  },
                  "text": "None"
                }
              ]
            },
            {
              "type": ",",
              "start": {
                "row": 1,
                "column": 31
              },
              "end": {
                "row": 1,
                "column": 32
              },
              "text": ","
            },
            {
              "type": "default_parameter",
              "start": {
                "row": 1,
                "column": 33
              },
              "end": {
                "row": 1,
                "column": 41
              },
              "text": "key=None",
              "children": [
                {
                  "type": "identifier",
                  "start": {
                    "row": 1,
                    "column": 33
                  },
                  "end": {
                    "row": 1,
                    "column": 36
                  },
                  "text": "key"
                },
                {
                  "type": "=",
                  "start": {
                    "row": 1,
                    "column": 36
                  },
                  "end": {
                    "row": 1,
                    "column": 37
                  },
                  "text": "="
                },
                {
                  "type": "none",
                  "start": {
                    "row": 1,
                    "column": 37
                  },
                  "end": {
                    "row": 1,
                    "column": 41
                  },
                  "text": "None"
                }
              ]
            },
            {
              "type": ",",
              "start": {
                "row": 1,
                "column": 41
              },
              "end": {
                "row": 1,
                "column": 42
              },
              "text": ","
            },
            {
              "type": "default_parameter",
              "start": {
                "row": 1,
                "column": 43
              },
              "end": {
                "row": 1,
                "column": 53
              },
              "text": "keyid=None",
              "children": [
                {
                  "type": "identifier",
                  "start": {
                    "row": 1,
                    "column": 43
                  },
                  "end": {
                    "row": 1,
                    "column": 48
                  },
                  "text": "keyid"
                },
                {
                  "type": "=",
                  "start": {
                    "row": 1,
                    "column": 48
                  },
                  "end": {
                    "row": 1,
                    "column": 49
                  },
                  "text": "="
                },
                {
                  "type": "none",
                  "start": {
                    "row": 1,
                    "column": 49
                  },
                  "end": {
                    "row": 1,
                    "column": 53
                  },
                  "text": "None"
                }
              ]
            },
            {
              "type": ",",
              "start": {
                "row": 1,
                "column": 53
              },
              "end": {
                "row": 1,
                "column": 54
              },
              "text": ","
            },
            {
              "type": "default_parameter",
              "start": {
                "row": 1,
                "column": 55
              },
              "end": {
                "row": 1,
                "column": 67
              },
              "text": "profile=None",
              "children": [
                {
                  "type": "identifier",
                  "start": {
                    "row": 1,
                    "column": 55
                  },
                  "end": {
                    "row": 1,
                    "column": 62
                  },
                  "text": "profile"
                },
                {
                  "type": "=",
                  "start": {
                    "row": 1,
                    "column": 62
                  },
                  "end": {
                    "row": 1,
                    "column": 63
                  },
                  "text": "="
                },
                {
                  "type": "none",
                  "start": {
                    "row": 1,
                    "column": 63
                  },
                  "end": {
                    "row": 1,
                    "column": 67
                  },
                  "text": "None"
                }
              ]
            },
            {
              "type": ")",
              "start": {
                "row": 1,
                "column": 67
              },
              "end": {
                "row": 1,
                "column": 68
              },
              "text": ")"
            }
          ]
        },
        {
          "type": ":",
          "start": {
            "row": 1,
            "column": 68
          },
          "end": {
            "row": 1,
            "column": 69
          },
          "text": ":"
        },
        {
          "type": "block",
          "start": {
            "row": 2,
            "column": 4
          },
          "end": {
            "row": 124,
            "column": 14
          },
          "text": "'''\n    .. versionadded:: 2016.11.0\n\n    tag_maps (list)\n        List of dicts of filters and tags, where 'filters' is a dict suitable for passing to the\n        'filters' argument of get_all_volumes() above, and 'tags' is a dict of tags to be set on\n        volumes (via create_tags/delete_tags) as matched by the given filters.  The filter syntax\n        is extended to permit passing either a list of volume_ids or an instance_name (with\n        instance_name being the Name tag of the instance to which the desired volumes are mapped).\n        Each mapping in the list is applied separately, so multiple sets of volumes can be all\n        tagged differently with one call to this function.  If filtering by instance Name, You may\n        additionally limit the instances matched by passing in a list of desired instance states.\n        The default set of states is ('pending', 'rebooting', 'running', 'stopping', 'stopped').\n\n    YAML example fragment:\n\n    .. code-block:: yaml\n\n        - filters:\n            attachment.instance_id: i-abcdef12\n          tags:\n            Name: dev-int-abcdef12.aws-foo.com\n        - filters:\n            attachment.device: /dev/sdf\n          tags:\n            ManagedSnapshots: true\n            BillingGroup: bubba.hotep@aws-foo.com\n          in_states:\n          - stopped\n          - terminated\n        - filters:\n            instance_name: prd-foo-01.aws-foo.com\n          tags:\n            Name: prd-foo-01.aws-foo.com\n            BillingGroup: infra-team@aws-foo.com\n        - filters:\n            volume_ids: [ vol-12345689, vol-abcdef12 ]\n          tags:\n            BillingGroup: infra-team@aws-foo.com\n\n    authoritative (bool)\n        If true, any existing tags on the matched volumes, and not explicitly requested here, will\n        be removed.\n\n    dry_run (bool)\n        If true, don't change anything, just return a dictionary describing any changes which\n        would have been applied.\n\n    returns (dict)\n        A dict describing status and any changes.\n\n    '''\n    ret = {'success': True, 'comment': '', 'changes': {}}\n    running_states = ('pending', 'rebooting', 'running', 'stopping', 'stopped')\n    ### First creeate a dictionary mapping all changes for a given volume to it's volume ID...\n    tag_sets = {}\n    for tm in tag_maps:\n        filters = dict(tm.get('filters', {}))\n        tags = dict(tm.get('tags', {}))\n        args = {'return_objs': True, 'region': region, 'key': key, 'keyid': keyid, 'profile': profile}\n        new_filters = {}\n        log.debug('got filters: %s', filters)\n        instance_id = None\n        in_states = tm.get('in_states', running_states)\n        try:\n            for k, v in filters.items():\n                if k == 'volume_ids':\n                    args['volume_ids'] = v\n                elif k == 'instance_name':\n                    instance_id = get_id(name=v, in_states=in_states, region=region, key=key,\n                                         keyid=keyid, profile=profile)\n                    if not instance_id:\n                        msg = \"Couldn't resolve instance Name {0} to an ID.\".format(v)\n                        raise CommandExecutionError(msg)\n                    new_filters['attachment.instance_id'] = instance_id\n                else:\n                    new_filters[k] = v\n        except CommandExecutionError as e:\n            log.warning(e)\n            continue  # Hmme, abort or do what we can...?  Guess the latter for now.\n        args['filters'] = new_filters\n        volumes = get_all_volumes(**args)\n        log.debug('got volume list: %s', volumes)\n        for vol in volumes:\n            tag_sets.setdefault(vol.id.replace('-', '_'), {'vol': vol, 'tags': tags.copy()})['tags'].update(tags.copy())\n    log.debug('tag_sets after munging: %s', tag_sets)\n\n    ### ...then loop through all those volume->tag pairs and apply them.\n    changes = {'old': {}, 'new': {}}\n    for volume in tag_sets.values():\n        vol, tags = volume['vol'], volume['tags']\n        log.debug('current tags on vol.id %s: %s', vol.id, dict(getattr(vol, 'tags', {})))\n        curr = set(dict(getattr(vol, 'tags', {})).keys())\n        log.debug('requested tags on vol.id %s: %s', vol.id, tags)\n        req = set(tags.keys())\n        add = list(req - curr)\n        update = [r for r in (req & curr) if vol.tags[r] != tags[r]]\n        remove = list(curr - req)\n        if add or update or (authoritative and remove):\n            changes['old'][vol.id] = dict(getattr(vol, 'tags', {}))\n            changes['new'][vol.id] = tags\n        else:\n            log.debug('No changes needed for vol.id %s', vol.id)\n        if add:\n            d = dict((k, tags[k]) for k in add)\n            log.debug('New tags for vol.id %s: %s', vol.id, d)\n        if update:\n            d = dict((k, tags[k]) for k in update)\n            log.debug('Updated tags for vol.id %s: %s', vol.id, d)\n        if not dry_run:\n            if not create_tags(vol.id, tags, region=region, key=key, keyid=keyid, profile=profile):\n                ret['success'] = False\n                ret['comment'] = \"Failed to set tags on vol.id {0}: {1}\".format(vol.id, tags)\n                return ret\n            if authoritative:\n                if remove:\n                    log.debug('Removed tags for vol.id %s: %s', vol.id, remove)\n                    if not delete_tags(vol.id, remove, region=region, key=key, keyid=keyid, profile=profile):\n                        ret['success'] = False\n                        ret['comment'] = \"Failed to remove tags on vol.id {0}: {1}\".format(vol.id, remove)\n                        return ret\n    ret['changes'].update(changes) if changes['old'] or changes['new'] else None  # pylint: disable=W0106\n    return ret",
          "children": [
            {
              "type": "expression_statement",
              "start": {
                "row": 2,
                "column": 4
              },
              "end": {
                "row": 53,
                "column": 7
              },
              "text": "'''\n    .. versionadded:: 2016.11.0\n\n    tag_maps (list)\n        List of dicts of filters and tags, where 'filters' is a dict suitable for passing to the\n        'filters' argument of get_all_volumes() above, and 'tags' is a dict of tags to be set on\n        volumes (via create_tags/delete_tags) as matched by the given filters.  The filter syntax\n        is extended to permit passing either a list of volume_ids or an instance_name (with\n        instance_name being the Name tag of the instance to which the desired volumes are mapped).\n        Each mapping in the list is applied separately, so multiple sets of volumes can be all\n        tagged differently with one call to this function.  If filtering by instance Name, You may\n        additionally limit the instances matched by passing in a list of desired instance states.\n        The default set of states is ('pending', 'rebooting', 'running', 'stopping', 'stopped').\n\n    YAML example fragment:\n\n    .. code-block:: yaml\n\n        - filters:\n            attachment.instance_id: i-abcdef12\n          tags:\n            Name: dev-int-abcdef12.aws-foo.com\n        - filters:\n            attachment.device: /dev/sdf\n          tags:\n            ManagedSnapshots: true\n            BillingGroup: bubba.hotep@aws-foo.com\n          in_states:\n          - stopped\n          - terminated\n        - filters:\n            instance_name: prd-foo-01.aws-foo.com\n          tags:\n            Name: prd-foo-01.aws-foo.com\n            BillingGroup: infra-team@aws-foo.com\n        - filters:\n            volume_ids: [ vol-12345689, vol-abcdef12 ]\n          tags:\n            BillingGroup: infra-team@aws-foo.com\n\n    authoritative (bool)\n        If true, any existing tags on the matched volumes, and not explicitly requested here, will\n        be removed.\n\n    dry_run (bool)\n        If true, don't change anything, just return a dictionary describing any changes which\n        would have been applied.\n\n    returns (dict)\n        A dict describing status and any changes.\n\n    '''",
              "children": [
                {
                  "type": "string",
                  "start": {
                    "row": 2,
                    "column": 4
                  },
                  "end": {
                    "row": 53,
                    "column": 7
                  },
                  "text": "'''\n    .. versionadded:: 2016.11.0\n\n    tag_maps (list)\n        List of dicts of filters and tags, where 'filters' is a dict suitable for passing to the\n        'filters' argument of get_all_volumes() above, and 'tags' is a dict of tags to be set on\n        volumes (via create_tags/delete_tags) as matched by the given filters.  The filter syntax\n        is extended to permit passing either a list of volume_ids or an instance_name (with\n        instance_name being the Name tag of the instance to which the desired volumes are mapped).\n        Each mapping in the list is applied separately, so multiple sets of volumes can be all\n        tagged differently with one call to this function.  If filtering by instance Name, You may\n        additionally limit the instances matched by passing in a list of desired instance states.\n        The default set of states is ('pending', 'rebooting', 'running', 'stopping', 'stopped').\n\n    YAML example fragment:\n\n    .. code-block:: yaml\n\n        - filters:\n            attachment.instance_id: i-abcdef12\n          tags:\n            Name: dev-int-abcdef12.aws-foo.com\n        - filters:\n            attachment.device: /dev/sdf\n          tags:\n            ManagedSnapshots: true\n            BillingGroup: bubba.hotep@aws-foo.com\n          in_states:\n          - stopped\n          - terminated\n        - filters:\n            instance_name: prd-foo-01.aws-foo.com\n          tags:\n            Name: prd-foo-01.aws-foo.com\n            BillingGroup: infra-team@aws-foo.com\n        - filters:\n            volume_ids: [ vol-12345689, vol-abcdef12 ]\n          tags:\n            BillingGroup: infra-team@aws-foo.com\n\n    authoritative (bool)\n        If true, any existing tags on the matched volumes, and not explicitly requested here, will\n        be removed.\n\n    dry_run (bool)\n        If true, don't change anything, just return a dictionary describing any changes which\n        would have been applied.\n\n    returns (dict)\n        A dict describing status and any changes.\n\n    '''",
                  "children": [
                    {
                      "type": "string_start",
                      "start": {
                        "row": 2,
                        "column": 4
                      },
                      "end": {
                        "row": 2,
                        "column": 7
                      },
                      "text": "'''"
                    },
                    {
                      "type": "string_content",
                      "start": {
                        "row": 2,
                        "column": 7
                      },
                      "end": {
                        "row": 53,
                        "column": 4
                      },
                      "text": "\n    .. versionadded:: 2016.11.0\n\n    tag_maps (list)\n        List of dicts of filters and tags, where 'filters' is a dict suitable for passing to the\n        'filters' argument of get_all_volumes() above, and 'tags' is a dict of tags to be set on\n        volumes (via create_tags/delete_tags) as matched by the given filters.  The filter syntax\n        is extended to permit passing either a list of volume_ids or an instance_name (with\n        instance_name being the Name tag of the instance to which the desired volumes are mapped).\n        Each mapping in the list is applied separately, so multiple sets of volumes can be all\n        tagged differently with one call to this function.  If filtering by instance Name, You may\n        additionally limit the instances matched by passing in a list of desired instance states.\n        The default set of states is ('pending', 'rebooting', 'running', 'stopping', 'stopped').\n\n    YAML example fragment:\n\n    .. code-block:: yaml\n\n        - filters:\n            attachment.instance_id: i-abcdef12\n          tags:\n            Name: dev-int-abcdef12.aws-foo.com\n        - filters:\n            attachment.device: /dev/sdf\n          tags:\n            ManagedSnapshots: true\n            BillingGroup: bubba.hotep@aws-foo.com\n          in_states:\n          - stopped\n          - terminated\n        - filters:\n            instance_name: prd-foo-01.aws-foo.com\n          tags:\n            Name: prd-foo-01.aws-foo.com\n            BillingGroup: infra-team@aws-foo.com\n        - filters:\n            volume_ids: [ vol-12345689, vol-abcdef12 ]\n          tags:\n            BillingGroup: infra-team@aws-foo.com\n\n    authoritative (bool)\n        If true, any existing tags on the matched volumes, and not explicitly requested here, will\n        be removed.\n\n    dry_run (bool)\n        If true, don't change anything, just return a dictionary describing any changes which\n        would have been applied.\n\n    returns (dict)\n        A dict describing status and any changes.\n\n    "
                    },
                    {
                      "type": "string_end",
                      "start": {
                        "row": 53,
                        "column": 4
                      },
                      "end": {
                        "row": 53,
                        "column": 7
                      },
                      "text": "'''"
                    }
                  ]
                }
              ]
            },
            {
              "type": "expression_statement",
              "start": {
                "row": 54,
                "column": 4
              },
              "end": {
                "row": 54,
                "column": 57
              },
              "text": "ret = {'success': True, 'comment': '', 'changes': {}}",
              "children": [
                {
                  "type": "assignment",
                  "start": {
                    "row": 54,
                    "column": 4
                  },
                  "end": {
                    "row": 54,
                    "column": 57
                  },
                  "text": "ret = {'success': True, 'comment': '', 'changes': {}}",
                  "children": [
                    {
                      "type": "identifier",
                      "start": {
                        "row": 54,
                        "column": 4
                      },
                      "end": {
                        "row": 54,
                        "column": 7
                      },
                      "text": "ret"
                    },
                    {
                      "type": "=",
                      "start": {
                        "row": 54,
                        "column": 8
                      },
                      "end": {
                        "row": 54,
                        "column": 9
                      },
                      "text": "="
                    },
                    {
                      "type": "dictionary",
                      "start": {
                        "row": 54,
                        "column": 10
                      },
                      "end": {
                        "row": 54,
                        "column": 57
                      },
                      "text": "{'success': True, 'comment': '', 'changes': {}}",
                      "children": [
                        {
                          "type": "{",
                          "start": {
                            "row": 54,
                            "column": 10
                          },
                          "end": {
                            "row": 54,
                            "column": 11
                          },
                          "text": "{"
                        },
                        {
                          "type": "pair",
                          "start": {
                            "row": 54,
                            "column": 11
                          },
                          "end": {
                            "row": 54,
                            "column": 26
                          },
                          "text": "'success': True",
                          "children": [
                            {
                              "type": "string",
                              "start": {
                                "row": 54,
                                "column": 11
                              },
                              "end": {
                                "row": 54,
                                "column": 20
                              },
                              "text": "'success'",
                              "children": [
                                {
                                  "type": "string_start",
                                  "start": {
                                    "row": 54,
                                    "column": 11
                                  },
                                  "end": {
                                    "row": 54,
                                    "column": 12
                                  },
                                  "text": "'"
                                },
                                {
                                  "type": "string_content",
                                  "start": {
                                    "row": 54,
                                    "column": 12
                                  },
                                  "end": {
                                    "row": 54,
                                    "column": 19
                                  },
                                  "text": "success"
                                },
                                {
                                  "type": "string_end",
                                  "start": {
                                    "row": 54,
                                    "column": 19
                                  },
                                  "end": {
                                    "row": 54,
                                    "column": 20
                                  },
                                  "text": "'"
                                }
                              ]
                            },
                            {
                              "type": ":",
                              "start": {
                                "row": 54,
                                "column": 20
                              },
                              "end": {
                                "row": 54,
                                "column": 21
                              },
                              "text": ":"
                            },
                            {
                              "type": "true",
                              "start": {
                                "row": 54,
                                "column": 22
                              },
                              "end": {
                                "row": 54,
                                "column": 26
                              },
                              "text": "True"
                            }
                          ]
                        },
                        {
                          "type": ",",
                          "start": {
                            "row": 54,
                            "column": 26
                          },
                          "end": {
                            "row": 54,
                            "column": 27
                          },
                          "text": ","
                        },
                        {
                          "type": "pair",
                          "start": {
                            "row": 54,
                            "column": 28
                          },
                          "end": {
                            "row": 54,
                            "column": 41
                          },
                          "text": "'comment': ''",
                          "children": [
                            {
                              "type": "string",
                              "start": {
                                "row": 54,
                                "column": 28
                              },
                              "end": {
                                "row": 54,
                                "column": 37
                              },
                              "text": "'comment'",
                              "children": [
                                {
                                  "type": "string_start",
                                  "start": {
                                    "row": 54,
                                    "column": 28
                                  },
                                  "end": {
                                    "row": 54,
                                    "column": 29
                                  },
                                  "text": "'"
                                },
                                {
                                  "type": "string_content",
                                  "start": {
                                    "row": 54,
                                    "column": 29
                                  },
                                  "end": {
                                    "row": 54,
                                    "column": 36
                                  },
                                  "text": "comment"
                                },
                                {
                                  "type": "string_end",
                                  "start": {
                                    "row": 54,
                                    "column": 36
                                  },
                                  "end": {
                                    "row": 54,
                                    "column": 37
                                  },
                                  "text": "'"
                                }
                              ]
                            },
                            {
                              "type": ":",
                              "start": {
                                "row": 54,
                                "column": 37
                              },
                              "end": {
                                "row": 54,
                                "column": 38
                              },
                              "text": ":"
                            },
                            {
                              "type": "string",
                              "start": {
                                "row": 54,
                                "column": 39
                              },
                              "end": {
                                "row": 54,
                                "column": 41
                              },
                              "text": "''",
                              "children": [
                                {
                                  "type": "string_start",
                                  "start": {
                                    "row": 54,
                                    "column": 39
                                  },
                                  "end": {
                                    "row": 54,
                                    "column": 40
                                  },
                                  "text": "'"
                                },
                                {
                                  "type": "string_end",
                                  "start": {
                                    "row": 54,
                                    "column": 40
                                  },
                                  "end": {
                                    "row": 54,
                                    "column": 41
                                  },
                                  "text": "'"
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": ",",
                          "start": {
                            "row": 54,
                            "column": 41
                          },
                          "end": {
                            "row": 54,
                            "column": 42
                          },
                          "text": ","
                        },
                        {
                          "type": "pair",
                          "start": {
                            "row": 54,
                            "column": 43
                          },
                          "end": {
                            "row": 54,
                            "column": 56
                          },
                          "text": "'changes': {}",
                          "children": [
                            {
                              "type": "string",
                              "start": {
                                "row": 54,
                                "column": 43
                              },
                              "end": {
                                "row": 54,
                                "column": 52
                              },
                              "text": "'changes'",
                              "children": [
                                {
                                  "type": "string_start",
                                  "start": {
                                    "row": 54,
                                    "column": 43
                                  },
                                  "end": {
                                    "row": 54,
                                    "column": 44
                                  },
                                  "text": "'"
                                },
                                {
                                  "type": "string_content",
                                  "start": {
                                    "row": 54,
                                    "column": 44
                                  },
                                  "end": {
                                    "row": 54,
                                    "column": 51
                                  },
                                  "text": "changes"
                                },
                                {
                                  "type": "string_end",
                                  "start": {
                                    "row": 54,
                                    "column": 51
                                  },
                                  "end": {
                                    "row": 54,
                                    "column": 52
                                  },
                                  "text": "'"
                                }
                              ]
                            },
                            {
                              "type": ":",
                              "start": {
                                "row": 54,
                                "column": 52
                              },
                              "end": {
                                "row": 54,
                                "column": 53
                              },
                              "text": ":"
                            },
                            {
                              "type": "dictionary",
                              "start": {
                                "row": 54,
                                "column": 54
                              },
                              "end": {
                                "row": 54,
                                "column": 56
                              },
                              "text": "{}",
                              "children": [
                                {
                                  "type": "{",
                                  "start": {
                                    "row": 54,
                                    "column": 54
                                  },
                                  "end": {
                                    "row": 54,
                                    "column": 55
                                  },
                                  "text": "{"
                                },
                                {
                                  "type": "}",
                                  "start": {
                                    "row": 54,
                                    "column": 55
                                  },
                                  "end": {
                                    "row": 54,
                                    "column": 56
                                  },
                                  "text": "}"
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": "}",
                          "start": {
                            "row": 54,
                            "column": 56
                          },
                          "end": {
                            "row": 54,
                            "column": 57
                          },
                          "text": "}"
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "type": "expression_statement",
              "start": {
                "row": 55,
                "column": 4
              },
              "end": {
                "row": 55,
                "column": 79
              },
              "text": "running_states = ('pending', 'rebooting', 'running', 'stopping', 'stopped')",
              "children": [
                {
                  "type": "assignment",
                  "start": {
                    "row": 55,
                    "column": 4
                  },
                  "end": {
                    "row": 55,
                    "column": 79
                  },
                  "text": "running_states = ('pending', 'rebooting', 'running', 'stopping', 'stopped')",
                  "children": [
                    {
                      "type": "identifier",
                      "start": {
                        "row": 55,
                        "column": 4
                      },
                      "end": {
                        "row": 55,
                        "column": 18
                      },
                      "text": "running_states"
                    },
                    {
                      "type": "=",
                      "start": {
                        "row": 55,
                        "column": 19
                      },
                      "end": {
                        "row": 55,
                        "column": 20
                      },
                      "text": "="
                    },
                    {
                      "type": "tuple",
                      "start": {
                        "row": 55,
                        "column": 21
                      },
                      "end": {
                        "row": 55,
                        "column": 79
                      },
                      "text": "('pending', 'rebooting', 'running', 'stopping', 'stopped')",
                      "children": [
                        {
                          "type": "(",
                          "start": {
                            "row": 55,
                            "column": 21
                          },
                          "end": {
                            "row": 55,
                            "column": 22
                          },
                          "text": "("
                        },
                        {
                          "type": "string",
                          "start": {
                            "row": 55,
                            "column": 22
                          },
                          "end": {
                            "row": 55,
                            "column": 31
                          },
                          "text": "'pending'",
                          "children": [
                            {
                              "type": "string_start",
                              "start": {
                                "row": 55,
                                "column": 22
                              },
                              "end": {
                                "row": 55,
                                "column": 23
                              },
                              "text": "'"
                            },
                            {
                              "type": "string_content",
                              "start": {
                                "row": 55,
                                "column": 23
                              },
                              "end": {
                                "row": 55,
                                "column": 30
                              },
                              "text": "pending"
                            },
                            {
                              "type": "string_end",
                              "start": {
                                "row": 55,
                                "column": 30
                              },
                              "end": {
                                "row": 55,
                                "column": 31
                              },
                              "text": "'"
                            }
                          ]
                        },
                        {
                          "type": ",",
                          "start": {
                            "row": 55,
                            "column": 31
                          },
                          "end": {
                            "row": 55,
                            "column": 32
                          },
                          "text": ","
                        },
                        {
                          "type": "string",
                          "start": {
                            "row": 55,
                            "column": 33
                          },
                          "end": {
                            "row": 55,
                            "column": 44
                          },
                          "text": "'rebooting'",
                          "children": [
                            {
                              "type": "string_start",
                              "start": {
                                "row": 55,
                                "column": 33
                              },
                              "end": {
                                "row": 55,
                                "column": 34
                              },
                              "text": "'"
                            },
                            {
                              "type": "string_content",
                              "start": {
                                "row": 55,
                                "column": 34
                              },
                              "end": {
                                "row": 55,
                                "column": 43
                              },
                              "text": "rebooting"
                            },
                            {
                              "type": "string_end",
                              "start": {
                                "row": 55,
                                "column": 43
                              },
                              "end": {
                                "row": 55,
                                "column": 44
                              },
                              "text": "'"
                            }
                          ]
                        },
                        {
                          "type": ",",
                          "start": {
                            "row": 55,
                            "column": 44
                          },
                          "end": {
                            "row": 55,
                            "column": 45
                          },
                          "text": ","
                        },
                        {
                          "type": "string",
                          "start": {
                            "row": 55,
                            "column": 46
                          },
                          "end": {
                            "row": 55,
                            "column": 55
                          },
                          "text": "'running'",
                          "children": [
                            {
                              "type": "string_start",
                              "start": {
                                "row": 55,
                                "column": 46
                              },
                              "end": {
                                "row": 55,
                                "column": 47
                              },
                              "text": "'"
                            },
                            {
                              "type": "string_content",
                              "start": {
                                "row": 55,
                                "column": 47
                              },
                              "end": {
                                "row": 55,
                                "column": 54
                              },
                              "text": "running"
                            },
                            {
                              "type": "string_end",
                              "start": {
                                "row": 55,
                                "column": 54
                              },
                              "end": {
                                "row": 55,
                                "column": 55
                              },
                              "text": "'"
                            }
                          ]
                        },
                        {
                          "type": ",",
                          "start": {
                            "row": 55,
                            "column": 55
                          },
                          "end": {
                            "row": 55,
                            "column": 56
                          },
                          "text": ","
                        },
                        {
                          "type": "string",
                          "start": {
                            "row": 55,
                            "column": 57
                          },
                          "end": {
                            "row": 55,
                            "column": 67
                          },
                          "text": "'stopping'",
                          "children": [
                            {
                              "type": "string_start",
                              "start": {
                                "row": 55,
                                "column": 57
                              },
                              "end": {
                                "row": 55,
                                "column": 58
                              },
                              "text": "'"
                            },
                            {
                              "type": "string_content",
                              "start": {
                                "row": 55,
                                "column": 58
                              },
                              "end": {
                                "row": 55,
                                "column": 66
                              },
                              "text": "stopping"
                            },
                            {
                              "type": "string_end",
                              "start": {
                                "row": 55,
                                "column": 66
                              },
                              "end": {
                                "row": 55,
                                "column": 67
                              },
                              "text": "'"
                            }
                          ]
                        },
                        {
                          "type": ",",
                          "start": {
                            "row": 55,
                            "column": 67
                          },
                          "end": {
                            "row": 55,
                            "column": 68
                          },
                          "text": ","
                        },
                        {
                          "type": "string",
                          "start": {
                            "row": 55,
                            "column": 69
                          },
                          "end": {
                            "row": 55,
                            "column": 78
                          },
                          "text": "'stopped'",
                          "children": [
                            {
                              "type": "string_start",
                              "start": {
                                "row": 55,
                                "column": 69
                              },
                              "end": {
                                "row": 55,
                                "column": 70
                              },
                              "text": "'"
                            },
                            {
                              "type": "string_content",
                              "start": {
                                "row": 55,
                                "column": 70
                              },
                              "end": {
                                "row": 55,
                                "column": 77
                              },
                              "text": "stopped"
                            },
                            {
                              "type": "string_end",
                              "start": {
                                "row": 55,
                                "column": 77
                              },
                              "end": {
                                "row": 55,
                                "column": 78
                              },
                              "text": "'"
                            }
                          ]
                        },
                        {
                          "type": ")",
                          "start": {
                            "row": 55,
                            "column": 78
                          },
                          "end": {
                            "row": 55,
                            "column": 79
                          },
                          "text": ")"
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "type": "comment",
              "start": {
                "row": 56,
                "column": 4
              },
              "end": {
                "row": 56,
                "column": 94
              },
              "text": "### First creeate a dictionary mapping all changes for a given volume to it's volume ID..."
            },
            {
              "type": "expression_statement",
              "start": {
                "row": 57,
                "column": 4
              },
              "end": {
                "row": 57,
                "column": 17
              },
              "text": "tag_sets = {}",
              "children": [
                {
                  "type": "assignment",
                  "start": {
                    "row": 57,
                    "column": 4
                  },
                  "end": {
                    "row": 57,
                    "column": 17
                  },
                  "text": "tag_sets = {}",
                  "children": [
                    {
                      "type": "identifier",
                      "start": {
                        "row": 57,
                        "column": 4
                      },
                      "end": {
                        "row": 57,
                        "column": 12
                      },
                      "text": "tag_sets"
                    },
                    {
                      "type": "=",
                      "start": {
                        "row": 57,
                        "column": 13
                      },
                      "end": {
                        "row": 57,
                        "column": 14
                      },
                      "text": "="
                    },
                    {
                      "type": "dictionary",
                      "start": {
                        "row": 57,
                        "column": 15
                      },
                      "end": {
                        "row": 57,
                        "column": 17
                      },
                      "text": "{}",
                      "children": [
                        {
                          "type": "{",
                          "start": {
                            "row": 57,
                            "column": 15
                          },
                          "end": {
                            "row": 57,
                            "column": 16
                          },
                          "text": "{"
                        },
                        {
                          "type": "}",
                          "start": {
                            "row": 57,
                            "column": 16
                          },
                          "end": {
                            "row": 57,
                            "column": 17
                          },
                          "text": "}"
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "type": "for_statement",
              "start": {
                "row": 58,
                "column": 4
              },
              "end": {
                "row": 86,
                "column": 120
              },
              "text": "for tm in tag_maps:\n        filters = dict(tm.get('filters', {}))\n        tags = dict(tm.get('tags', {}))\n        args = {'return_objs': True, 'region': region, 'key': key, 'keyid': keyid, 'profile': profile}\n        new_filters = {}\n        log.debug('got filters: %s', filters)\n        instance_id = None\n        in_states = tm.get('in_states', running_states)\n        try:\n            for k, v in filters.items():\n                if k == 'volume_ids':\n                    args['volume_ids'] = v\n                elif k == 'instance_name':\n                    instance_id = get_id(name=v, in_states=in_states, region=region, key=key,\n                                         keyid=keyid, profile=profile)\n                    if not instance_id:\n                        msg = \"Couldn't resolve instance Name {0} to an ID.\".format(v)\n                        raise CommandExecutionError(msg)\n                    new_filters['attachment.instance_id'] = instance_id\n                else:\n                    new_filters[k] = v\n        except CommandExecutionError as e:\n            log.warning(e)\n            continue  # Hmme, abort or do what we can...?  Guess the latter for now.\n        args['filters'] = new_filters\n        volumes = get_all_volumes(**args)\n        log.debug('got volume list: %s', volumes)\n        for vol in volumes:\n            tag_sets.setdefault(vol.id.replace('-', '_'), {'vol': vol, 'tags': tags.copy()})['tags'].update(tags.copy())",
              "children": [
                {
                  "type": "for",
                  "start": {
                    "row": 58,
                    "column": 4
                  },
                  "end": {
                    "row": 58,
                    "column": 7
                  },
                  "text": "for"
                },
                {
                  "type": "identifier",
                  "start": {
                    "row": 58,
                    "column": 8
                  },
                  "end": {
                    "row": 58,
                    "column": 10
                  },
                  "text": "tm"
                },
                {
                  "type": "in",
                  "start": {
                    "row": 58,
                    "column": 11
                  },
                  "end": {
                    "row": 58,
                    "column": 13
                  },
                  "text": "in"
                },
                {
                  "type": "identifier",
                  "start": {
                    "row": 58,
                    "column": 14
                  },
                  "end": {
                    "row": 58,
                    "column": 22
                  },
                  "text": "tag_maps"
                },
                {
                  "type": ":",
                  "start": {
                    "row": 58,
                    "column": 22
                  },
                  "end": {
                    "row": 58,
                    "column": 23
                  },
                  "text": ":"
                },
                {
                  "type": "block",
                  "start": {
                    "row": 59,
                    "column": 8
                  },
                  "end": {
                    "row": 86,
                    "column": 120
                  },
                  "text": "filters = dict(tm.get('filters', {}))\n        tags = dict(tm.get('tags', {}))\n        args = {'return_objs': True, 'region': region, 'key': key, 'keyid': keyid, 'profile': profile}\n        new_filters = {}\n        log.debug('got filters: %s', filters)\n        instance_id = None\n        in_states = tm.get('in_states', running_states)\n        try:\n            for k, v in filters.items():\n                if k == 'volume_ids':\n                    args['volume_ids'] = v\n                elif k == 'instance_name':\n                    instance_id = get_id(name=v, in_states=in_states, region=region, key=key,\n                                         keyid=keyid, profile=profile)\n                    if not instance_id:\n                        msg = \"Couldn't resolve instance Name {0} to an ID.\".format(v)\n                        raise CommandExecutionError(msg)\n                    new_filters['attachment.instance_id'] = instance_id\n                else:\n                    new_filters[k] = v\n        except CommandExecutionError as e:\n            log.warning(e)\n            continue  # Hmme, abort or do what we can...?  Guess the latter for now.\n        args['filters'] = new_filters\n        volumes = get_all_volumes(**args)\n        log.debug('got volume list: %s', volumes)\n        for vol in volumes:\n            tag_sets.setdefault(vol.id.replace('-', '_'), {'vol': vol, 'tags': tags.copy()})['tags'].update(tags.copy())",
                  "children": [
                    {
                      "type": "expression_statement",
                      "start": {
                        "row": 59,
                        "column": 8
                      },
                      "end": {
                        "row": 59,
                        "column": 45
                      },
                      "text": "filters = dict(tm.get('filters', {}))",
                      "children": [
                        {
                          "type": "assignment",
                          "start": {
                            "row": 59,
                            "column": 8
                          },
                          "end": {
                            "row": 59,
                            "column": 45
                          },
                          "text": "filters = dict(tm.get('filters', {}))",
                          "children": [
                            {
                              "type": "identifier",
                              "start": {
                                "row": 59,
                                "column": 8
                              },
                              "end": {
                                "row": 59,
                                "column": 15
                              },
                              "text": "filters"
                            },
                            {
                              "type": "=",
                              "start": {
                                "row": 59,
                                "column": 16
                              },
                              "end": {
                                "row": 59,
                                "column": 17
                              },
                              "text": "="
                            },
                            {
                              "type": "call",
                              "start": {
                                "row": 59,
                                "column": 18
                              },
                              "end": {
                                "row": 59,
                                "column": 45
                              },
                              "text": "dict(tm.get('filters', {}))",
                              "children": [
                                {
                                  "type": "identifier",
                                  "start": {
                                    "row": 59,
                                    "column": 18
                                  },
                                  "end": {
                                    "row": 59,
                                    "column": 22
                                  },
                                  "text": "dict"
                                },
                                {
                                  "type": "argument_list",
                                  "start": {
                                    "row": 59,
                                    "column": 22
                                  },
                                  "end": {
                                    "row": 59,
                                    "column": 45
                                  },
                                  "text": "(tm.get('filters', {}))",
                                  "children": [
                                    {
                                      "type": "(",
                                      "start": {
                                        "row": 59,
                                        "column": 22
                                      },
                                      "end": {
                                        "row": 59,
                                        "column": 23
                                      },
                                      "text": "("
                                    },
                                    {
                                      "type": "call",
                                      "start": {
                                        "row": 59,
                                        "column": 23
                                      },
                                      "end": {
                                        "row": 59,
                                        "column": 44
                                      },
                                      "text": "tm.get('filters', {})",
                                      "children": [
                                        {
                                          "type": "attribute",
                                          "start": {
                                            "row": 59,
                                            "column": 23
                                          },
                                          "end": {
                                            "row": 59,
                                            "column": 29
                                          },
                                          "text": "tm.get",
                                          "children": [
                                            {
                                              "type": "identifier",
                                              "start": {
                                                "row": 59,
                                                "column": 23
                                              },
                                              "end": {
                                                "row": 59,
                                                "column": 25
                                              },
                                              "text": "tm"
                                            },
                                            {
                                              "type": ".",
                                              "start": {
                                                "row": 59,
                                                "column": 25
                                              },
                                              "end": {
                                                "row": 59,
                                                "column": 26
                                              },
                                              "text": "."
                                            },
                                            {
                                              "type": "identifier",
                                              "start": {
                                                "row": 59,
                                                "column": 26
                                              },
                                              "end": {
                                                "row": 59,
                                                "column": 29
                                              },
                                              "text": "get"
                                            }
                                          ]
                                        },
                                        {
                                          "type": "argument_list",
                                          "start": {
                                            "row": 59,
                                            "column": 29
                                          },
                                          "end": {
                                            "row": 59,
                                            "column": 44
                                          },
                                          "text": "('filters', {})",
                                          "children": [
                                            {
                                              "type": "(",
                                              "start": {
                                                "row": 59,
                                                "column": 29
                                              },
                                              "end": {
                                                "row": 59,
                                                "column": 30
                                              },
                                              "text": "("
                                            },
                                            {
                                              "type": "string",
                                              "start": {
                                                "row": 59,
                                                "column": 30
                                              },
                                              "end": {
                                                "row": 59,
                                                "column": 39
                                              },
                                              "text": "'filters'",
                                              "children": [
                                                {
                                                  "type": "string_start",
                                                  "start": {
                                                    "row": 59,
                                                    "column": 30
                                                  },
                                                  "end": {
                                                    "row": 59,
                                                    "column": 31
                                                  },
                                                  "text": "'"
                                                },
                                                {
                                                  "type": "string_content",
                                                  "start": {
                                                    "row": 59,
                                                    "column": 31
                                                  },
                                                  "end": {
                                                    "row": 59,
                                                    "column": 38
                                                  },
                                                  "text": "filters"
                                                },
                                                {
                                                  "type": "string_end",
                                                  "start": {
                                                    "row": 59,
                                                    "column": 38
                                                  },
                                                  "end": {
                                                    "row": 59,
                                                    "column": 39
                                                  },
                                                  "text": "'"
                                                }
                                              ]
                                            },
                                            {
                                              "type": ",",
                                              "start": {
                                                "row": 59,
                                                "column": 39
                                              },
                                              "end": {
                                                "row": 59,
                                                "column": 40
                                              },
                                              "text": ","
                                            },
                                            {
                                              "type": "dictionary",
                                              "start": {
                                                "row": 59,
                                                "column": 41
                                              },
                                              "end": {
                                                "row": 59,
                                                "column": 43
                                              },
                                              "text": "{}",
                                              "children": [
                                                {
                                                  "type": "{",
                                                  "start": {
                                                    "row": 59,
                                                    "column": 41
                                                  },
                                                  "end": {
                                                    "row": 59,
                                                    "column": 42
                                                  },
                                                  "text": "{"
                                                },
                                                {
                                                  "type": "}",
                                                  "start": {
                                                    "row": 59,
                                                    "column": 42
                                                  },
                                                  "end": {
                                                    "row": 59,
                                                    "column": 43
                                                  },
                                                  "text": "}"
                                                }
                                              ]
                                            },
                                            {
                                              "type": ")",
                                              "start": {
                                                "row": 59,
                                                "column": 43
                                              },
                                              "end": {
                                                "row": 59,
                                                "column": 44
                                              },
                                              "text": ")"
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "type": ")",
                                      "start": {
                                        "row": 59,
                                        "column": 44
                                      },
                                      "end": {
                                        "row": 59,
                                        "column": 45
                                      },
                                      "text": ")"
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "type": "expression_statement",
                      "start": {
                        "row": 60,
                        "column": 8
                      },
                      "end": {
                        "row": 60,
                        "column": 39
                      },
                      "text": "tags = dict(tm.get('tags', {}))",
                      "children": [
                        {
                          "type": "assignment",
                          "start": {
                            "row": 60,
                            "column": 8
                          },
                          "end": {
                            "row": 60,
                            "column": 39
                          },
                          "text": "tags = dict(tm.get('tags', {}))",
                          "children": [
                            {
                              "type": "identifier",
                              "start": {
                                "row": 60,
                                "column": 8
                              },
                              "end": {
                                "row": 60,
                                "column": 12
                              },
                              "text": "tags"
                            },
                            {
                              "type": "=",
                              "start": {
                                "row": 60,
                                "column": 13
                              },
                              "end": {
                                "row": 60,
                                "column": 14
                              },
                              "text": "="
                            },
                            {
                              "type": "call",
                              "start": {
                                "row": 60,
                                "column": 15
                              },
                              "end": {
                                "row": 60,
                                "column": 39
                              },
                              "text": "dict(tm.get('tags', {}))",
                              "children": [
                                {
                                  "type": "identifier",
                                  "start": {
                                    "row": 60,
                                    "column": 15
                                  },
                                  "end": {
                                    "row": 60,
                                    "column": 19
                                  },
                                  "text": "dict"
                                },
                                {
                                  "type": "argument_list",
                                  "start": {
                                    "row": 60,
                                    "column": 19
                                  },
                                  "end": {
                                    "row": 60,
                                    "column": 39
                                  },
                                  "text": "(tm.get('tags', {}))",
                                  "children": [
                                    {
                                      "type": "(",
                                      "start": {
                                        "row": 60,
                                        "column": 19
                                      },
                                      "end": {
                                        "row": 60,
                                        "column": 20
                                      },
                                      "text": "("
                                    },
                                    {
                                      "type": "call",
                                      "start": {
                                        "row": 60,
                                        "column": 20
                                      },
                                      "end": {
                                        "row": 60,
                                        "column": 38
                                      },
                                      "text": "tm.get('tags', {})",
                                      "children": [
                                        {
                                          "type": "attribute",
                                          "start": {
                                            "row": 60,
                                            "column": 20
                                          },
                                          "end": {
                                            "row": 60,
                                            "column": 26
                                          },
                                          "text": "tm.get",
                                          "children": [
                                            {
                                              "type": "identifier",
                                              "start": {
                                                "row": 60,
                                                "column": 20
                                              },
                                              "end": {
                                                "row": 60,
                                                "column": 22
                                              },
                                              "text": "tm"
                                            },
                                            {
                                              "type": ".",
                                              "start": {
                                                "row": 60,
                                                "column": 22
                                              },
                                              "end": {
                                                "row": 60,
                                                "column": 23
                                              },
                                              "text": "."
                                            },
                                            {
                                              "type": "identifier",
                                              "start": {
                                                "row": 60,
                                                "column": 23
                                              },
                                              "end": {
                                                "row": 60,
                                                "column": 26
                                              },
                                              "text": "get"
                                            }
                                          ]
                                        },
                                        {
                                          "type": "argument_list",
                                          "start": {
                                            "row": 60,
                                            "column": 26
                                          },
                                          "end": {
                                            "row": 60,
                                            "column": 38
                                          },
                                          "text": "('tags', {})",
                                          "children": [
                                            {
                                              "type": "(",
                                              "start": {
                                                "row": 60,
                                                "column": 26
                                              },
                                              "end": {
                                                "row": 60,
                                                "column": 27
                                              },
                                              "text": "("
                                            },
                                            {
                                              "type": "string",
                                              "start": {
                                                "row": 60,
                                                "column": 27
                                              },
                                              "end": {
                                                "row": 60,
                                                "column": 33
                                              },
                                              "text": "'tags'",
                                              "children": [
                                                {
                                                  "type": "string_start",
                                                  "start": {
                                                    "row": 60,
                                                    "column": 27
                                                  },
                                                  "end": {
                                                    "row": 60,
                                                    "column": 28
                                                  },
                                                  "text": "'"
                                                },
                                                {
                                                  "type": "string_content",
                                                  "start": {
                                                    "row": 60,
                                                    "column": 28
                                                  },
                                                  "end": {
                                                    "row": 60,
                                                    "column": 32
                                                  },
                                                  "text": "tags"
                                                },
                                                {
                                                  "type": "string_end",
                                                  "start": {
                                                    "row": 60,
                                                    "column": 32
                                                  },
                                                  "end": {
                                                    "row": 60,
                                                    "column": 33
                                                  },
                                                  "text": "'"
                                                }
                                              ]
                                            },
                                            {
                                              "type": ",",
                                              "start": {
                                                "row": 60,
                                                "column": 33
                                              },
                                              "end": {
                                                "row": 60,
                                                "column": 34
                                              },
                                              "text": ","
                                            },
                                            {
                                              "type": "dictionary",
                                              "start": {
                                                "row": 60,
                                                "column": 35
                                              },
                                              "end": {
                                                "row": 60,
                                                "column": 37
                                              },
                                              "text": "{}",
                                              "children": [
                                                {
                                                  "type": "{",
                                                  "start": {
                                                    "row": 60,
                                                    "column": 35
                                                  },
                                                  "end": {
                                                    "row": 60,
                                                    "column": 36
                                                  },
                                                  "text": "{"
                                                },
                                                {
                                                  "type": "}",
                                                  "start": {
                                                    "row": 60,
                                                    "column": 36
                                                  },
                                                  "end": {
                                                    "row": 60,
                                                    "column": 37
                                                  },
                                                  "text": "}"
                                                }
                                              ]
                                            },
                                            {
                                              "type": ")",
                                              "start": {
                                                "row": 60,
                                                "column": 37
                                              },
                                              "end": {
                                                "row": 60,
                                                "column": 38
                                              },
                                              "text": ")"
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "type": ")",
                                      "start": {
                                        "row": 60,
                                        "column": 38
                                      },
                                      "end": {
                                        "row": 60,
                                        "column": 39
                                      },
                                      "text": ")"
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "type": "expression_statement",
                      "start": {
                        "row": 61,
                        "column": 8
                      },
                      "end": {
                        "row": 61,
                        "column": 102
                      },
                      "text": "args = {'return_objs': True, 'region': region, 'key': key, 'keyid': keyid, 'profile': profile}",
                      "children": [
                        {
                          "type": "assignment",
                          "start": {
                            "row": 61,
                            "column": 8
                          },
                          "end": {
                            "row": 61,
                            "column": 102
                          },
                          "text": "args = {'return_objs': True, 'region': region, 'key': key, 'keyid': keyid, 'profile': profile}",
                          "children": [
                            {
                              "type": "identifier",
                              "start": {
                                "row": 61,
                                "column": 8
                              },
                              "end": {
                                "row": 61,
                                "column": 12
                              },
                              "text": "args"
                            },
                            {
                              "type": "=",
                              "start": {
                                "row": 61,
                                "column": 13
                              },
                              "end": {
                                "row": 61,
                                "column": 14
                              },
                              "text": "="
                            },
                            {
                              "type": "dictionary",
                              "start": {
                                "row": 61,
                                "column": 15
                              },
                              "end": {
                                "row": 61,
                                "column": 102
                              },
                              "text": "{'return_objs': True, 'region': region, 'key': key, 'keyid': keyid, 'profile': profile}",
                              "children": [
                                {
                                  "type": "{",
                                  "start": {
                                    "row": 61,
                                    "column": 15
                                  },
                                  "end": {
                                    "row": 61,
                                    "column": 16
                                  },
                                  "text": "{"
                                },
                                {
                                  "type": "pair",
                                  "start": {
                                    "row": 61,
                                    "column": 16
                                  },
                                  "end": {
                                    "row": 61,
                                    "column": 35
                                  },
                                  "text": "'return_objs': True",
                                  "children": [
                                    {
                                      "type": "string",
                                      "start": {
                                        "row": 61,
                                        "column": 16
                                      },
                                      "end": {
                                        "row": 61,
                                        "column": 29
                                      },
                                      "text": "'return_objs'",
                                      "children": [
                                        {
                                          "type": "string_start",
                                          "start": {
                                            "row": 61,
                                            "column": 16
                                          },
                                          "end": {
                                            "row": 61,
                                            "column": 17
                                          },
                                          "text": "'"
                                        },
                                        {
                                          "type": "string_content",
                                          "start": {
                                            "row": 61,
                                            "column": 17
                                          },
                                          "end": {
                                            "row": 61,
                                            "column": 28
                                          },
                                          "text": "return_objs"
                                        },
                                        {
                                          "type": "string_end",
                                          "start": {
                                            "row": 61,
                                            "column": 28
                                          },
                                          "end": {
                                            "row": 61,
                                            "column": 29
                                          },
                                          "text": "'"
                                        }
                                      ]
                                    },
                                    {
                                      "type": ":",
                                      "start": {
                                        "row": 61,
                                        "column": 29
                                      },
                                      "end": {
                                        "row": 61,
                                        "column": 30
                                      },
                                      "text": ":"
                                    },
                                    {
                                      "type": "true",
                                      "start": {
                                        "row": 61,
                                        "column": 31
                                      },
                                      "end": {
                                        "row": 61,
                                        "column": 35
                                      },
                                      "text": "True"
                                    }
                                  ]
                                },
                                {
                                  "type": ",",
                                  "start": {
                                    "row": 61,
                                    "column": 35
                                  },
                                  "end": {
                                    "row": 61,
                                    "column": 36
                                  },
                                  "text": ","
                                },
                                {
                                  "type": "pair",
                                  "start": {
                                    "row": 61,
                                    "column": 37
                                  },
                                  "end": {
                                    "row": 61,
                                    "column": 53
                                  },
                                  "text": "'region': region",
                                  "children": [
                                    {
                                      "type": "string",
                                      "start": {
                                        "row": 61,
                                        "column": 37
                                      },
                                      "end": {
                                        "row": 61,
                                        "column": 45
                                      },
                                      "text": "'region'",
                                      "children": [
                                        {
                                          "type": "string_start",
                                          "start": {
                                            "row": 61,
                                            "column": 37
                                          },
                                          "end": {
                                            "row": 61,
                                            "column": 38
                                          },
                                          "text": "'"
                                        },
                                        {
                                          "type": "string_content",
                                          "start": {
                                            "row": 61,
                                            "column": 38
                                          },
                                          "end": {
                                            "row": 61,
                                            "column": 44
                                          },
                                          "text": "region"
                                        },
                                        {
                                          "type": "string_end",
                                          "start": {
                                            "row": 61,
                                            "column": 44
                                          },
                                          "end": {
                                            "row": 61,
                                            "column": 45
                                          },
                                          "text": "'"
                                        }
                                      ]
                                    },
                                    {
                                      "type": ":",
                                      "start": {
                                        "row": 61,
                                        "column": 45
                                      },
                                      "end": {
                                        "row": 61,
                                        "column": 46
                                      },
                                      "text": ":"
                                    },
                                    {
                                      "type": "identifier",
                                      "start": {
                                        "row": 61,
                                        "column": 47
                                      },
                                      "end": {
                                        "row": 61,
                                        "column": 53
                                      },
                                      "text": "region"
                                    }
                                  ]
                                },
                                {
                                  "type": ",",
                                  "start": {
                                    "row": 61,
                                    "column": 53
                                  },
                                  "end": {
                                    "row": 61,
                                    "column": 54
                                  },
                                  "text": ","
                                },
                                {
                                  "type": "pair",
                                  "start": {
                                    "row": 61,
                                    "column": 55
                                  },
                                  "end": {
                                    "row": 61,
                                    "column": 65
                                  },
                                  "text": "'key': key",
                                  "children": [
                                    {
                                      "type": "string",
                                      "start": {
                                        "row": 61,
                                        "column": 55
                                      },
                                      "end": {
                                        "row": 61,
                                        "column": 60
                                      },
                                      "text": "'key'",
                                      "children": [
                                        {
                                          "type": "string_start",
                                          "start": {
                                            "row": 61,
                                            "column": 55
                                          },
                                          "end": {
                                            "row": 61,
                                            "column": 56
                                          },
                                          "text": "'"
                                        },
                                        {
                                          "type": "string_content",
                                          "start": {
                                            "row": 61,
                                            "column": 56
                                          },
                                          "end": {
                                            "row": 61,
                                            "column": 59
                                          },
                                          "text": "key"
                                        },
                                        {
                                          "type": "string_end",
                                          "start": {
                                            "row": 61,
                                            "column": 59
                                          },
                                          "end": {
                                            "row": 61,
                                            "column": 60
                                          },
                                          "text": "'"
                                        }
                                      ]
                                    },
                                    {
                                      "type": ":",
                                      "start": {
                                        "row": 61,
                                        "column": 60
                                      },
                                      "end": {
                                        "row": 61,
                                        "column": 61
                                      },
                                      "text": ":"
                                    },
                                    {
                                      "type": "identifier",
                                      "start": {
                                        "row": 61,
                                        "column": 62
                                      },
                                      "end": {
                                        "row": 61,
                                        "column": 65
                                      },
                                      "text": "key"
                                    }
                                  ]
                                },
                                {
                                  "type": ",",
                                  "start": {
                                    "row": 61,
                                    "column": 65
                                  },
                                  "end": {
                                    "row": 61,
                                    "column": 66
                                  },
                                  "text": ","
                                },
                                {
                                  "type": "pair",
                                  "start": {
                                    "row": 61,
                                    "column": 67
                                  },
                                  "end": {
                                    "row": 61,
                                    "column": 81
                                  },
                                  "text": "'keyid': keyid",
                                  "children": [
                                    {
                                      "type": "string",
                                      "start": {
                                        "row": 61,
                                        "column": 67
                                      },
                                      "end": {
                                        "row": 61,
                                        "column": 74
                                      },
                                      "text": "'keyid'",
                                      "children": [
                                        {
                                          "type": "string_start",
                                          "start": {
                                            "row": 61,
                                            "column": 67
                                          },
                                          "end": {
                                            "row": 61,
                                            "column": 68
                                          },
                                          "text": "'"
                                        },
                                        {
                                          "type": "string_content",
                                          "start": {
                                            "row": 61,
                                            "column": 68
                                          },
                                          "end": {
                                            "row": 61,
                                            "column": 73
                                          },
                                          "text": "keyid"
                                        },
                                        {
                                          "type": "string_end",
                                          "start": {
                                            "row": 61,
                                            "column": 73
                                          },
                                          "end": {
                                            "row": 61,
                                            "column": 74
                                          },
                                          "text": "'"
                                        }
                                      ]
                                    },
                                    {
                                      "type": ":",
                                      "start": {
                                        "row": 61,
                                        "column": 74
                                      },
                                      "end": {
                                        "row": 61,
                                        "column": 75
                                      },
                                      "text": ":"
                                    },
                                    {
                                      "type": "identifier",
                                      "start": {
                                        "row": 61,
                                        "column": 76
                                      },
                                      "end": {
                                        "row": 61,
                                        "column": 81
                                      },
                                      "text": "keyid"
                                    }
                                  ]
                                },
                                {
                                  "type": ",",
                                  "start": {
                                    "row": 61,
                                    "column": 81
                                  },
                                  "end": {
                                    "row": 61,
                                    "column": 82
                                  },
                                  "text": ","
                                },
                                {
                                  "type": "pair",
                                  "start": {
                                    "row": 61,
                                    "column": 83
                                  },
                                  "end": {
                                    "row": 61,
                                    "column": 101
                                  },
                                  "text": "'profile': profile",
                                  "children": [
                                    {
                                      "type": "string",
                                      "start": {
                                        "row": 61,
                                        "column": 83
                                      },
                                      "end": {
                                        "row": 61,
                                        "column": 92
                                      },
                                      "text": "'profile'",
                                      "children": [
                                        {
                                          "type": "string_start",
                                          "start": {
                                            "row": 61,
                                            "column": 83
                                          },
                                          "end": {
                                            "row": 61,
                                            "column": 84
                                          },
                                          "text": "'"
                                        },
                                        {
                                          "type": "string_content",
                                          "start": {
                                            "row": 61,
                                            "column": 84
                                          },
                                          "end": {
                                            "row": 61,
                                            "column": 91
                                          },
                                          "text": "profile"
                                        },
                                        {
                                          "type": "string_end",
                                          "start": {
                                            "row": 61,
                                            "column": 91
                                          },
                                          "end": {
                                            "row": 61,
                                            "column": 92
                                          },
                                          "text": "'"
                                        }
                                      ]
                                    },
                                    {
                                      "type": ":",
                                      "start": {
                                        "row": 61,
                                        "column": 92
                                      },
                                      "end": {
                                        "row": 61,
                                        "column": 93
                                      },
                                      "text": ":"
                                    },
                                    {
                                      "type": "identifier",
                                      "start": {
                                        "row": 61,
                                        "column": 94
                                      },
                                      "end": {
                                        "row": 61,
                                        "column": 101
                                      },
                                      "text": "profile"
                                    }
                                  ]
                                },
                                {
                                  "type": "}",
                                  "start": {
                                    "row": 61,
                                    "column": 101
                                  },
                                  "end": {
                                    "row": 61,
                                    "column": 102
                                  },
                                  "text": "}"
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "type": "expression_statement",
                      "start": {
                        "row": 62,
                        "column": 8
                      },
                      "end": {
                        "row": 62,
                        "column": 24
                      },
                      "text": "new_filters = {}",
                      "children": [
                        {
                          "type": "assignment",
                          "start": {
                            "row": 62,
                            "column": 8
                          },
                          "end": {
                            "row": 62,
                            "column": 24
                          },
                          "text": "new_filters = {}",
                          "children": [
                            {
                              "type": "identifier",
                              "start": {
                                "row": 62,
                                "column": 8
                              },
                              "end": {
                                "row": 62,
                                "column": 19
                              },
                              "text": "new_filters"
                            },
                            {
                              "type": "=",
                              "start": {
                                "row": 62,
                                "column": 20
                              },
                              "end": {
                                "row": 62,
                                "column": 21
                              },
                              "text": "="
                            },
                            {
                              "type": "dictionary",
                              "start": {
                                "row": 62,
                                "column": 22
                              },
                              "end": {
                                "row": 62,
                                "column": 24
                              },
                              "text": "{}",
                              "children": [
                                {
                                  "type": "{",
                                  "start": {
                                    "row": 62,
                                    "column": 22
                                  },
                                  "end": {
                                    "row": 62,
                                    "column": 23
                                  },
                                  "text": "{"
                                },
                                {
                                  "type": "}",
                                  "start": {
                                    "row": 62,
                                    "column": 23
                                  },
                                  "end": {
                                    "row": 62,
                                    "column": 24
                                  },
                                  "text": "}"
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "type": "expression_statement",
                      "start": {
                        "row": 63,
                        "column": 8
                      },
                      "end": {
                        "row": 63,
                        "column": 45
                      },
                      "text": "log.debug('got filters: %s', filters)",
                      "children": [
                        {
                          "type": "call",
                          "start": {
                            "row": 63,
                            "column": 8
                          },
                          "end": {
                            "row": 63,
                            "column": 45
                          },
                          "text": "log.debug('got filters: %s', filters)",
                          "children": [
                            {
                              "type": "attribute",
                              "start": {
                                "row": 63,
                                "column": 8
                              },
                              "end": {
                                "row": 63,
                                "column": 17
                              },
                              "text": "log.debug",
                              "children": [
                                {
                                  "type": "identifier",
                                  "start": {
                                    "row": 63,
                                    "column": 8
                                  },
                                  "end": {
                                    "row": 63,
                                    "column": 11
                                  },
                                  "text": "log"
                                },
                                {
                                  "type": ".",
                                  "start": {
                                    "row": 63,
                                    "column": 11
                                  },
                                  "end": {
                                    "row": 63,
                                    "column": 12
                                  },
                                  "text": "."
                                },
                                {
                                  "type": "identifier",
                                  "start": {
                                    "row": 63,
                                    "column": 12
                                  },
                                  "end": {
                                    "row": 63,
                                    "column": 17
                                  },
                                  "text": "debug"
                                }
                              ]
                            },
                            {
                              "type": "argument_list",
                              "start": {
                                "row": 63,
                                "column": 17
                              },
                              "end": {
                                "row": 63,
                                "column": 45
                              },
                              "text": "('got filters: %s', filters)",
                              "children": [
                                {
                                  "type": "(",
                                  "start": {
                                    "row": 63,
                                    "column": 17
                                  },
                                  "end": {
                                    "row": 63,
                                    "column": 18
                                  },
                                  "text": "("
                                },
                                {
                                  "type": "string",
                                  "start": {
                                    "row": 63,
                                    "column": 18
                                  },
                                  "end": {
                                    "row": 63,
                                    "column": 35
                                  },
                                  "text": "'got filters: %s'",
                                  "children": [
                                    {
                                      "type": "string_start",
                                      "start": {
                                        "row": 63,
                                        "column": 18
                                      },
                                      "end": {
                                        "row": 63,
                                        "column": 19
                                      },
                                      "text": "'"
                                    },
                                    {
                                      "type": "string_content",
                                      "start": {
                                        "row": 63,
                                        "column": 19
                                      },
                                      "end": {
                                        "row": 63,
                                        "column": 34
                                      },
                                      "text": "got filters: %s"
                                    },
                                    {
                                      "type": "string_end",
                                      "start": {
                                        "row": 63,
                                        "column": 34
                                      },
                                      "end": {
                                        "row": 63,
                                        "column": 35
                                      },
                                      "text": "'"
                                    }
                                  ]
                                },
                                {
                                  "type": ",",
                                  "start": {
                                    "row": 63,
                                    "column": 35
                                  },
                                  "end": {
                                    "row": 63,
                                    "column": 36
                                  },
                                  "text": ","
                                },
                                {
                                  "type": "identifier",
                                  "start": {
                                    "row": 63,
                                    "column": 37
                                  },
                                  "end": {
                                    "row": 63,
                                    "column": 44
                                  },
                                  "text": "filters"
                                },
                                {
                                  "type": ")",
                                  "start": {
                                    "row": 63,
                                    "column": 44
                                  },
                                  "end": {
                                    "row": 63,
                                    "column": 45
                                  },
                                  "text": ")"
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "type": "expression_statement",
                      "start": {
                        "row": 64,
                        "column": 8
                      },
                      "end": {
                        "row": 64,
                        "column": 26
                      },
                      "text": "instance_id = None",
                      "children": [
                        {
                          "type": "assignment",
                          "start": {
                            "row": 64,
                            "column": 8
                          },
                          "end": {
                            "row": 64,
                            "column": 26
                          },
                          "text": "instance_id = None",
                          "children": [
                            {
                              "type": "identifier",
                              "start": {
                                "row": 64,
                                "column": 8
                              },
                              "end": {
                                "row": 64,
                                "column": 19
                              },
                              "text": "instance_id"
                            },
                            {
                              "type": "=",
                              "start": {
                                "row": 64,
                                "column": 20
                              },
                              "end": {
                                "row": 64,
                                "column": 21
                              },
                              "text": "="
                            },
                            {
                              "type": "none",
                              "start": {
                                "row": 64,
                                "column": 22
                              },
                              "end": {
                                "row": 64,
                                "column": 26
                              },
                              "text": "None"
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "type": "expression_statement",
                      "start": {
                        "row": 65,
                        "column": 8
                      },
                      "end": {
                        "row": 65,
                        "column": 55
                      },
                      "text": "in_states = tm.get('in_states', running_states)",
                      "children": [
                        {
                          "type": "assignment",
                          "start": {
                            "row": 65,
                            "column": 8
                          },
                          "end": {
                            "row": 65,
                            "column": 55
                          },
                          "text": "in_states = tm.get('in_states', running_states)",
                          "children": [
                            {
                              "type": "identifier",
                              "start": {
                                "row": 65,
                                "column": 8
                              },
                              "end": {
                                "row": 65,
                                "column": 17
                              },
                              "text": "in_states"
                            },
                            {
                              "type": "=",
                              "start": {
                                "row": 65,
                                "column": 18
                              },
                              "end": {
                                "row": 65,
                                "column": 19
                              },
                              "text": "="
                            },
                            {
                              "type": "call",
                              "start": {
                                "row": 65,
                                "column": 20
                              },
                              "end": {
                                "row": 65,
                                "column": 55
                              },
                              "text": "tm.get('in_states', running_states)",
                              "children": [
                                {
                                  "type": "attribute",
                                  "start": {
                                    "row": 65,
                                    "column": 20
                                  },
                                  "end": {
                                    "row": 65,
                                    "column": 26
                                  },
                                  "text": "tm.get",
                                  "children": [
                                    {
                                      "type": "identifier",
                                      "start": {
                                        "row": 65,
                                        "column": 20
                                      },
                                      "end": {
                                        "row": 65,
                                        "column": 22
                                      },
                                      "text": "tm"
                                    },
                                    {
                                      "type": ".",
                                      "start": {
                                        "row": 65,
                                        "column": 22
                                      },
                                      "end": {
                                        "row": 65,
                                        "column": 23
                                      },
                                      "text": "."
                                    },
                                    {
                                      "type": "identifier",
                                      "start": {
                                        "row": 65,
                                        "column": 23
                                      },
                                      "end": {
                                        "row": 65,
                                        "column": 26
                                      },
                                      "text": "get"
                                    }
                                  ]
                                },
                                {
                                  "type": "argument_list",
                                  "start": {
                                    "row": 65,
                                    "column": 26
                                  },
                                  "end": {
                                    "row": 65,
                                    "column": 55
                                  },
                                  "text": "('in_states', running_states)",
                                  "children": [
                                    {
                                      "type": "(",
                                      "start": {
                                        "row": 65,
                                        "column": 26
                                      },
                                      "end": {
                                        "row": 65,
                                        "column": 27
                                      },
                                      "text": "("
                                    },
                                    {
                                      "type": "string",
                                      "start": {
                                        "row": 65,
                                        "column": 27
                                      },
                                      "end": {
                                        "row": 65,
                                        "column": 38
                                      },
                                      "text": "'in_states'",
                                      "children": [
                                        {
                                          "type": "string_start",
                                          "start": {
                                            "row": 65,
                                            "column": 27
                                          },
                                          "end": {
                                            "row": 65,
                                            "column": 28
                                          },
                                          "text": "'"
                                        },
                                        {
                                          "type": "string_content",
                                          "start": {
                                            "row": 65,
                                            "column": 28
                                          },
                                          "end": {
                                            "row": 65,
                                            "column": 37
                                          },
                                          "text": "in_states"
                                        },
                                        {
                                          "type": "string_end",
                                          "start": {
                                            "row": 65,
                                            "column": 37
                                          },
                                          "end": {
                                            "row": 65,
                                            "column": 38
                                          },
                                          "text": "'"
                                        }
                                      ]
                                    },
                                    {
                                      "type": ",",
                                      "start": {
                                        "row": 65,
                                        "column": 38
                                      },
                                      "end": {
                                        "row": 65,
                                        "column": 39
                                      },
                                      "text": ","
                                    },
                                    {
                                      "type": "identifier",
                                      "start": {
                                        "row": 65,
                                        "column": 40
                                      },
                                      "end": {
                                        "row": 65,
                                        "column": 54
                                      },
                                      "text": "running_states"
                                    },
                                    {
                                      "type": ")",
                                      "start": {
                                        "row": 65,
                                        "column": 54
                                      },
                                      "end": {
                                        "row": 65,
                                        "column": 55
                                      },
                                      "text": ")"
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "type": "try_statement",
                      "start": {
                        "row": 66,
                        "column": 8
                      },
                      "end": {
                        "row": 81,
                        "column": 84
                      },
                      "text": "try:\n            for k, v in filters.items():\n                if k == 'volume_ids':\n                    args['volume_ids'] = v\n                elif k == 'instance_name':\n                    instance_id = get_id(name=v, in_states=in_states, region=region, key=key,\n                                         keyid=keyid, profile=profile)\n                    if not instance_id:\n                        msg = \"Couldn't resolve instance Name {0} to an ID.\".format(v)\n                        raise CommandExecutionError(msg)\n                    new_filters['attachment.instance_id'] = instance_id\n                else:\n                    new_filters[k] = v\n        except CommandExecutionError as e:\n            log.warning(e)\n            continue  # Hmme, abort or do what we can...?  Guess the latter for now.",
                      "children": [
                        {
                          "type": "try",
                          "start": {
                            "row": 66,
                            "column": 8
                          },
                          "end": {
                            "row": 66,
                            "column": 11
                          },
                          "text": "try"
                        },
                        {
                          "type": ":",
                          "start": {
                            "row": 66,
                            "column": 11
                          },
                          "end": {
                            "row": 66,
                            "column": 12
                          },
                          "text": ":"
                        },
                        {
                          "type": "block",
                          "start": {
                            "row": 67,
                            "column": 12
                          },
                          "end": {
                            "row": 78,
                            "column": 38
                          },
                          "text": "for k, v in filters.items():\n                if k == 'volume_ids':\n                    args['volume_ids'] = v\n                elif k == 'instance_name':\n                    instance_id = get_id(name=v, in_states=in_states, region=region, key=key,\n                                         keyid=keyid, profile=profile)\n                    if not instance_id:\n                        msg = \"Couldn't resolve instance Name {0} to an ID.\".format(v)\n                        raise CommandExecutionError(msg)\n                    new_filters['attachment.instance_id'] = instance_id\n                else:\n                    new_filters[k] = v",
                          "children": [
                            {
                              "type": "for_statement",
                              "start": {
                                "row": 67,
                                "column": 12
                              },
                              "end": {
                                "row": 78,
                                "column": 38
                              },
                              "text": "for k, v in filters.items():\n                if k == 'volume_ids':\n                    args['volume_ids'] = v\n                elif k == 'instance_name':\n                    instance_id = get_id(name=v, in_states=in_states, region=region, key=key,\n                                         keyid=keyid, profile=profile)\n                    if not instance_id:\n                        msg = \"Couldn't resolve instance Name {0} to an ID.\".format(v)\n                        raise CommandExecutionError(msg)\n                    new_filters['attachment.instance_id'] = instance_id\n                else:\n                    new_filters[k] = v",
                              "children": [
                                {
                                  "type": "for",
                                  "start": {
                                    "row": 67,
                                    "column": 12
                                  },
                                  "end": {
                                    "row": 67,
                                    "column": 15
                                  },
                                  "text": "for"
                                },
                                {
                                  "type": "pattern_list",
                                  "start": {
                                    "row": 67,
                                    "column": 16
                                  },
                                  "end": {
                                    "row": 67,
                                    "column": 20
                                  },
                                  "text": "k, v",
                                  "children": [
                                    {
                                      "type": "identifier",
                                      "start": {
                                        "row": 67,
                                        "column": 16
                                      },
                                      "end": {
                                        "row": 67,
                                        "column": 17
                                      },
                                      "text": "k"
                                    },
                                    {
                                      "type": ",",
                                      "start": {
                                        "row": 67,
                                        "column": 17
                                      },
                                      "end": {
                                        "row": 67,
                                        "column": 18
                                      },
                                      "text": ","
                                    },
                                    {
                                      "type": "identifier",
                                      "start": {
                                        "row": 67,
                                        "column": 19
                                      },
                                      "end": {
                                        "row": 67,
                                        "column": 20
                                      },
                                      "text": "v"
                                    }
                                  ]
                                },
                                {
                                  "type": "in",
                                  "start": {
                                    "row": 67,
                                    "column": 21
                                  },
                                  "end": {
                                    "row": 67,
                                    "column": 23
                                  },
                                  "text": "in"
                                },
                                {
                                  "type": "call",
                                  "start": {
                                    "row": 67,
                                    "column": 24
                                  },
                                  "end": {
                                    "row": 67,
                                    "column": 39
                                  },
                                  "text": "filters.items()",
                                  "children": [
                                    {
                                      "type": "attribute",
                                      "start": {
                                        "row": 67,
                                        "column": 24
                                      },
                                      "end": {
                                        "row": 67,
                                        "column": 37
                                      },
                                      "text": "filters.items",
                                      "children": [
                                        {
                                          "type": "identifier",
                                          "start": {
                                            "row": 67,
                                            "column": 24
                                          },
                                          "end": {
                                            "row": 67,
                                            "column": 31
                                          },
                                          "text": "filters"
                                        },
                                        {
                                          "type": ".",
                                          "start": {
                                            "row": 67,
                                            "column": 31
                                          },
                                          "end": {
                                            "row": 67,
                                            "column": 32
                                          },
                                          "text": "."
                                        },
                                        {
                                          "type": "identifier",
                                          "start": {
                                            "row": 67,
                                            "column": 32
                                          },
                                          "end": {
                                            "row": 67,
                                            "column": 37
                                          },
                                          "text": "items"
                                        }
                                      ]
                                    },
                                    {
                                      "type": "argument_list",
                                      "start": {
                                        "row": 67,
                                        "column": 37
                                      },
                                      "end": {
                                        "row": 67,
                                        "column": 39
                                      },
                                      "text": "()",
                                      "children": [
                                        {
                                          "type": "(",
                                          "start": {
                                            "row": 67,
                                            "column": 37
                                          },
                                          "end": {
                                            "row": 67,
                                            "column": 38
                                          },
                                          "text": "("
                                        },
                                        {
                                          "type": ")",
                                          "start": {
                                            "row": 67,
                                            "column": 38
                                          },
                                          "end": {
                                            "row": 67,
                                            "column": 39
                                          },
                                          "text": ")"
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "type": ":",
                                  "start": {
                                    "row": 67,
                                    "column": 39
                                  },
                                  "end": {
                                    "row": 67,
                                    "column": 40
                                  },
                                  "text": ":"
                                },
                                {
                                  "type": "block",
                                  "start": {
                                    "row": 68,
                                    "column": 16
                                  },
                                  "end": {
                                    "row": 78,
                                    "column": 38
                                  },
                                  "text": "if k == 'volume_ids':\n                    args['volume_ids'] = v\n                elif k == 'instance_name':\n                    instance_id = get_id(name=v, in_states=in_states, region=region, key=key,\n                                         keyid=keyid, profile=profile)\n                    if not instance_id:\n                        msg = \"Couldn't resolve instance Name {0} to an ID.\".format(v)\n                        raise CommandExecutionError(msg)\n                    new_filters['attachment.instance_id'] = instance_id\n                else:\n                    new_filters[k] = v",
                                  "children": [
                                    {
                                      "type": "if_statement",
                                      "start": {
                                        "row": 68,
                                        "column": 16
                                      },
                                      "end": {
                                        "row": 78,
                                        "column": 38
                                      },
                                      "text": "if k == 'volume_ids':\n                    args['volume_ids'] = v\n                elif k == 'instance_name':\n                    instance_id = get_id(name=v, in_states=in_states, region=region, key=key,\n                                         keyid=keyid, profile=profile)\n                    if not instance_id:\n                        msg = \"Couldn't resolve instance Name {0} to an ID.\".format(v)\n                        raise CommandExecutionError(msg)\n                    new_filters['attachment.instance_id'] = instance_id\n                else:\n                    new_filters[k] = v",
                                      "children": [
                                        {
                                          "type": "if",
                                          "start": {
                                            "row": 68,
                                            "column": 16
                                          },
                                          "end": {
                                            "row": 68,
                                            "column": 18
                                          },
                                          "text": "if"
                                        },
                                        {
                                          "type": "comparison_operator",
                                          "start": {
                                            "row": 68,
                                            "column": 19
                                          },
                                          "end": {
                                            "row": 68,
                                            "column": 36
                                          },
                                          "text": "k == 'volume_ids'",
                                          "children": [
                                            {
                                              "type": "identifier",
                                              "start": {
                                                "row": 68,
                                                "column": 19
                                              },
                                              "end": {
                                                "row": 68,
                                                "column": 20
                                              },
                                              "text": "k"
                                            },
                                            {
                                              "type": "==",
                                              "start": {
                                                "row": 68,
                                                "column": 21
                                              },
                                              "end": {
                                                "row": 68,
                                                "column": 23
                                              },
                                              "text": "=="
                                            },
                                            {
                                              "type": "string",
                                              "start": {
                                                "row": 68,
                                                "column": 24
                                              },
                                              "end": {
                                                "row": 68,
                                                "column": 36
                                              },
                                              "text": "'volume_ids'",
                                              "children": [
                                                {
                                                  "type": "string_start",
                                                  "start": {
                                                    "row": 68,
                                                    "column": 24
                                                  },
                                                  "end": {
                                                    "row": 68,
                                                    "column": 25
                                                  },
                                                  "text": "'"
                                                },
                                                {
                                                  "type": "string_content",
                                                  "start": {
                                                    "row": 68,
                                                    "column": 25
                                                  },
                                                  "end": {
                                                    "row": 68,
                                                    "column": 35
                                                  },
                                                  "text": "volume_ids"
                                                },
                                                {
                                                  "type": "string_end",
                                                  "start": {
                                                    "row": 68,
                                                    "column": 35
                                                  },
                                                  "end": {
                                                    "row": 68,
                                                    "column": 36
                                                  },
                                                  "text": "'"
                                                }
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "type": ":",
                                          "start": {
                                            "row": 68,
                                            "column": 36
                                          },
                                          "end": {
                                            "row": 68,
                                            "column": 37
                                          },
                                          "text": ":"
                                        },
                                        {
                                          "type": "block",
                                          "start": {
                                            "row": 69,
                                            "column": 20
                                          },
                                          "end": {
                                            "row": 69,
                                            "column": 42
                                          },
                                          "text": "args['volume_ids'] = v",
                                          "children": [
                                            {
                                              "type": "expression_statement",
                                              "start": {
                                                "row": 69,
                                                "column": 20
                                              },
                                              "end": {
                                                "row": 69,
                                                "column": 42
                                              },
                                              "text": "args['volume_ids'] = v",
                                              "children": [
                                                {
                                                  "type": "assignment",
                                                  "start": {
                                                    "row": 69,
                                                    "column": 20
                                                  },
                                                  "end": {
                                                    "row": 69,
                                                    "column": 42
                                                  },
                                                  "text": "args['volume_ids'] = v",
                                                  "children": [
                                                    {
                                                      "type": "subscript",
                                                      "start": {
                                                        "row": 69,
                                                        "column": 20
                                                      },
                                                      "end": {
                                                        "row": 69,
                                                        "column": 38
                                                      },
                                                      "text": "args['volume_ids']",
                                                      "children": [
                                                        {
                                                          "type": "identifier",
                                                          "start": {
                                                            "row": 69,
                                                            "column": 20
                                                          },
                                                          "end": {
                                                            "row": 69,
                                                            "column": 24
                                                          },
                                                          "text": "args"
                                                        },
                                                        {
                                                          "type": "[",
                                                          "start": {
                                                            "row": 69,
                                                            "column": 24
                                                          },
                                                          "end": {
                                                            "row": 69,
                                                            "column": 25
                                                          },
                                                          "text": "["
                                                        },
                                                        {
                                                          "type": "string",
                                                          "start": {
                                                            "row": 69,
                                                            "column": 25
                                                          },
                                                          "end": {
                                                            "row": 69,
                                                            "column": 37
                                                          },
                                                          "text": "'volume_ids'",
                                                          "children": [
                                                            {
                                                              "type": "string_start",
                                                              "start": {
                                                                "row": 69,
                                                                "column": 25
                                                              },
                                                              "end": {
                                                                "row": 69,
                                                                "column": 26
                                                              },
                                                              "text": "'"
                                                            },
                                                            {
                                                              "type": "string_content",
                                                              "start": {
                                                                "row": 69,
                                                                "column": 26
                                                              },
                                                              "end": {
                                                                "row": 69,
                                                                "column": 36
                                                              },
                                                              "text": "volume_ids"
                                                            },
                                                            {
                                                              "type": "string_end",
                                                              "start": {
                                                                "row": 69,
                                                                "column": 36
                                                              },
                                                              "end": {
                                                                "row": 69,
                                                                "column": 37
                                                              },
                                                              "text": "'"
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "type": "]",
                                                          "start": {
                                                            "row": 69,
                                                            "column": 37
                                                          },
                                                          "end": {
                                                            "row": 69,
                                                            "column": 38
                                                          },
                                                          "text": "]"
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "type": "=",
                                                      "start": {
                                                        "row": 69,
                                                        "column": 39
                                                      },
                                                      "end": {
                                                        "row": 69,
                                                        "column": 40
                                                      },
                                                      "text": "="
                                                    },
                                                    {
                                                      "type": "identifier",
                                                      "start": {
                                                        "row": 69,
                                                        "column": 41
                                                      },
                                                      "end": {
                                                        "row": 69,
                                                        "column": 42
                                                      },
                                                      "text": "v"
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "type": "elif_clause",
                                          "start": {
                                            "row": 70,
                                            "column": 16
                                          },
                                          "end": {
                                            "row": 76,
                                            "column": 71
                                          },
                                          "text": "elif k == 'instance_name':\n                    instance_id = get_id(name=v, in_states=in_states, region=region, key=key,\n                                         keyid=keyid, profile=profile)\n                    if not instance_id:\n                        msg = \"Couldn't resolve instance Name {0} to an ID.\".format(v)\n                        raise CommandExecutionError(msg)\n                    new_filters['attachment.instance_id'] = instance_id",
                                          "children": [
                                            {
                                              "type": "elif",
                                              "start": {
                                                "row": 70,
                                                "column": 16
                                              },
                                              "end": {
                                                "row": 70,
                                                "column": 20
                                              },
                                              "text": "elif"
                                            },
                                            {
                                              "type": "comparison_operator",
                                              "start": {
                                                "row": 70,
                                                "column": 21
                                              },
                                              "end": {
                                                "row": 70,
                                                "column": 41
                                              },
                                              "text": "k == 'instance_name'",
                                              "children": [
                                                {
                                                  "type": "identifier",
                                                  "start": {
                                                    "row": 70,
                                                    "column": 21
                                                  },
                                                  "end": {
                                                    "row": 70,
                                                    "column": 22
                                                  },
                                                  "text": "k"
                                                },
                                                {
                                                  "type": "==",
                                                  "start": {
                                                    "row": 70,
                                                    "column": 23
                                                  },
                                                  "end": {
                                                    "row": 70,
                                                    "column": 25
                                                  },
                                                  "text": "=="
                                                },
                                                {
                                                  "type": "string",
                                                  "start": {
                                                    "row": 70,
                                                    "column": 26
                                                  },
                                                  "end": {
                                                    "row": 70,
                                                    "column": 41
                                                  },
                                                  "text": "'instance_name'",
                                                  "children": [
                                                    {
                                                      "type": "string_start",
                                                      "start": {
                                                        "row": 70,
                                                        "column": 26
                                                      },
                                                      "end": {
                                                        "row": 70,
                                                        "column": 27
                                                      },
                                                      "text": "'"
                                                    },
                                                    {
                                                      "type": "string_content",
                                                      "start": {
                                                        "row": 70,
                                                        "column": 27
                                                      },
                                                      "end": {
                                                        "row": 70,
                                                        "column": 40
                                                      },
                                                      "text": "instance_name"
                                                    },
                                                    {
                                                      "type": "string_end",
                                                      "start": {
                                                        "row": 70,
                                                        "column": 40
                                                      },
                                                      "end": {
                                                        "row": 70,
                                                        "column": 41
                                                      },
                                                      "text": "'"
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "type": ":",
                                              "start": {
                                                "row": 70,
                                                "column": 41
                                              },
                                              "end": {
                                                "row": 70,
                                                "column": 42
                                              },
                                              "text": ":"
                                            },
                                            {
                                              "type": "block",
                                              "start": {
                                                "row": 71,
                                                "column": 20
                                              },
                                              "end": {
                                                "row": 76,
                                                "column": 71
                                              },
                                              "text": "instance_id = get_id(name=v, in_states=in_states, region=region, key=key,\n                                         keyid=keyid, profile=profile)\n                    if not instance_id:\n                        msg = \"Couldn't resolve instance Name {0} to an ID.\".format(v)\n                        raise CommandExecutionError(msg)\n                    new_filters['attachment.instance_id'] = instance_id",
                                              "children": [
                                                {
                                                  "type": "expression_statement",
                                                  "start": {
                                                    "row": 71,
                                                    "column": 20
                                                  },
                                                  "end": {
                                                    "row": 72,
                                                    "column": 70
                                                  },
                                                  "text": "instance_id = get_id(name=v, in_states=in_states, region=region, key=key,\n                                         keyid=keyid, profile=profile)",
                                                  "children": [
                                                    {
                                                      "type": "assignment",
                                                      "start": {
                                                        "row": 71,
                                                        "column": 20
                                                      },
                                                      "end": {
                                                        "row": 72,
                                                        "column": 70
                                                      },
                                                      "text": "instance_id = get_id(name=v, in_states=in_states, region=region, key=key,\n                                         keyid=keyid, profile=profile)",
                                                      "children": [
                                                        {
                                                          "type": "identifier",
                                                          "start": {
                                                            "row": 71,
                                                            "column": 20
                                                          },
                                                          "end": {
                                                            "row": 71,
                                                            "column": 31
                                                          },
                                                          "text": "instance_id"
                                                        },
                                                        {
                                                          "type": "=",
                                                          "start": {
                                                            "row": 71,
                                                            "column": 32
                                                          },
                                                          "end": {
                                                            "row": 71,
                                                            "column": 33
                                                          },
                                                          "text": "="
                                                        },
                                                        {
                                                          "type": "call",
                                                          "start": {
                                                            "row": 71,
                                                            "column": 34
                                                          },
                                                          "end": {
                                                            "row": 72,
                                                            "column": 70
                                                          },
                                                          "text": "get_id(name=v, in_states=in_states, region=region, key=key,\n                                         keyid=keyid, profile=profile)",
                                                          "children": [
                                                            {
                                                              "type": "identifier",
                                                              "start": {
                                                                "row": 71,
                                                                "column": 34
                                                              },
                                                              "end": {
                                                                "row": 71,
                                                                "column": 40
                                                              },
                                                              "text": "get_id"
                                                            },
                                                            {
                                                              "type": "argument_list",
                                                              "start": {
                                                                "row": 71,
                                                                "column": 40
                                                              },
                                                              "end": {
                                                                "row": 72,
                                                                "column": 70
                                                              },
                                                              "text": "(name=v, in_states=in_states, region=region, key=key,\n                                         keyid=keyid, profile=profile)",
                                                              "children": [
                                                                {
                                                                  "type": "(",
                                                                  "start": {
                                                                    "row": 71,
                                                                    "column": 40
                                                                  },
                                                                  "end": {
                                                                    "row": 71,
                                                                    "column": 41
                                                                  },
                                                                  "text": "("
                                                                },
                                                                {
                                                                  "type": "keyword_argument",
                                                                  "start": {
                                                                    "row": 71,
                                                                    "column": 41
                                                                  },
                                                                  "end": {
                                                                    "row": 71,
                                                                    "column": 47
                                                                  },
                                                                  "text": "name=v",
                                                                  "children": [
                                                                    {
                                                                      "type": "identifier",
                                                                      "start": {
                                                                        "row": 71,
                                                                        "column": 41
                                                                      },
                                                                      "end": {
                                                                        "row": 71,
                                                                        "column": 45
                                                                      },
                                                                      "text": "name"
                                                                    },
                                                                    {
                                                                      "type": "=",
                                                                      "start": {
                                                                        "row": 71,
                                                                        "column": 45
                                                                      },
                                                                      "end": {
                                                                        "row": 71,
                                                                        "column": 46
                                                                      },
                                                                      "text": "="
                                                                    },
                                                                    {
                                                                      "type": "identifier",
                                                                      "start": {
                                                                        "row": 71,
                                                                        "column": 46
                                                                      },
                                                                      "end": {
                                                                        "row": 71,
                                                                        "column": 47
                                                                      },
                                                                      "text": "v"
                                                                    }
                                                                  ]
                                                                },
                                                                {
                                                                  "type": ",",
                                                                  "start": {
                                                                    "row": 71,
                                                                    "column": 47
                                                                  },
                                                                  "end": {
                                                                    "row": 71,
                                                                    "column": 48
                                                                  },
                                                                  "text": ","
                                                                },
                                                                {
                                                                  "type": "keyword_argument",
                                                                  "start": {
                                                                    "row": 71,
                                                                    "column": 49
                                                                  },
                                                                  "end": {
                                                                    "row": 71,
                                                                    "column": 68
                                                                  },
                                                                  "text": "in_states=in_states",
                                                                  "children": [
                                                                    {
                                                                      "type": "identifier",
                                                                      "start": {
                                                                        "row": 71,
                                                                        "column": 49
                                                                      },
                                                                      "end": {
                                                                        "row": 71,
                                                                        "column": 58
                                                                      },
                                                                      "text": "in_states"
                                                                    },
                                                                    {
                                                                      "type": "=",
                                                                      "start": {
                                                                        "row": 71,
                                                                        "column": 58
                                                                      },
                                                                      "end": {
                                                                        "row": 71,
                                                                        "column": 59
                                                                      },
                                                                      "text": "="
                                                                    },
                                                                    {
                                                                      "type": "identifier",
                                                                      "start": {
                                                                        "row": 71,
                                                                        "column": 59
                                                                      },
                                                                      "end": {
                                                                        "row": 71,
                                                                        "column": 68
                                                                      },
                                                                      "text": "in_states"
                                                                    }
                                                                  ]
                                                                },
                                                                {
                                                                  "type": ",",
                                                                  "start": {
                                                                    "row": 71,
                                                                    "column": 68
                                                                  },
                                                                  "end": {
                                                                    "row": 71,
                                                                    "column": 69
                                                                  },
                                                                  "text": ","
                                                                },
                                                                {
                                                                  "type": "keyword_argument",
                                                                  "start": {
                                                                    "row": 71,
                                                                    "column": 70
                                                                  },
                                                                  "end": {
                                                                    "row": 71,
                                                                    "column": 83
                                                                  },
                                                                  "text": "region=region",
                                                                  "children": [
                                                                    {
                                                                      "type": "identifier",
                                                                      "start": {
                                                                        "row": 71,
                                                                        "column": 70
                                                                      },
                                                                      "end": {
                                                                        "row": 71,
                                                                        "column": 76
                                                                      },
                                                                      "text": "region"
                                                                    },
                                                                    {
                                                                      "type": "=",
                                                                      "start": {
                                                                        "row": 71,
                                                                        "column": 76
                                                                      },
                                                                      "end": {
                                                                        "row": 71,
                                                                        "column": 77
                                                                      },
                                                                      "text": "="
                                                                    },
                                                                    {
                                                                      "type": "identifier",
                                                                      "start": {
                                                                        "row": 71,
                                                                        "column": 77
                                                                      },
                                                                      "end": {
                                                                        "row": 71,
                                                                        "column": 83
                                                                      },
                                                                      "text": "region"
                                                                    }
                                                                  ]
                                                                },
                                                                {
                                                                  "type": ",",
                                                                  "start": {
                                                                    "row": 71,
                                                                    "column": 83
                                                                  },
                                                                  "end": {
                                                                    "row": 71,
                                                                    "column": 84
                                                                  },
                                                                  "text": ","
                                                                },
                                                                {
                                                                  "type": "keyword_argument",
                                                                  "start": {
                                                                    "row": 71,
                                                                    "column": 85
                                                                  },
                                                                  "end": {
                                                                    "row": 71,
                                                                    "column": 92
                                                                  },
                                                                  "text": "key=key",
                                                                  "children": [
                                                                    {
                                                                      "type": "identifier",
                                                                      "start": {
                                                                        "row": 71,
                                                                        "column": 85
                                                                      },
                                                                      "end": {
                                                                        "row": 71,
                                                                        "column": 88
                                                                      },
                                                                      "text": "key"
                                                                    },
                                                                    {
                                                                      "type": "=",
                                                                      "start": {
                                                                        "row": 71,
                                                                        "column": 88
                                                                      },
                                                                      "end": {
                                                                        "row": 71,
                                                                        "column": 89
                                                                      },
                                                                      "text": "="
                                                                    },
                                                                    {
                                                                      "type": "identifier",
                                                                      "start": {
                                                                        "row": 71,
                                                                        "column": 89
                                                                      },
                                                                      "end": {
                                                                        "row": 71,
                                                                        "column": 92
                                                                      },
                                                                      "text": "key"
                                                                    }
                                                                  ]
                                                                },
                                                                {
                                                                  "type": ",",
                                                                  "start": {
                                                                    "row": 71,
                                                                    "column": 92
                                                                  },
                                                                  "end": {
                                                                    "row": 71,
                                                                    "column": 93
                                                                  },
                                                                  "text": ","
                                                                },
                                                                {
                                                                  "type": "keyword_argument",
                                                                  "start": {
                                                                    "row": 72,
                                                                    "column": 41
                                                                  },
                                                                  "end": {
                                                                    "row": 72,
                                                                    "column": 52
                                                                  },
                                                                  "text": "keyid=keyid",
                                                                  "children": [
                                                                    {
                                                                      "type": "identifier",
                                                                      "start": {
                                                                        "row": 72,
                                                                        "column": 41
                                                                      },
                                                                      "end": {
                                                                        "row": 72,
                                                                        "column": 46
                                                                      },
                                                                      "text": "keyid"
                                                                    },
                                                                    {
                                                                      "type": "=",
                                                                      "start": {
                                                                        "row": 72,
                                                                        "column": 46
                                                                      },
                                                                      "end": {
                                                                        "row": 72,
                                                                        "column": 47
                                                                      },
                                                                      "text": "="
                                                                    },
                                                                    {
                                                                      "type": "identifier",
                                                                      "start": {
                                                                        "row": 72,
                                                                        "column": 47
                                                                      },
                                                                      "end": {
                                                                        "row": 72,
                                                                        "column": 52
                                                                      },
                                                                      "text": "keyid"
                                                                    }
                                                                  ]
                                                                },
                                                                {
                                                                  "type": ",",
                                                                  "start": {
                                                                    "row": 72,
                                                                    "column": 52
                                                                  },
                                                                  "end": {
                                                                    "row": 72,
                                                                    "column": 53
                                                                  },
                                                                  "text": ","
                                                                },
                                                                {
                                                                  "type": "keyword_argument",
                                                                  "start": {
                                                                    "row": 72,
                                                                    "column": 54
                                                                  },
                                                                  "end": {
                                                                    "row": 72,
                                                                    "column": 69
                                                                  },
                                                                  "text": "profile=profile",
                                                                  "children": [
                                                                    {
                                                                      "type": "identifier",
                                                                      "start": {
                                                                        "row": 72,
                                                                        "column": 54
                                                                      },
                                                                      "end": {
                                                                        "row": 72,
                                                                        "column": 61
                                                                      },
                                                                      "text": "profile"
                                                                    },
                                                                    {
                                                                      "type": "=",
                                                                      "start": {
                                                                        "row": 72,
                                                                        "column": 61
                                                                      },
                                                                      "end": {
                                                                        "row": 72,
                                                                        "column": 62
                                                                      },
                                                                      "text": "="
                                                                    },
                                                                    {
                                                                      "type": "identifier",
                                                                      "start": {
                                                                        "row": 72,
                                                                        "column": 62
                                                                      },
                                                                      "end": {
                                                                        "row": 72,
                                                                        "column": 69
                                                                      },
                                                                      "text": "profile"
                                                                    }
                                                                  ]
                                                                },
                                                                {
                                                                  "type": ")",
                                                                  "start": {
                                                                    "row": 72,
                                                                    "column": 69
                                                                  },
                                                                  "end": {
                                                                    "row": 72,
                                                                    "column": 70
                                                                  },
                                                                  "text": ")"
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "type": "if_statement",
                                                  "start": {
                                                    "row": 73,
                                                    "column": 20
                                                  },
                                                  "end": {
                                                    "row": 75,
                                                    "column": 56
                                                  },
                                                  "text": "if not instance_id:\n                        msg = \"Couldn't resolve instance Name {0} to an ID.\".format(v)\n                        raise CommandExecutionError(msg)",
                                                  "children": [
                                                    {
                                                      "type": "if",
                                                      "start": {
                                                        "row": 73,
                                                        "column": 20
                                                      },
                                                      "end": {
                                                        "row": 73,
                                                        "column": 22
                                                      },
                                                      "text": "if"
                                                    },
                                                    {
                                                      "type": "not_operator",
                                                      "start": {
                                                        "row": 73,
                                                        "column": 23
                                                      },
                                                      "end": {
                                                        "row": 73,
                                                        "column": 38
                                                      },
                                                      "text": "not instance_id",
                                                      "children": [
                                                        {
                                                          "type": "not",
                                                          "start": {
                                                            "row": 73,
                                                            "column": 23
                                                          },
                                                          "end": {
                                                            "row": 73,
                                                            "column": 26
                                                          },
                                                          "text": "not"
                                                        },
                                                        {
                                                          "type": "identifier",
                                                          "start": {
                                                            "row": 73,
                                                            "column": 27
                                                          },
                                                          "end": {
                                                            "row": 73,
                                                            "column": 38
                                                          },
                                                          "text": "instance_id"
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "type": ":",
                                                      "start": {
                                                        "row": 73,
                                                        "column": 38
                                                      },
                                                      "end": {
                                                        "row": 73,
                                                        "column": 39
                                                      },
                                                      "text": ":"
                                                    },
                                                    {
                                                      "type": "block",
                                                      "start": {
                                                        "row": 74,
                                                        "column": 24
                                                      },
                                                      "end": {
                                                        "row": 75,
                                                        "column": 56
                                                      },
                                                      "text": "msg = \"Couldn't resolve instance Name {0} to an ID.\".format(v)\n                        raise CommandExecutionError(msg)",
                                                      "children": [
                                                        {
                                                          "type": "expression_statement",
                                                          "start": {
                                                            "row": 74,
                                                            "column": 24
                                                          },
                                                          "end": {
                                                            "row": 74,
                                                            "column": 86
                                                          },
                                                          "text": "msg = \"Couldn't resolve instance Name {0} to an ID.\".format(v)",
                                                          "children": [
                                                            {
                                                              "type": "assignment",
                                                              "start": {
                                                                "row": 74,
                                                                "column": 24
                                                              },
                                                              "end": {
                                                                "row": 74,
                                                                "column": 86
                                                              },
                                                              "text": "msg = \"Couldn't resolve instance Name {0} to an ID.\".format(v)",
                                                              "children": [
                                                                {
                                                                  "type": "identifier",
                                                                  "start": {
                                                                    "row": 74,
                                                                    "column": 24
                                                                  },
                                                                  "end": {
                                                                    "row": 74,
                                                                    "column": 27
                                                                  },
                                                                  "text": "msg"
                                                                },
                                                                {
                                                                  "type": "=",
                                                                  "start": {
                                                                    "row": 74,
                                                                    "column": 28
                                                                  },
                                                                  "end": {
                                                                    "row": 74,
                                                                    "column": 29
                                                                  },
                                                                  "text": "="
                                                                },
                                                                {
                                                                  "type": "call",
                                                                  "start": {
                                                                    "row": 74,
                                                                    "column": 30
                                                                  },
                                                                  "end": {
                                                                    "row": 74,
                                                                    "column": 86
                                                                  },
                                                                  "text": "\"Couldn't resolve instance Name {0} to an ID.\".format(v)",
                                                                  "children": [
                                                                    {
                                                                      "type": "attribute",
                                                                      "start": {
                                                                        "row": 74,
                                                                        "column": 30
                                                                      },
                                                                      "end": {
                                                                        "row": 74,
                                                                        "column": 83
                                                                      },
                                                                      "text": "\"Couldn't resolve instance Name {0} to an ID.\".format",
                                                                      "children": [
                                                                        {
                                                                          "type": "string",
                                                                          "start": {
                                                                            "row": 74,
                                                                            "column": 30
                                                                          },
                                                                          "end": {
                                                                            "row": 74,
                                                                            "column": 76
                                                                          },
                                                                          "text": "\"Couldn't resolve instance Name {0} to an ID.\"",
                                                                          "children": [
                                                                            {
                                                                              "type": "string_start",
                                                                              "start": {
                                                                                "row": 74,
                                                                                "column": 30
                                                                              },
                                                                              "end": {
                                                                                "row": 74,
                                                                                "column": 31
                                                                              },
                                                                              "text": "\""
                                                                            },
                                                                            {
                                                                              "type": "string_content",
                                                                              "start": {
                                                                                "row": 74,
                                                                                "column": 31
                                                                              },
                                                                              "end": {
                                                                                "row": 74,
                                                                                "column": 75
                                                                              },
                                                                              "text": "Couldn't resolve instance Name {0} to an ID."
                                                                            },
                                                                            {
                                                                              "type": "string_end",
                                                                              "start": {
                                                                                "row": 74,
                                                                                "column": 75
                                                                              },
                                                                              "end": {
                                                                                "row": 74,
                                                                                "column": 76
                                                                              },
                                                                              "text": "\""
                                                                            }
                                                                          ]
                                                                        },
                                                                        {
                                                                          "type": ".",
                                                                          "start": {
                                                                            "row": 74,
                                                                            "column": 76
                                                                          },
                                                                          "end": {
                                                                            "row": 74,
                                                                            "column": 77
                                                                          },
                                                                          "text": "."
                                                                        },
                                                                        {
                                                                          "type": "identifier",
                                                                          "start": {
                                                                            "row": 74,
                                                                            "column": 77
                                                                          },
                                                                          "end": {
                                                                            "row": 74,
                                                                            "column": 83
                                                                          },
                                                                          "text": "format"
                                                                        }
                                                                      ]
                                                                    },
                                                                    {
                                                                      "type": "argument_list",
                                                                      "start": {
                                                                        "row": 74,
                                                                        "column": 83
                                                                      },
                                                                      "end": {
                                                                        "row": 74,
                                                                        "column": 86
                                                                      },
                                                                      "text": "(v)",
                                                                      "children": [
                                                                        {
                                                                          "type": "(",
                                                                          "start": {
                                                                            "row": 74,
                                                                            "column": 83
                                                                          },
                                                                          "end": {
                                                                            "row": 74,
                                                                            "column": 84
                                                                          },
                                                                          "text": "("
                                                                        },
                                                                        {
                                                                          "type": "identifier",
                                                                          "start": {
                                                                            "row": 74,
                                                                            "column": 84
                                                                          },
                                                                          "end": {
                                                                            "row": 74,
                                                                            "column": 85
                                                                          },
                                                                          "text": "v"
                                                                        },
                                                                        {
                                                                          "type": ")",
                                                                          "start": {
                                                                            "row": 74,
                                                                            "column": 85
                                                                          },
                                                                          "end": {
                                                                            "row": 74,
                                                                            "column": 86
                                                                          },
                                                                          "text": ")"
                                                                        }
                                                                      ]
                                                                    }
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "type": "raise_statement",
                                                          "start": {
                                                            "row": 75,
                                                            "column": 24
                                                          },
                                                          "end": {
                                                            "row": 75,
                                                            "column": 56
                                                          },
                                                          "text": "raise CommandExecutionError(msg)",
                                                          "children": [
                                                            {
                                                              "type": "raise",
                                                              "start": {
                                                                "row": 75,
                                                                "column": 24
                                                              },
                                                              "end": {
                                                                "row": 75,
                                                                "column": 29
                                                              },
                                                              "text": "raise"
                                                            },
                                                            {
                                                              "type": "call",
                                                              "start": {
                                                                "row": 75,
                                                                "column": 30
                                                              },
                                                              "end": {
                                                                "row": 75,
                                                                "column": 56
                                                              },
                                                              "text": "CommandExecutionError(msg)",
                                                              "children": [
                                                                {
                                                                  "type": "identifier",
                                                                  "start": {
                                                                    "row": 75,
                                                                    "column": 30
                                                                  },
                                                                  "end": {
                                                                    "row": 75,
                                                                    "column": 51
                                                                  },
                                                                  "text": "CommandExecutionError"
                                                                },
                                                                {
                                                                  "type": "argument_list",
                                                                  "start": {
                                                                    "row": 75,
                                                                    "column": 51
                                                                  },
                                                                  "end": {
                                                                    "row": 75,
                                                                    "column": 56
                                                                  },
                                                                  "text": "(msg)",
                                                                  "children": [
                                                                    {
                                                                      "type": "(",
                                                                      "start": {
                                                                        "row": 75,
                                                                        "column": 51
                                                                      },
                                                                      "end": {
                                                                        "row": 75,
                                                                        "column": 52
                                                                      },
                                                                      "text": "("
                                                                    },
                                                                    {
                                                                      "type": "identifier",
                                                                      "start": {
                                                                        "row": 75,
                                                                        "column": 52
                                                                      },
                                                                      "end": {
                                                                        "row": 75,
                                                                        "column": 55
                                                                      },
                                                                      "text": "msg"
                                                                    },
                                                                    {
                                                                      "type": ")",
                                                                      "start": {
                                                                        "row": 75,
                                                                        "column": 55
                                                                      },
                                                                      "end": {
                                                                        "row": 75,
                                                                        "column": 56
                                                                      },
                                                                      "text": ")"
                                                                    }
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "type": "expression_statement",
                                                  "start": {
                                                    "row": 76,
                                                    "column": 20
                                                  },
                                                  "end": {
                                                    "row": 76,
                                                    "column": 71
                                                  },
                                                  "text": "new_filters['attachment.instance_id'] = instance_id",
                                                  "children": [
                                                    {
                                                      "type": "assignment",
                                                      "start": {
                                                        "row": 76,
                                                        "column": 20
                                                      },
                                                      "end": {
                                                        "row": 76,
                                                        "column": 71
                                                      },
                                                      "text": "new_filters['attachment.instance_id'] = instance_id",
                                                      "children": [
                                                        {
                                                          "type": "subscript",
                                                          "start": {
                                                            "row": 76,
                                                            "column": 20
                                                          },
                                                          "end": {
                                                            "row": 76,
                                                            "column": 57
                                                          },
                                                          "text": "new_filters['attachment.instance_id']",
                                                          "children": [
                                                            {
                                                              "type": "identifier",
                                                              "start": {
                                                                "row": 76,
                                                                "column": 20
                                                              },
                                                              "end": {
                                                                "row": 76,
                                                                "column": 31
                                                              },
                                                              "text": "new_filters"
                                                            },
                                                            {
                                                              "type": "[",
                                                              "start": {
                                                                "row": 76,
                                                                "column": 31
                                                              },
                                                              "end": {
                                                                "row": 76,
                                                                "column": 32
                                                              },
                                                              "text": "["
                                                            },
                                                            {
                                                              "type": "string",
                                                              "start": {
                                                                "row": 76,
                                                                "column": 32
                                                              },
                                                              "end": {
                                                                "row": 76,
                                                                "column": 56
                                                              },
                                                              "text": "'attachment.instance_id'",
                                                              "children": [
                                                                {
                                                                  "type": "string_start",
                                                                  "start": {
                                                                    "row": 76,
                                                                    "column": 32
                                                                  },
                                                                  "end": {
                                                                    "row": 76,
                                                                    "column": 33
                                                                  },
                                                                  "text": "'"
                                                                },
                                                                {
                                                                  "type": "string_content",
                                                                  "start": {
                                                                    "row": 76,
                                                                    "column": 33
                                                                  },
                                                                  "end": {
                                                                    "row": 76,
                                                                    "column": 55
                                                                  },
                                                                  "text": "attachment.instance_id"
                                                                },
                                                                {
                                                                  "type": "string_end",
                                                                  "start": {
                                                                    "row": 76,
                                                                    "column": 55
                                                                  },
                                                                  "end": {
                                                                    "row": 76,
                                                                    "column": 56
                                                                  },
                                                                  "text": "'"
                                                                }
                                                              ]
                                                            },
                                                            {
                                                              "type": "]",
                                                              "start": {
                                                                "row": 76,
                                                                "column": 56
                                                              },
                                                              "end": {
                                                                "row": 76,
                                                                "column": 57
                                                              },
                                                              "text": "]"
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "type": "=",
                                                          "start": {
                                                            "row": 76,
                                                            "column": 58
                                                          },
                                                          "end": {
                                                            "row": 76,
                                                            "column": 59
                                                          },
                                                          "text": "="
                                                        },
                                                        {
                                                          "type": "identifier",
                                                          "start": {
                                                            "row": 76,
                                                            "column": 60
                                                          },
                                                          "end": {
                                                            "row": 76,
                                                            "column": 71
                                                          },
                                                          "text": "instance_id"
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "type": "else_clause",
                                          "start": {
                                            "row": 77,
                                            "column": 16
                                          },
                                          "end": {
                                            "row": 78,
                                            "column": 38
                                          },
                                          "text": "else:\n                    new_filters[k] = v",
                                          "children": [
                                            {
                                              "type": "else",
                                              "start": {
                                                "row": 77,
                                                "column": 16
                                              },
                                              "end": {
                                                "row": 77,
                                                "column": 20
                                              },
                                              "text": "else"
                                            },
                                            {
                                              "type": ":",
                                              "start": {
                                                "row": 77,
                                                "column": 20
                                              },
                                              "end": {
                                                "row": 77,
                                                "column": 21
                                              },
                                              "text": ":"
                                            },
                                            {
                                              "type": "block",
                                              "start": {
                                                "row": 78,
                                                "column": 20
                                              },
                                              "end": {
                                                "row": 78,
                                                "column": 38
                                              },
                                              "text": "new_filters[k] = v",
                                              "children": [
                                                {
                                                  "type": "expression_statement",
                                                  "start": {
                                                    "row": 78,
                                                    "column": 20
                                                  },
                                                  "end": {
                                                    "row": 78,
                                                    "column": 38
                                                  },
                                                  "text": "new_filters[k] = v",
                                                  "children": [
                                                    {
                                                      "type": "assignment",
                                                      "start": {
                                                        "row": 78,
                                                        "column": 20
                                                      },
                                                      "end": {
                                                        "row": 78,
                                                        "column": 38
                                                      },
                                                      "text": "new_filters[k] = v",
                                                      "children": [
                                                        {
                                                          "type": "subscript",
                                                          "start": {
                                                            "row": 78,
                                                            "column": 20
                                                          },
                                                          "end": {
                                                            "row": 78,
                                                            "column": 34
                                                          },
                                                          "text": "new_filters[k]",
                                                          "children": [
                                                            {
                                                              "type": "identifier",
                                                              "start": {
                                                                "row": 78,
                                                                "column": 20
                                                              },
                                                              "end": {
                                                                "row": 78,
                                                                "column": 31
                                                              },
                                                              "text": "new_filters"
                                                            },
                                                            {
                                                              "type": "[",
                                                              "start": {
                                                                "row": 78,
                                                                "column": 31
                                                              },
                                                              "end": {
                                                                "row": 78,
                                                                "column": 32
                                                              },
                                                              "text": "["
                                                            },
                                                            {
                                                              "type": "identifier",
                                                              "start": {
                                                                "row": 78,
                                                                "column": 32
                                                              },
                                                              "end": {
                                                                "row": 78,
                                                                "column": 33
                                                              },
                                                              "text": "k"
                                                            },
                                                            {
                                                              "type": "]",
                                                              "start": {
                                                                "row": 78,
                                                                "column": 33
                                                              },
                                                              "end": {
                                                                "row": 78,
                                                                "column": 34
                                                              },
                                                              "text": "]"
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "type": "=",
                                                          "start": {
                                                            "row": 78,
                                                            "column": 35
                                                          },
                                                          "end": {
                                                            "row": 78,
                                                            "column": 36
                                                          },
                                                          "text": "="
                                                        },
                                                        {
                                                          "type": "identifier",
                                                          "start": {
                                                            "row": 78,
                                                            "column": 37
                                                          },
                                                          "end": {
                                                            "row": 78,
                                                            "column": 38
                                                          },
                                                          "text": "v"
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": "except_clause",
                          "start": {
                            "row": 79,
                            "column": 8
                          },
                          "end": {
                            "row": 81,
                            "column": 84
                          },
                          "text": "except CommandExecutionError as e:\n            log.warning(e)\n            continue  # Hmme, abort or do what we can...?  Guess the latter for now.",
                          "children": [
                            {
                              "type": "except",
                              "start": {
                                "row": 79,
                                "column": 8
                              },
                              "end": {
                                "row": 79,
                                "column": 14
                              },
                              "text": "except"
                            },
                            {
                              "type": "as_pattern",
                              "start": {
                                "row": 79,
                                "column": 15
                              },
                              "end": {
                                "row": 79,
                                "column": 41
                              },
                              "text": "CommandExecutionError as e",
                              "children": [
                                {
                                  "type": "identifier",
                                  "start": {
                                    "row": 79,
                                    "column": 15
                                  },
                                  "end": {
                                    "row": 79,
                                    "column": 36
                                  },
                                  "text": "CommandExecutionError"
                                },
                                {
                                  "type": "as",
                                  "start": {
                                    "row": 79,
                                    "column": 37
                                  },
                                  "end": {
                                    "row": 79,
                                    "column": 39
                                  },
                                  "text": "as"
                                },
                                {
                                  "type": "as_pattern_target",
                                  "start": {
                                    "row": 79,
                                    "column": 40
                                  },
                                  "end": {
                                    "row": 79,
                                    "column": 41
                                  },
                                  "text": "e",
                                  "children": [
                                    {
                                      "type": "identifier",
                                      "start": {
                                        "row": 79,
                                        "column": 40
                                      },
                                      "end": {
                                        "row": 79,
                                        "column": 41
                                      },
                                      "text": "e"
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "type": ":",
                              "start": {
                                "row": 79,
                                "column": 41
                              },
                              "end": {
                                "row": 79,
                                "column": 42
                              },
                              "text": ":"
                            },
                            {
                              "type": "block",
                              "start": {
                                "row": 80,
                                "column": 12
                              },
                              "end": {
                                "row": 81,
                                "column": 84
                              },
                              "text": "log.warning(e)\n            continue  # Hmme, abort or do what we can...?  Guess the latter for now.",
                              "children": [
                                {
                                  "type": "expression_statement",
                                  "start": {
                                    "row": 80,
                                    "column": 12
                                  },
                                  "end": {
                                    "row": 80,
                                    "column": 26
                                  },
                                  "text": "log.warning(e)",
                                  "children": [
                                    {
                                      "type": "call",
                                      "start": {
                                        "row": 80,
                                        "column": 12
                                      },
                                      "end": {
                                        "row": 80,
                                        "column": 26
                                      },
                                      "text": "log.warning(e)",
                                      "children": [
                                        {
                                          "type": "attribute",
                                          "start": {
                                            "row": 80,
                                            "column": 12
                                          },
                                          "end": {
                                            "row": 80,
                                            "column": 23
                                          },
                                          "text": "log.warning",
                                          "children": [
                                            {
                                              "type": "identifier",
                                              "start": {
                                                "row": 80,
                                                "column": 12
                                              },
                                              "end": {
                                                "row": 80,
                                                "column": 15
                                              },
                                              "text": "log"
                                            },
                                            {
                                              "type": ".",
                                              "start": {
                                                "row": 80,
                                                "column": 15
                                              },
                                              "end": {
                                                "row": 80,
                                                "column": 16
                                              },
                                              "text": "."
                                            },
                                            {
                                              "type": "identifier",
                                              "start": {
                                                "row": 80,
                                                "column": 16
                                              },
                                              "end": {
                                                "row": 80,
                                                "column": 23
                                              },
                                              "text": "warning"
                                            }
                                          ]
                                        },
                                        {
                                          "type": "argument_list",
                                          "start": {
                                            "row": 80,
                                            "column": 23
                                          },
                                          "end": {
                                            "row": 80,
                                            "column": 26
                                          },
                                          "text": "(e)",
                                          "children": [
                                            {
                                              "type": "(",
                                              "start": {
                                                "row": 80,
                                                "column": 23
                                              },
                                              "end": {
                                                "row": 80,
                                                "column": 24
                                              },
                                              "text": "("
                                            },
                                            {
                                              "type": "identifier",
                                              "start": {
                                                "row": 80,
                                                "column": 24
                                              },
                                              "end": {
                                                "row": 80,
                                                "column": 25
                                              },
                                              "text": "e"
                                            },
                                            {
                                              "type": ")",
                                              "start": {
                                                "row": 80,
                                                "column": 25
                                              },
                                              "end": {
                                                "row": 80,
                                                "column": 26
                                              },
                                              "text": ")"
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "type": "continue_statement",
                                  "start": {
                                    "row": 81,
                                    "column": 12
                                  },
                                  "end": {
                                    "row": 81,
                                    "column": 20
                                  },
                                  "text": "continue",
                                  "children": [
                                    {
                                      "type": "continue",
                                      "start": {
                                        "row": 81,
                                        "column": 12
                                      },
                                      "end": {
                                        "row": 81,
                                        "column": 20
                                      },
                                      "text": "continue"
                                    }
                                  ]
                                },
                                {
                                  "type": "comment",
                                  "start": {
                                    "row": 81,
                                    "column": 22
                                  },
                                  "end": {
                                    "row": 81,
                                    "column": 84
                                  },
                                  "text": "# Hmme, abort or do what we can...?  Guess the latter for now."
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "type": "expression_statement",
                      "start": {
                        "row": 82,
                        "column": 8
                      },
                      "end": {
                        "row": 82,
                        "column": 37
                      },
                      "text": "args['filters'] = new_filters",
                      "children": [
                        {
                          "type": "assignment",
                          "start": {
                            "row": 82,
                            "column": 8
                          },
                          "end": {
                            "row": 82,
                            "column": 37
                          },
                          "text": "args['filters'] = new_filters",
                          "children": [
                            {
                              "type": "subscript",
                              "start": {
                                "row": 82,
                                "column": 8
                              },
                              "end": {
                                "row": 82,
                                "column": 23
                              },
                              "text": "args['filters']",
                              "children": [
                                {
                                  "type": "identifier",
                                  "start": {
                                    "row": 82,
                                    "column": 8
                                  },
                                  "end": {
                                    "row": 82,
                                    "column": 12
                                  },
                                  "text": "args"
                                },
                                {
                                  "type": "[",
                                  "start": {
                                    "row": 82,
                                    "column": 12
                                  },
                                  "end": {
                                    "row": 82,
                                    "column": 13
                                  },
                                  "text": "["
                                },
                                {
                                  "type": "string",
                                  "start": {
                                    "row": 82,
                                    "column": 13
                                  },
                                  "end": {
                                    "row": 82,
                                    "column": 22
                                  },
                                  "text": "'filters'",
                                  "children": [
                                    {
                                      "type": "string_start",
                                      "start": {
                                        "row": 82,
                                        "column": 13
                                      },
                                      "end": {
                                        "row": 82,
                                        "column": 14
                                      },
                                      "text": "'"
                                    },
                                    {
                                      "type": "string_content",
                                      "start": {
                                        "row": 82,
                                        "column": 14
                                      },
                                      "end": {
                                        "row": 82,
                                        "column": 21
                                      },
                                      "text": "filters"
                                    },
                                    {
                                      "type": "string_end",
                                      "start": {
                                        "row": 82,
                                        "column": 21
                                      },
                                      "end": {
                                        "row": 82,
                                        "column": 22
                                      },
                                      "text": "'"
                                    }
                                  ]
                                },
                                {
                                  "type": "]",
                                  "start": {
                                    "row": 82,
                                    "column": 22
                                  },
                                  "end": {
                                    "row": 82,
                                    "column": 23
                                  },
                                  "text": "]"
                                }
                              ]
                            },
                            {
                              "type": "=",
                              "start": {
                                "row": 82,
                                "column": 24
                              },
                              "end": {
                                "row": 82,
                                "column": 25
                              },
                              "text": "="
                            },
                            {
                              "type": "identifier",
                              "start": {
                                "row": 82,
                                "column": 26
                              },
                              "end": {
                                "row": 82,
                                "column": 37
                              },
                              "text": "new_filters"
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "type": "expression_statement",
                      "start": {
                        "row": 83,
                        "column": 8
                      },
                      "end": {
                        "row": 83,
                        "column": 41
                      },
                      "text": "volumes = get_all_volumes(**args)",
                      "children": [
                        {
                          "type": "assignment",
                          "start": {
                            "row": 83,
                            "column": 8
                          },
                          "end": {
                            "row": 83,
                            "column": 41
                          },
                          "text": "volumes = get_all_volumes(**args)",
                          "children": [
                            {
                              "type": "identifier",
                              "start": {
                                "row": 83,
                                "column": 8
                              },
                              "end": {
                                "row": 83,
                                "column": 15
                              },
                              "text": "volumes"
                            },
                            {
                              "type": "=",
                              "start": {
                                "row": 83,
                                "column": 16
                              },
                              "end": {
                                "row": 83,
                                "column": 17
                              },
                              "text": "="
                            },
                            {
                              "type": "call",
                              "start": {
                                "row": 83,
                                "column": 18
                              },
                              "end": {
                                "row": 83,
                                "column": 41
                              },
                              "text": "get_all_volumes(**args)",
                              "children": [
                                {
                                  "type": "identifier",
                                  "start": {
                                    "row": 83,
                                    "column": 18
                                  },
                                  "end": {
                                    "row": 83,
                                    "column": 33
                                  },
                                  "text": "get_all_volumes"
                                },
                                {
                                  "type": "argument_list",
                                  "start": {
                                    "row": 83,
                                    "column": 33
                                  },
                                  "end": {
                                    "row": 83,
                                    "column": 41
                                  },
                                  "text": "(**args)",
                                  "children": [
                                    {
                                      "type": "(",
                                      "start": {
                                        "row": 83,
                                        "column": 33
                                      },
                                      "end": {
                                        "row": 83,
                                        "column": 34
                                      },
                                      "text": "("
                                    },
                                    {
                                      "type": "dictionary_splat",
                                      "start": {
                                        "row": 83,
                                        "column": 34
                                      },
                                      "end": {
                                        "row": 83,
                                        "column": 40
                                      },
                                      "text": "**args",
                                      "children": [
                                        {
                                          "type": "**",
                                          "start": {
                                            "row": 83,
                                            "column": 34
                                          },
                                          "end": {
                                            "row": 83,
                                            "column": 36
                                          },
                                          "text": "**"
                                        },
                                        {
                                          "type": "identifier",
                                          "start": {
                                            "row": 83,
                                            "column": 36
                                          },
                                          "end": {
                                            "row": 83,
                                            "column": 40
                                          },
                                          "text": "args"
                                        }
                                      ]
                                    },
                                    {
                                      "type": ")",
                                      "start": {
                                        "row": 83,
                                        "column": 40
                                      },
                                      "end": {
                                        "row": 83,
                                        "column": 41
                                      },
                                      "text": ")"
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "type": "expression_statement",
                      "start": {
                        "row": 84,
                        "column": 8
                      },
                      "end": {
                        "row": 84,
                        "column": 49
                      },
                      "text": "log.debug('got volume list: %s', volumes)",
                      "children": [
                        {
                          "type": "call",
                          "start": {
                            "row": 84,
                            "column": 8
                          },
                          "end": {
                            "row": 84,
                            "column": 49
                          },
                          "text": "log.debug('got volume list: %s', volumes)",
                          "children": [
                            {
                              "type": "attribute",
                              "start": {
                                "row": 84,
                                "column": 8
                              },
                              "end": {
                                "row": 84,
                                "column": 17
                              },
                              "text": "log.debug",
                              "children": [
                                {
                                  "type": "identifier",
                                  "start": {
                                    "row": 84,
                                    "column": 8
                                  },
                                  "end": {
                                    "row": 84,
                                    "column": 11
                                  },
                                  "text": "log"
                                },
                                {
                                  "type": ".",
                                  "start": {
                                    "row": 84,
                                    "column": 11
                                  },
                                  "end": {
                                    "row": 84,
                                    "column": 12
                                  },
                                  "text": "."
                                },
                                {
                                  "type": "identifier",
                                  "start": {
                                    "row": 84,
                                    "column": 12
                                  },
                                  "end": {
                                    "row": 84,
                                    "column": 17
                                  },
                                  "text": "debug"
                                }
                              ]
                            },
                            {
                              "type": "argument_list",
                              "start": {
                                "row": 84,
                                "column": 17
                              },
                              "end": {
                                "row": 84,
                                "column": 49
                              },
                              "text": "('got volume list: %s', volumes)",
                              "children": [
                                {
                                  "type": "(",
                                  "start": {
                                    "row": 84,
                                    "column": 17
                                  },
                                  "end": {
                                    "row": 84,
                                    "column": 18
                                  },
                                  "text": "("
                                },
                                {
                                  "type": "string",
                                  "start": {
                                    "row": 84,
                                    "column": 18
                                  },
                                  "end": {
                                    "row": 84,
                                    "column": 39
                                  },
                                  "text": "'got volume list: %s'",
                                  "children": [
                                    {
                                      "type": "string_start",
                                      "start": {
                                        "row": 84,
                                        "column": 18
                                      },
                                      "end": {
                                        "row": 84,
                                        "column": 19
                                      },
                                      "text": "'"
                                    },
                                    {
                                      "type": "string_content",
                                      "start": {
                                        "row": 84,
                                        "column": 19
                                      },
                                      "end": {
                                        "row": 84,
                                        "column": 38
                                      },
                                      "text": "got volume list: %s"
                                    },
                                    {
                                      "type": "string_end",
                                      "start": {
                                        "row": 84,
                                        "column": 38
                                      },
                                      "end": {
                                        "row": 84,
                                        "column": 39
                                      },
                                      "text": "'"
                                    }
                                  ]
                                },
                                {
                                  "type": ",",
                                  "start": {
                                    "row": 84,
                                    "column": 39
                                  },
                                  "end": {
                                    "row": 84,
                                    "column": 40
                                  },
                                  "text": ","
                                },
                                {
                                  "type": "identifier",
                                  "start": {
                                    "row": 84,
                                    "column": 41
                                  },
                                  "end": {
                                    "row": 84,
                                    "column": 48
                                  },
                                  "text": "volumes"
                                },
                                {
                                  "type": ")",
                                  "start": {
                                    "row": 84,
                                    "column": 48
                                  },
                                  "end": {
                                    "row": 84,
                                    "column": 49
                                  },
                                  "text": ")"
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "type": "for_statement",
                      "start": {
                        "row": 85,
                        "column": 8
                      },
                      "end": {
                        "row": 86,
                        "column": 120
                      },
                      "text": "for vol in volumes:\n            tag_sets.setdefault(vol.id.replace('-', '_'), {'vol': vol, 'tags': tags.copy()})['tags'].update(tags.copy())",
                      "children": [
                        {
                          "type": "for",
                          "start": {
                            "row": 85,
                            "column": 8
                          },
                          "end": {
                            "row": 85,
                            "column": 11
                          },
                          "text": "for"
                        },
                        {
                          "type": "identifier",
                          "start": {
                            "row": 85,
                            "column": 12
                          },
                          "end": {
                            "row": 85,
                            "column": 15
                          },
                          "text": "vol"
                        },
                        {
                          "type": "in",
                          "start": {
                            "row": 85,
                            "column": 16
                          },
                          "end": {
                            "row": 85,
                            "column": 18
                          },
                          "text": "in"
                        },
                        {
                          "type": "identifier",
                          "start": {
                            "row": 85,
                            "column": 19
                          },
                          "end": {
                            "row": 85,
                            "column": 26
                          },
                          "text": "volumes"
                        },
                        {
                          "type": ":",
                          "start": {
                            "row": 85,
                            "column": 26
                          },
                          "end": {
                            "row": 85,
                            "column": 27
                          },
                          "text": ":"
                        },
                        {
                          "type": "block",
                          "start": {
                            "row": 86,
                            "column": 12
                          },
                          "end": {
                            "row": 86,
                            "column": 120
                          },
                          "text": "tag_sets.setdefault(vol.id.replace('-', '_'), {'vol': vol, 'tags': tags.copy()})['tags'].update(tags.copy())",
                          "children": [
                            {
                              "type": "expression_statement",
                              "start": {
                                "row": 86,
                                "column": 12
                              },
                              "end": {
                                "row": 86,
                                "column": 120
                              },
                              "text": "tag_sets.setdefault(vol.id.replace('-', '_'), {'vol': vol, 'tags': tags.copy()})['tags'].update(tags.copy())",
                              "children": [
                                {
                                  "type": "call",
                                  "start": {
                                    "row": 86,
                                    "column": 12
                                  },
                                  "end": {
                                    "row": 86,
                                    "column": 120
                                  },
                                  "text": "tag_sets.setdefault(vol.id.replace('-', '_'), {'vol': vol, 'tags': tags.copy()})['tags'].update(tags.copy())",
                                  "children": [
                                    {
                                      "type": "attribute",
                                      "start": {
                                        "row": 86,
                                        "column": 12
                                      },
                                      "end": {
                                        "row": 86,
                                        "column": 107
                                      },
                                      "text": "tag_sets.setdefault(vol.id.replace('-', '_'), {'vol': vol, 'tags': tags.copy()})['tags'].update",
                                      "children": [
                                        {
                                          "type": "subscript",
                                          "start": {
                                            "row": 86,
                                            "column": 12
                                          },
                                          "end": {
                                            "row": 86,
                                            "column": 100
                                          },
                                          "text": "tag_sets.setdefault(vol.id.replace('-', '_'), {'vol': vol, 'tags': tags.copy()})['tags']",
                                          "children": [
                                            {
                                              "type": "call",
                                              "start": {
                                                "row": 86,
                                                "column": 12
                                              },
                                              "end": {
                                                "row": 86,
                                                "column": 92
                                              },
                                              "text": "tag_sets.setdefault(vol.id.replace('-', '_'), {'vol': vol, 'tags': tags.copy()})",
                                              "children": [
                                                {
                                                  "type": "attribute",
                                                  "start": {
                                                    "row": 86,
                                                    "column": 12
                                                  },
                                                  "end": {
                                                    "row": 86,
                                                    "column": 31
                                                  },
                                                  "text": "tag_sets.setdefault",
                                                  "children": [
                                                    {
                                                      "type": "identifier",
                                                      "start": {
                                                        "row": 86,
                                                        "column": 12
                                                      },
                                                      "end": {
                                                        "row": 86,
                                                        "column": 20
                                                      },
                                                      "text": "tag_sets"
                                                    },
                                                    {
                                                      "type": ".",
                                                      "start": {
                                                        "row": 86,
                                                        "column": 20
                                                      },
                                                      "end": {
                                                        "row": 86,
                                                        "column": 21
                                                      },
                                                      "text": "."
                                                    },
                                                    {
                                                      "type": "identifier",
                                                      "start": {
                                                        "row": 86,
                                                        "column": 21
                                                      },
                                                      "end": {
                                                        "row": 86,
                                                        "column": 31
                                                      },
                                                      "text": "setdefault"
                                                    }
                                                  ]
                                                },
                                                {
                                                  "type": "argument_list",
                                                  "start": {
                                                    "row": 86,
                                                    "column": 31
                                                  },
                                                  "end": {
                                                    "row": 86,
                                                    "column": 92
                                                  },
                                                  "text": "(vol.id.replace('-', '_'), {'vol': vol, 'tags': tags.copy()})",
                                                  "children": [
                                                    {
                                                      "type": "(",
                                                      "start": {
                                                        "row": 86,
                                                        "column": 31
                                                      },
                                                      "end": {
                                                        "row": 86,
                                                        "column": 32
                                                      },
                                                      "text": "("
                                                    },
                                                    {
                                                      "type": "call",
                                                      "start": {
                                                        "row": 86,
                                                        "column": 32
                                                      },
                                                      "end": {
                                                        "row": 86,
                                                        "column": 56
                                                      },
                                                      "text": "vol.id.replace('-', '_')",
                                                      "children": [
                                                        {
                                                          "type": "attribute",
                                                          "start": {
                                                            "row": 86,
                                                            "column": 32
                                                          },
                                                          "end": {
                                                            "row": 86,
                                                            "column": 46
                                                          },
                                                          "text": "vol.id.replace",
                                                          "children": [
                                                            {
                                                              "type": "attribute",
                                                              "start": {
                                                                "row": 86,
                                                                "column": 32
                                                              },
                                                              "end": {
                                                                "row": 86,
                                                                "column": 38
                                                              },
                                                              "text": "vol.id",
                                                              "children": [
                                                                {
                                                                  "type": "identifier",
                                                                  "start": {
                                                                    "row": 86,
                                                                    "column": 32
                                                                  },
                                                                  "end": {
                                                                    "row": 86,
                                                                    "column": 35
                                                                  },
                                                                  "text": "vol"
                                                                },
                                                                {
                                                                  "type": ".",
                                                                  "start": {
                                                                    "row": 86,
                                                                    "column": 35
                                                                  },
                                                                  "end": {
                                                                    "row": 86,
                                                                    "column": 36
                                                                  },
                                                                  "text": "."
                                                                },
                                                                {
                                                                  "type": "identifier",
                                                                  "start": {
                                                                    "row": 86,
                                                                    "column": 36
                                                                  },
                                                                  "end": {
                                                                    "row": 86,
                                                                    "column": 38
                                                                  },
                                                                  "text": "id"
                                                                }
                                                              ]
                                                            },
                                                            {
                                                              "type": ".",
                                                              "start": {
                                                                "row": 86,
                                                                "column": 38
                                                              },
                                                              "end": {
                                                                "row": 86,
                                                                "column": 39
                                                              },
                                                              "text": "."
                                                            },
                                                            {
                                                              "type": "identifier",
                                                              "start": {
                                                                "row": 86,
                                                                "column": 39
                                                              },
                                                              "end": {
                                                                "row": 86,
                                                                "column": 46
                                                              },
                                                              "text": "replace"
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "type": "argument_list",
                                                          "start": {
                                                            "row": 86,
                                                            "column": 46
                                                          },
                                                          "end": {
                                                            "row": 86,
                                                            "column": 56
                                                          },
                                                          "text": "('-', '_')",
                                                          "children": [
                                                            {
                                                              "type": "(",
                                                              "start": {
                                                                "row": 86,
                                                                "column": 46
                                                              },
                                                              "end": {
                                                                "row": 86,
                                                                "column": 47
                                                              },
                                                              "text": "("
                                                            },
                                                            {
                                                              "type": "string",
                                                              "start": {
                                                                "row": 86,
                                                                "column": 47
                                                              },
                                                              "end": {
                                                                "row": 86,
                                                                "column": 50
                                                              },
                                                              "text": "'-'",
                                                              "children": [
                                                                {
                                                                  "type": "string_start",
                                                                  "start": {
                                                                    "row": 86,
                                                                    "column": 47
                                                                  },
                                                                  "end": {
                                                                    "row": 86,
                                                                    "column": 48
                                                                  },
                                                                  "text": "'"
                                                                },
                                                                {
                                                                  "type": "string_content",
                                                                  "start": {
                                                                    "row": 86,
                                                                    "column": 48
                                                                  },
                                                                  "end": {
                                                                    "row": 86,
                                                                    "column": 49
                                                                  },
                                                                  "text": "-"
                                                                },
                                                                {
                                                                  "type": "string_end",
                                                                  "start": {
                                                                    "row": 86,
                                                                    "column": 49
                                                                  },
                                                                  "end": {
                                                                    "row": 86,
                                                                    "column": 50
                                                                  },
                                                                  "text": "'"
                                                                }
                                                              ]
                                                            },
                                                            {
                                                              "type": ",",
                                                              "start": {
                                                                "row": 86,
                                                                "column": 50
                                                              },
                                                              "end": {
                                                                "row": 86,
                                                                "column": 51
                                                              },
                                                              "text": ","
                                                            },
                                                            {
                                                              "type": "string",
                                                              "start": {
                                                                "row": 86,
                                                                "column": 52
                                                              },
                                                              "end": {
                                                                "row": 86,
                                                                "column": 55
                                                              },
                                                              "text": "'_'",
                                                              "children": [
                                                                {
                                                                  "type": "string_start",
                                                                  "start": {
                                                                    "row": 86,
                                                                    "column": 52
                                                                  },
                                                                  "end": {
                                                                    "row": 86,
                                                                    "column": 53
                                                                  },
                                                                  "text": "'"
                                                                },
                                                                {
                                                                  "type": "string_content",
                                                                  "start": {
                                                                    "row": 86,
                                                                    "column": 53
                                                                  },
                                                                  "end": {
                                                                    "row": 86,
                                                                    "column": 54
                                                                  },
                                                                  "text": "_"
                                                                },
                                                                {
                                                                  "type": "string_end",
                                                                  "start": {
                                                                    "row": 86,
                                                                    "column": 54
                                                                  },
                                                                  "end": {
                                                                    "row": 86,
                                                                    "column": 55
                                                                  },
                                                                  "text": "'"
                                                                }
                                                              ]
                                                            },
                                                            {
                                                              "type": ")",
                                                              "start": {
                                                                "row": 86,
                                                                "column": 55
                                                              },
                                                              "end": {
                                                                "row": 86,
                                                                "column": 56
                                                              },
                                                              "text": ")"
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "type": ",",
                                                      "start": {
                                                        "row": 86,
                                                        "column": 56
                                                      },
                                                      "end": {
                                                        "row": 86,
                                                        "column": 57
                                                      },
                                                      "text": ","
                                                    },
                                                    {
                                                      "type": "dictionary",
                                                      "start": {
                                                        "row": 86,
                                                        "column": 58
                                                      },
                                                      "end": {
                                                        "row": 86,
                                                        "column": 91
                                                      },
                                                      "text": "{'vol': vol, 'tags': tags.copy()}",
                                                      "children": [
                                                        {
                                                          "type": "{",
                                                          "start": {
                                                            "row": 86,
                                                            "column": 58
                                                          },
                                                          "end": {
                                                            "row": 86,
                                                            "column": 59
                                                          },
                                                          "text": "{"
                                                        },
                                                        {
                                                          "type": "pair",
                                                          "start": {
                                                            "row": 86,
                                                            "column": 59
                                                          },
                                                          "end": {
                                                            "row": 86,
                                                            "column": 69
                                                          },
                                                          "text": "'vol': vol",
                                                          "children": [
                                                            {
                                                              "type": "string",
                                                              "start": {
                                                                "row": 86,
                                                                "column": 59
                                                              },
                                                              "end": {
                                                                "row": 86,
                                                                "column": 64
                                                              },
                                                              "text": "'vol'",
                                                              "children": [
                                                                {
                                                                  "type": "string_start",
                                                                  "start": {
                                                                    "row": 86,
                                                                    "column": 59
                                                                  },
                                                                  "end": {
                                                                    "row": 86,
                                                                    "column": 60
                                                                  },
                                                                  "text": "'"
                                                                },
                                                                {
                                                                  "type": "string_content",
                                                                  "start": {
                                                                    "row": 86,
                                                                    "column": 60
                                                                  },
                                                                  "end": {
                                                                    "row": 86,
                                                                    "column": 63
                                                                  },
                                                                  "text": "vol"
                                                                },
                                                                {
                                                                  "type": "string_end",
                                                                  "start": {
                                                                    "row": 86,
                                                                    "column": 63
                                                                  },
                                                                  "end": {
                                                                    "row": 86,
                                                                    "column": 64
                                                                  },
                                                                  "text": "'"
                                                                }
                                                              ]
                                                            },
                                                            {
                                                              "type": ":",
                                                              "start": {
                                                                "row": 86,
                                                                "column": 64
                                                              },
                                                              "end": {
                                                                "row": 86,
                                                                "column": 65
                                                              },
                                                              "text": ":"
                                                            },
                                                            {
                                                              "type": "identifier",
                                                              "start": {
                                                                "row": 86,
                                                                "column": 66
                                                              },
                                                              "end": {
                                                                "row": 86,
                                                                "column": 69
                                                              },
                                                              "text": "vol"
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "type": ",",
                                                          "start": {
                                                            "row": 86,
                                                            "column": 69
                                                          },
                                                          "end": {
                                                            "row": 86,
                                                            "column": 70
                                                          },
                                                          "text": ","
                                                        },
                                                        {
                                                          "type": "pair",
                                                          "start": {
                                                            "row": 86,
                                                            "column": 71
                                                          },
                                                          "end": {
                                                            "row": 86,
                                                            "column": 90
                                                          },
                                                          "text": "'tags': tags.copy()",
                                                          "children": [
                                                            {
                                                              "type": "string",
                                                              "start": {
                                                                "row": 86,
                                                                "column": 71
                                                              },
                                                              "end": {
                                                                "row": 86,
                                                                "column": 77
                                                              },
                                                              "text": "'tags'",
                                                              "children": [
                                                                {
                                                                  "type": "string_start",
                                                                  "start": {
                                                                    "row": 86,
                                                                    "column": 71
                                                                  },
                                                                  "end": {
                                                                    "row": 86,
                                                                    "column": 72
                                                                  },
                                                                  "text": "'"
                                                                },
                                                                {
                                                                  "type": "string_content",
                                                                  "start": {
                                                                    "row": 86,
                                                                    "column": 72
                                                                  },
                                                                  "end": {
                                                                    "row": 86,
                                                                    "column": 76
                                                                  },
                                                                  "text": "tags"
                                                                },
                                                                {
                                                                  "type": "string_end",
                                                                  "start": {
                                                                    "row": 86,
                                                                    "column": 76
                                                                  },
                                                                  "end": {
                                                                    "row": 86,
                                                                    "column": 77
                                                                  },
                                                                  "text": "'"
                                                                }
                                                              ]
                                                            },
                                                            {
                                                              "type": ":",
                                                              "start": {
                                                                "row": 86,
                                                                "column": 77
                                                              },
                                                              "end": {
                                                                "row": 86,
                                                                "column": 78
                                                              },
                                                              "text": ":"
                                                            },
                                                            {
                                                              "type": "call",
                                                              "start": {
                                                                "row": 86,
                                                                "column": 79
                                                              },
                                                              "end": {
                                                                "row": 86,
                                                                "column": 90
                                                              },
                                                              "text": "tags.copy()",
                                                              "children": [
                                                                {
                                                                  "type": "attribute",
                                                                  "start": {
                                                                    "row": 86,
                                                                    "column": 79
                                                                  },
                                                                  "end": {
                                                                    "row": 86,
                                                                    "column": 88
                                                                  },
                                                                  "text": "tags.copy",
                                                                  "children": [
                                                                    {
                                                                      "type": "identifier",
                                                                      "start": {
                                                                        "row": 86,
                                                                        "column": 79
                                                                      },
                                                                      "end": {
                                                                        "row": 86,
                                                                        "column": 83
                                                                      },
                                                                      "text": "tags"
                                                                    },
                                                                    {
                                                                      "type": ".",
                                                                      "start": {
                                                                        "row": 86,
                                                                        "column": 83
                                                                      },
                                                                      "end": {
                                                                        "row": 86,
                                                                        "column": 84
                                                                      },
                                                                      "text": "."
                                                                    },
                                                                    {
                                                                      "type": "identifier",
                                                                      "start": {
                                                                        "row": 86,
                                                                        "column": 84
                                                                      },
                                                                      "end": {
                                                                        "row": 86,
                                                                        "column": 88
                                                                      },
                                                                      "text": "copy"
                                                                    }
                                                                  ]
                                                                },
                                                                {
                                                                  "type": "argument_list",
                                                                  "start": {
                                                                    "row": 86,
                                                                    "column": 88
                                                                  },
                                                                  "end": {
                                                                    "row": 86,
                                                                    "column": 90
                                                                  },
                                                                  "text": "()",
                                                                  "children": [
                                                                    {
                                                                      "type": "(",
                                                                      "start": {
                                                                        "row": 86,
                                                                        "column": 88
                                                                      },
                                                                      "end": {
                                                                        "row": 86,
                                                                        "column": 89
                                                                      },
                                                                      "text": "("
                                                                    },
                                                                    {
                                                                      "type": ")",
                                                                      "start": {
                                                                        "row": 86,
                                                                        "column": 89
                                                                      },
                                                                      "end": {
                                                                        "row": 86,
                                                                        "column": 90
                                                                      },
                                                                      "text": ")"
                                                                    }
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "type": "}",
                                                          "start": {
                                                            "row": 86,
                                                            "column": 90
                                                          },
                                                          "end": {
                                                            "row": 86,
                                                            "column": 91
                                                          },
                                                          "text": "}"
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "type": ")",
                                                      "start": {
                                                        "row": 86,
                                                        "column": 91
                                                      },
                                                      "end": {
                                                        "row": 86,
                                                        "column": 92
                                                      },
                                                      "text": ")"
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "type": "[",
                                              "start": {
                                                "row": 86,
                                                "column": 92
                                              },
                                              "end": {
                                                "row": 86,
                                                "column": 93
                                              },
                                              "text": "["
                                            },
                                            {
                                              "type": "string",
                                              "start": {
                                                "row": 86,
                                                "column": 93
                                              },
                                              "end": {
                                                "row": 86,
                                                "column": 99
                                              },
                                              "text": "'tags'",
                                              "children": [
                                                {
                                                  "type": "string_start",
                                                  "start": {
                                                    "row": 86,
                                                    "column": 93
                                                  },
                                                  "end": {
                                                    "row": 86,
                                                    "column": 94
                                                  },
                                                  "text": "'"
                                                },
                                                {
                                                  "type": "string_content",
                                                  "start": {
                                                    "row": 86,
                                                    "column": 94
                                                  },
                                                  "end": {
                                                    "row": 86,
                                                    "column": 98
                                                  },
                                                  "text": "tags"
                                                },
                                                {
                                                  "type": "string_end",
                                                  "start": {
                                                    "row": 86,
                                                    "column": 98
                                                  },
                                                  "end": {
                                                    "row": 86,
                                                    "column": 99
                                                  },
                                                  "text": "'"
                                                }
                                              ]
                                            },
                                            {
                                              "type": "]",
                                              "start": {
                                                "row": 86,
                                                "column": 99
                                              },
                                              "end": {
                                                "row": 86,
                                                "column": 100
                                              },
                                              "text": "]"
                                            }
                                          ]
                                        },
                                        {
                                          "type": ".",
                                          "start": {
                                            "row": 86,
                                            "column": 100
                                          },
                                          "end": {
                                            "row": 86,
                                            "column": 101
                                          },
                                          "text": "."
                                        },
                                        {
                                          "type": "identifier",
                                          "start": {
                                            "row": 86,
                                            "column": 101
                                          },
                                          "end": {
                                            "row": 86,
                                            "column": 107
                                          },
                                          "text": "update"
                                        }
                                      ]
                                    },
                                    {
                                      "type": "argument_list",
                                      "start": {
                                        "row": 86,
                                        "column": 107
                                      },
                                      "end": {
                                        "row": 86,
                                        "column": 120
                                      },
                                      "text": "(tags.copy())",
                                      "children": [
                                        {
                                          "type": "(",
                                          "start": {
                                            "row": 86,
                                            "column": 107
                                          },
                                          "end": {
                                            "row": 86,
                                            "column": 108
                                          },
                                          "text": "("
                                        },
                                        {
                                          "type": "call",
                                          "start": {
                                            "row": 86,
                                            "column": 108
                                          },
                                          "end": {
                                            "row": 86,
                                            "column": 119
                                          },
                                          "text": "tags.copy()",
                                          "children": [
                                            {
                                              "type": "attribute",
                                              "start": {
                                                "row": 86,
                                                "column": 108
                                              },
                                              "end": {
                                                "row": 86,
                                                "column": 117
                                              },
                                              "text": "tags.copy",
                                              "children": [
                                                {
                                                  "type": "identifier",
                                                  "start": {
                                                    "row": 86,
                                                    "column": 108
                                                  },
                                                  "end": {
                                                    "row": 86,
                                                    "column": 112
                                                  },
                                                  "text": "tags"
                                                },
                                                {
                                                  "type": ".",
                                                  "start": {
                                                    "row": 86,
                                                    "column": 112
                                                  },
                                                  "end": {
                                                    "row": 86,
                                                    "column": 113
                                                  },
                                                  "text": "."
                                                },
                                                {
                                                  "type": "identifier",
                                                  "start": {
                                                    "row": 86,
                                                    "column": 113
                                                  },
                                                  "end": {
                                                    "row": 86,
                                                    "column": 117
                                                  },
                                                  "text": "copy"
                                                }
                                              ]
                                            },
                                            {
                                              "type": "argument_list",
                                              "start": {
                                                "row": 86,
                                                "column": 117
                                              },
                                              "end": {
                                                "row": 86,
                                                "column": 119
                                              },
                                              "text": "()",
                                              "children": [
                                                {
                                                  "type": "(",
                                                  "start": {
                                                    "row": 86,
                                                    "column": 117
                                                  },
                                                  "end": {
                                                    "row": 86,
                                                    "column": 118
                                                  },
                                                  "text": "("
                                                },
                                                {
                                                  "type": ")",
                                                  "start": {
                                                    "row": 86,
                                                    "column": 118
                                                  },
                                                  "end": {
                                                    "row": 86,
                                                    "column": 119
                                                  },
                                                  "text": ")"
                                                }
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "type": ")",
                                          "start": {
                                            "row": 86,
                                            "column": 119
                                          },
                                          "end": {
                                            "row": 86,
                                            "column": 120
                                          },
                                          "text": ")"
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "type": "expression_statement",
              "start": {
                "row": 87,
                "column": 4
              },
              "end": {
                "row": 87,
                "column": 53
              },
              "text": "log.debug('tag_sets after munging: %s', tag_sets)",
              "children": [
                {
                  "type": "call",
                  "start": {
                    "row": 87,
                    "column": 4
                  },
                  "end": {
                    "row": 87,
                    "column": 53
                  },
                  "text": "log.debug('tag_sets after munging: %s', tag_sets)",
                  "children": [
                    {
                      "type": "attribute",
                      "start": {
                        "row": 87,
                        "column": 4
                      },
                      "end": {
                        "row": 87,
                        "column": 13
                      },
                      "text": "log.debug",
                      "children": [
                        {
                          "type": "identifier",
                          "start": {
                            "row": 87,
                            "column": 4
                          },
                          "end": {
                            "row": 87,
                            "column": 7
                          },
                          "text": "log"
                        },
                        {
                          "type": ".",
                          "start": {
                            "row": 87,
                            "column": 7
                          },
                          "end": {
                            "row": 87,
                            "column": 8
                          },
                          "text": "."
                        },
                        {
                          "type": "identifier",
                          "start": {
                            "row": 87,
                            "column": 8
                          },
                          "end": {
                            "row": 87,
                            "column": 13
                          },
                          "text": "debug"
                        }
                      ]
                    },
                    {
                      "type": "argument_list",
                      "start": {
                        "row": 87,
                        "column": 13
                      },
                      "end": {
                        "row": 87,
                        "column": 53
                      },
                      "text": "('tag_sets after munging: %s', tag_sets)",
                      "children": [
                        {
                          "type": "(",
                          "start": {
                            "row": 87,
                            "column": 13
                          },
                          "end": {
                            "row": 87,
                            "column": 14
                          },
                          "text": "("
                        },
                        {
                          "type": "string",
                          "start": {
                            "row": 87,
                            "column": 14
                          },
                          "end": {
                            "row": 87,
                            "column": 42
                          },
                          "text": "'tag_sets after munging: %s'",
                          "children": [
                            {
                              "type": "string_start",
                              "start": {
                                "row": 87,
                                "column": 14
                              },
                              "end": {
                                "row": 87,
                                "column": 15
                              },
                              "text": "'"
                            },
                            {
                              "type": "string_content",
                              "start": {
                                "row": 87,
                                "column": 15
                              },
                              "end": {
                                "row": 87,
                                "column": 41
                              },
                              "text": "tag_sets after munging: %s"
                            },
                            {
                              "type": "string_end",
                              "start": {
                                "row": 87,
                                "column": 41
                              },
                              "end": {
                                "row": 87,
                                "column": 42
                              },
                              "text": "'"
                            }
                          ]
                        },
                        {
                          "type": ",",
                          "start": {
                            "row": 87,
                            "column": 42
                          },
                          "end": {
                            "row": 87,
                            "column": 43
                          },
                          "text": ","
                        },
                        {
                          "type": "identifier",
                          "start": {
                            "row": 87,
                            "column": 44
                          },
                          "end": {
                            "row": 87,
                            "column": 52
                          },
                          "text": "tag_sets"
                        },
                        {
                          "type": ")",
                          "start": {
                            "row": 87,
                            "column": 52
                          },
                          "end": {
                            "row": 87,
                            "column": 53
                          },
                          "text": ")"
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "type": "comment",
              "start": {
                "row": 89,
                "column": 4
              },
              "end": {
                "row": 89,
                "column": 72
              },
              "text": "### ...then loop through all those volume->tag pairs and apply them."
            },
            {
              "type": "expression_statement",
              "start": {
                "row": 90,
                "column": 4
              },
              "end": {
                "row": 90,
                "column": 36
              },
              "text": "changes = {'old': {}, 'new': {}}",
              "children": [
                {
                  "type": "assignment",
                  "start": {
                    "row": 90,
                    "column": 4
                  },
                  "end": {
                    "row": 90,
                    "column": 36
                  },
                  "text": "changes = {'old': {}, 'new': {}}",
                  "children": [
                    {
                      "type": "identifier",
                      "start": {
                        "row": 90,
                        "column": 4
                      },
                      "end": {
                        "row": 90,
                        "column": 11
                      },
                      "text": "changes"
                    },
                    {
                      "type": "=",
                      "start": {
                        "row": 90,
                        "column": 12
                      },
                      "end": {
                        "row": 90,
                        "column": 13
                      },
                      "text": "="
                    },
                    {
                      "type": "dictionary",
                      "start": {
                        "row": 90,
                        "column": 14
                      },
                      "end": {
                        "row": 90,
                        "column": 36
                      },
                      "text": "{'old': {}, 'new': {}}",
                      "children": [
                        {
                          "type": "{",
                          "start": {
                            "row": 90,
                            "column": 14
                          },
                          "end": {
                            "row": 90,
                            "column": 15
                          },
                          "text": "{"
                        },
                        {
                          "type": "pair",
                          "start": {
                            "row": 90,
                            "column": 15
                          },
                          "end": {
                            "row": 90,
                            "column": 24
                          },
                          "text": "'old': {}",
                          "children": [
                            {
                              "type": "string",
                              "start": {
                                "row": 90,
                                "column": 15
                              },
                              "end": {
                                "row": 90,
                                "column": 20
                              },
                              "text": "'old'",
                              "children": [
                                {
                                  "type": "string_start",
                                  "start": {
                                    "row": 90,
                                    "column": 15
                                  },
                                  "end": {
                                    "row": 90,
                                    "column": 16
                                  },
                                  "text": "'"
                                },
                                {
                                  "type": "string_content",
                                  "start": {
                                    "row": 90,
                                    "column": 16
                                  },
                                  "end": {
                                    "row": 90,
                                    "column": 19
                                  },
                                  "text": "old"
                                },
                                {
                                  "type": "string_end",
                                  "start": {
                                    "row": 90,
                                    "column": 19
                                  },
                                  "end": {
                                    "row": 90,
                                    "column": 20
                                  },
                                  "text": "'"
                                }
                              ]
                            },
                            {
                              "type": ":",
                              "start": {
                                "row": 90,
                                "column": 20
                              },
                              "end": {
                                "row": 90,
                                "column": 21
                              },
                              "text": ":"
                            },
                            {
                              "type": "dictionary",
                              "start": {
                                "row": 90,
                                "column": 22
                              },
                              "end": {
                                "row": 90,
                                "column": 24
                              },
                              "text": "{}",
                              "children": [
                                {
                                  "type": "{",
                                  "start": {
                                    "row": 90,
                                    "column": 22
                                  },
                                  "end": {
                                    "row": 90,
                                    "column": 23
                                  },
                                  "text": "{"
                                },
                                {
                                  "type": "}",
                                  "start": {
                                    "row": 90,
                                    "column": 23
                                  },
                                  "end": {
                                    "row": 90,
                                    "column": 24
                                  },
                                  "text": "}"
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": ",",
                          "start": {
                            "row": 90,
                            "column": 24
                          },
                          "end": {
                            "row": 90,
                            "column": 25
                          },
                          "text": ","
                        },
                        {
                          "type": "pair",
                          "start": {
                            "row": 90,
                            "column": 26
                          },
                          "end": {
                            "row": 90,
                            "column": 35
                          },
                          "text": "'new': {}",
                          "children": [
                            {
                              "type": "string",
                              "start": {
                                "row": 90,
                                "column": 26
                              },
                              "end": {
                                "row": 90,
                                "column": 31
                              },
                              "text": "'new'",
                              "children": [
                                {
                                  "type": "string_start",
                                  "start": {
                                    "row": 90,
                                    "column": 26
                                  },
                                  "end": {
                                    "row": 90,
                                    "column": 27
                                  },
                                  "text": "'"
                                },
                                {
                                  "type": "string_content",
                                  "start": {
                                    "row": 90,
                                    "column": 27
                                  },
                                  "end": {
                                    "row": 90,
                                    "column": 30
                                  },
                                  "text": "new"
                                },
                                {
                                  "type": "string_end",
                                  "start": {
                                    "row": 90,
                                    "column": 30
                                  },
                                  "end": {
                                    "row": 90,
                                    "column": 31
                                  },
                                  "text": "'"
                                }
                              ]
                            },
                            {
                              "type": ":",
                              "start": {
                                "row": 90,
                                "column": 31
                              },
                              "end": {
                                "row": 90,
                                "column": 32
                              },
                              "text": ":"
                            },
                            {
                              "type": "dictionary",
                              "start": {
                                "row": 90,
                                "column": 33
                              },
                              "end": {
                                "row": 90,
                                "column": 35
                              },
                              "text": "{}",
                              "children": [
                                {
                                  "type": "{",
                                  "start": {
                                    "row": 90,
                                    "column": 33
                                  },
                                  "end": {
                                    "row": 90,
                                    "column": 34
                                  },
                                  "text": "{"
                                },
                                {
                                  "type": "}",
                                  "start": {
                                    "row": 90,
                                    "column": 34
                                  },
                                  "end": {
                                    "row": 90,
                                    "column": 35
                                  },
                                  "text": "}"
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": "}",
                          "start": {
                            "row": 90,
                            "column": 35
                          },
                          "end": {
                            "row": 90,
                            "column": 36
                          },
                          "text": "}"
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "type": "for_statement",
              "start": {
                "row": 91,
                "column": 4
              },
              "end": {
                "row": 122,
                "column": 34
              },
              "text": "for volume in tag_sets.values():\n        vol, tags = volume['vol'], volume['tags']\n        log.debug('current tags on vol.id %s: %s', vol.id, dict(getattr(vol, 'tags', {})))\n        curr = set(dict(getattr(vol, 'tags', {})).keys())\n        log.debug('requested tags on vol.id %s: %s', vol.id, tags)\n        req = set(tags.keys())\n        add = list(req - curr)\n        update = [r for r in (req & curr) if vol.tags[r] != tags[r]]\n        remove = list(curr - req)\n        if add or update or (authoritative and remove):\n            changes['old'][vol.id] = dict(getattr(vol, 'tags', {}))\n            changes['new'][vol.id] = tags\n        else:\n            log.debug('No changes needed for vol.id %s', vol.id)\n        if add:\n            d = dict((k, tags[k]) for k in add)\n            log.debug('New tags for vol.id %s: %s', vol.id, d)\n        if update:\n            d = dict((k, tags[k]) for k in update)\n            log.debug('Updated tags for vol.id %s: %s', vol.id, d)\n        if not dry_run:\n            if not create_tags(vol.id, tags, region=region, key=key, keyid=keyid, profile=profile):\n                ret['success'] = False\n                ret['comment'] = \"Failed to set tags on vol.id {0}: {1}\".format(vol.id, tags)\n                return ret\n            if authoritative:\n                if remove:\n                    log.debug('Removed tags for vol.id %s: %s', vol.id, remove)\n                    if not delete_tags(vol.id, remove, region=region, key=key, keyid=keyid, profile=profile):\n                        ret['success'] = False\n                        ret['comment'] = \"Failed to remove tags on vol.id {0}: {1}\".format(vol.id, remove)\n                        return ret",
              "children": [
                {
                  "type": "for",
                  "start": {
                    "row": 91,
                    "column": 4
                  },
                  "end": {
                    "row": 91,
                    "column": 7
                  },
                  "text": "for"
                },
                {
                  "type": "identifier",
                  "start": {
                    "row": 91,
                    "column": 8
                  },
                  "end": {
                    "row": 91,
                    "column": 14
                  },
                  "text": "volume"
                },
                {
                  "type": "in",
                  "start": {
                    "row": 91,
                    "column": 15
                  },
                  "end": {
                    "row": 91,
                    "column": 17
                  },
                  "text": "in"
                },
                {
                  "type": "call",
                  "start": {
                    "row": 91,
                    "column": 18
                  },
                  "end": {
                    "row": 91,
                    "column": 35
                  },
                  "text": "tag_sets.values()",
                  "children": [
                    {
                      "type": "attribute",
                      "start": {
                        "row": 91,
                        "column": 18
                      },
                      "end": {
                        "row": 91,
                        "column": 33
                      },
                      "text": "tag_sets.values",
                      "children": [
                        {
                          "type": "identifier",
                          "start": {
                            "row": 91,
                            "column": 18
                          },
                          "end": {
                            "row": 91,
                            "column": 26
                          },
                          "text": "tag_sets"
                        },
                        {
                          "type": ".",
                          "start": {
                            "row": 91,
                            "column": 26
                          },
                          "end": {
                            "row": 91,
                            "column": 27
                          },
                          "text": "."
                        },
                        {
                          "type": "identifier",
                          "start": {
                            "row": 91,
                            "column": 27
                          },
                          "end": {
                            "row": 91,
                            "column": 33
                          },
                          "text": "values"
                        }
                      ]
                    },
                    {
                      "type": "argument_list",
                      "start": {
                        "row": 91,
                        "column": 33
                      },
                      "end": {
                        "row": 91,
                        "column": 35
                      },
                      "text": "()",
                      "children": [
                        {
                          "type": "(",
                          "start": {
                            "row": 91,
                            "column": 33
                          },
                          "end": {
                            "row": 91,
                            "column": 34
                          },
                          "text": "("
                        },
                        {
                          "type": ")",
                          "start": {
                            "row": 91,
                            "column": 34
                          },
                          "end": {
                            "row": 91,
                            "column": 35
                          },
                          "text": ")"
                        }
                      ]
                    }
                  ]
                },
                {
                  "type": ":",
                  "start": {
                    "row": 91,
                    "column": 35
                  },
                  "end": {
                    "row": 91,
                    "column": 36
                  },
                  "text": ":"
                },
                {
                  "type": "block",
                  "start": {
                    "row": 92,
                    "column": 8
                  },
                  "end": {
                    "row": 122,
                    "column": 34
                  },
                  "text": "vol, tags = volume['vol'], volume['tags']\n        log.debug('current tags on vol.id %s: %s', vol.id, dict(getattr(vol, 'tags', {})))\n        curr = set(dict(getattr(vol, 'tags', {})).keys())\n        log.debug('requested tags on vol.id %s: %s', vol.id, tags)\n        req = set(tags.keys())\n        add = list(req - curr)\n        update = [r for r in (req & curr) if vol.tags[r] != tags[r]]\n        remove = list(curr - req)\n        if add or update or (authoritative and remove):\n            changes['old'][vol.id] = dict(getattr(vol, 'tags', {}))\n            changes['new'][vol.id] = tags\n        else:\n            log.debug('No changes needed for vol.id %s', vol.id)\n        if add:\n            d = dict((k, tags[k]) for k in add)\n            log.debug('New tags for vol.id %s: %s', vol.id, d)\n        if update:\n            d = dict((k, tags[k]) for k in update)\n            log.debug('Updated tags for vol.id %s: %s', vol.id, d)\n        if not dry_run:\n            if not create_tags(vol.id, tags, region=region, key=key, keyid=keyid, profile=profile):\n                ret['success'] = False\n                ret['comment'] = \"Failed to set tags on vol.id {0}: {1}\".format(vol.id, tags)\n                return ret\n            if authoritative:\n                if remove:\n                    log.debug('Removed tags for vol.id %s: %s', vol.id, remove)\n                    if not delete_tags(vol.id, remove, region=region, key=key, keyid=keyid, profile=profile):\n                        ret['success'] = False\n                        ret['comment'] = \"Failed to remove tags on vol.id {0}: {1}\".format(vol.id, remove)\n                        return ret",
                  "children": [
                    {
                      "type": "expression_statement",
                      "start": {
                        "row": 92,
                        "column": 8
                      },
                      "end": {
                        "row": 92,
                        "column": 49
                      },
                      "text": "vol, tags = volume['vol'], volume['tags']",
                      "children": [
                        {
                          "type": "assignment",
                          "start": {
                            "row": 92,
                            "column": 8
                          },
                          "end": {
                            "row": 92,
                            "column": 49
                          },
                          "text": "vol, tags = volume['vol'], volume['tags']",
                          "children": [
                            {
                              "type": "pattern_list",
                              "start": {
                                "row": 92,
                                "column": 8
                              },
                              "end": {
                                "row": 92,
                                "column": 17
                              },
                              "text": "vol, tags",
                              "children": [
                                {
                                  "type": "identifier",
                                  "start": {
                                    "row": 92,
                                    "column": 8
                                  },
                                  "end": {
                                    "row": 92,
                                    "column": 11
                                  },
                                  "text": "vol"
                                },
                                {
                                  "type": ",",
                                  "start": {
                                    "row": 92,
                                    "column": 11
                                  },
                                  "end": {
                                    "row": 92,
                                    "column": 12
                                  },
                                  "text": ","
                                },
                                {
                                  "type": "identifier",
                                  "start": {
                                    "row": 92,
                                    "column": 13
                                  },
                                  "end": {
                                    "row": 92,
                                    "column": 17
                                  },
                                  "text": "tags"
                                }
                              ]
                            },
                            {
                              "type": "=",
                              "start": {
                                "row": 92,
                                "column": 18
                              },
                              "end": {
                                "row": 92,
                                "column": 19
                              },
                              "text": "="
                            },
                            {
                              "type": "expression_list",
                              "start": {
                                "row": 92,
                                "column": 20
                              },
                              "end": {
                                "row": 92,
                                "column": 49
                              },
                              "text": "volume['vol'], volume['tags']",
                              "children": [
                                {
                                  "type": "subscript",
                                  "start": {
                                    "row": 92,
                                    "column": 20
                                  },
                                  "end": {
                                    "row": 92,
                                    "column": 33
                                  },
                                  "text": "volume['vol']",
                                  "children": [
                                    {
                                      "type": "identifier",
                                      "start": {
                                        "row": 92,
                                        "column": 20
                                      },
                                      "end": {
                                        "row": 92,
                                        "column": 26
                                      },
                                      "text": "volume"
                                    },
                                    {
                                      "type": "[",
                                      "start": {
                                        "row": 92,
                                        "column": 26
                                      },
                                      "end": {
                                        "row": 92,
                                        "column": 27
                                      },
                                      "text": "["
                                    },
                                    {
                                      "type": "string",
                                      "start": {
                                        "row": 92,
                                        "column": 27
                                      },
                                      "end": {
                                        "row": 92,
                                        "column": 32
                                      },
                                      "text": "'vol'",
                                      "children": [
                                        {
                                          "type": "string_start",
                                          "start": {
                                            "row": 92,
                                            "column": 27
                                          },
                                          "end": {
                                            "row": 92,
                                            "column": 28
                                          },
                                          "text": "'"
                                        },
                                        {
                                          "type": "string_content",
                                          "start": {
                                            "row": 92,
                                            "column": 28
                                          },
                                          "end": {
                                            "row": 92,
                                            "column": 31
                                          },
                                          "text": "vol"
                                        },
                                        {
                                          "type": "string_end",
                                          "start": {
                                            "row": 92,
                                            "column": 31
                                          },
                                          "end": {
                                            "row": 92,
                                            "column": 32
                                          },
                                          "text": "'"
                                        }
                                      ]
                                    },
                                    {
                                      "type": "]",
                                      "start": {
                                        "row": 92,
                                        "column": 32
                                      },
                                      "end": {
                                        "row": 92,
                                        "column": 33
                                      },
                                      "text": "]"
                                    }
                                  ]
                                },
                                {
                                  "type": ",",
                                  "start": {
                                    "row": 92,
                                    "column": 33
                                  },
                                  "end": {
                                    "row": 92,
                                    "column": 34
                                  },
                                  "text": ","
                                },
                                {
                                  "type": "subscript",
                                  "start": {
                                    "row": 92,
                                    "column": 35
                                  },
                                  "end": {
                                    "row": 92,
                                    "column": 49
                                  },
                                  "text": "volume['tags']",
                                  "children": [
                                    {
                                      "type": "identifier",
                                      "start": {
                                        "row": 92,
                                        "column": 35
                                      },
                                      "end": {
                                        "row": 92,
                                        "column": 41
                                      },
                                      "text": "volume"
                                    },
                                    {
                                      "type": "[",
                                      "start": {
                                        "row": 92,
                                        "column": 41
                                      },
                                      "end": {
                                        "row": 92,
                                        "column": 42
                                      },
                                      "text": "["
                                    },
                                    {
                                      "type": "string",
                                      "start": {
                                        "row": 92,
                                        "column": 42
                                      },
                                      "end": {
                                        "row": 92,
                                        "column": 48
                                      },
                                      "text": "'tags'",
                                      "children": [
                                        {
                                          "type": "string_start",
                                          "start": {
                                            "row": 92,
                                            "column": 42
                                          },
                                          "end": {
                                            "row": 92,
                                            "column": 43
                                          },
                                          "text": "'"
                                        },
                                        {
                                          "type": "string_content",
                                          "start": {
                                            "row": 92,
                                            "column": 43
                                          },
                                          "end": {
                                            "row": 92,
                                            "column": 47
                                          },
                                          "text": "tags"
                                        },
                                        {
                                          "type": "string_end",
                                          "start": {
                                            "row": 92,
                                            "column": 47
                                          },
                                          "end": {
                                            "row": 92,
                                            "column": 48
                                          },
                                          "text": "'"
                                        }
                                      ]
                                    },
                                    {
                                      "type": "]",
                                      "start": {
                                        "row": 92,
                                        "column": 48
                                      },
                                      "end": {
                                        "row": 92,
                                        "column": 49
                                      },
                                      "text": "]"
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "type": "expression_statement",
                      "start": {
                        "row": 93,
                        "column": 8
                      },
                      "end": {
                        "row": 93,
                        "column": 90
                      },
                      "text": "log.debug('current tags on vol.id %s: %s', vol.id, dict(getattr(vol, 'tags', {})))",
                      "children": [
                        {
                          "type": "call",
                          "start": {
                            "row": 93,
                            "column": 8
                          },
                          "end": {
                            "row": 93,
                            "column": 90
                          },
                          "text": "log.debug('current tags on vol.id %s: %s', vol.id, dict(getattr(vol, 'tags', {})))",
                          "children": [
                            {
                              "type": "attribute",
                              "start": {
                                "row": 93,
                                "column": 8
                              },
                              "end": {
                                "row": 93,
                                "column": 17
                              },
                              "text": "log.debug",
                              "children": [
                                {
                                  "type": "identifier",
                                  "start": {
                                    "row": 93,
                                    "column": 8
                                  },
                                  "end": {
                                    "row": 93,
                                    "column": 11
                                  },
                                  "text": "log"
                                },
                                {
                                  "type": ".",
                                  "start": {
                                    "row": 93,
                                    "column": 11
                                  },
                                  "end": {
                                    "row": 93,
                                    "column": 12
                                  },
                                  "text": "."
                                },
                                {
                                  "type": "identifier",
                                  "start": {
                                    "row": 93,
                                    "column": 12
                                  },
                                  "end": {
                                    "row": 93,
                                    "column": 17
                                  },
                                  "text": "debug"
                                }
                              ]
                            },
                            {
                              "type": "argument_list",
                              "start": {
                                "row": 93,
                                "column": 17
                              },
                              "end": {
                                "row": 93,
                                "column": 90
                              },
                              "text": "('current tags on vol.id %s: %s', vol.id, dict(getattr(vol, 'tags', {})))",
                              "children": [
                                {
                                  "type": "(",
                                  "start": {
                                    "row": 93,
                                    "column": 17
                                  },
                                  "end": {
                                    "row": 93,
                                    "column": 18
                                  },
                                  "text": "("
                                },
                                {
                                  "type": "string",
                                  "start": {
                                    "row": 93,
                                    "column": 18
                                  },
                                  "end": {
                                    "row": 93,
                                    "column": 49
                                  },
                                  "text": "'current tags on vol.id %s: %s'",
                                  "children": [
                                    {
                                      "type": "string_start",
                                      "start": {
                                        "row": 93,
                                        "column": 18
                                      },
                                      "end": {
                                        "row": 93,
                                        "column": 19
                                      },
                                      "text": "'"
                                    },
                                    {
                                      "type": "string_content",
                                      "start": {
                                        "row": 93,
                                        "column": 19
                                      },
                                      "end": {
                                        "row": 93,
                                        "column": 48
                                      },
                                      "text": "current tags on vol.id %s: %s"
                                    },
                                    {
                                      "type": "string_end",
                                      "start": {
                                        "row": 93,
                                        "column": 48
                                      },
                                      "end": {
                                        "row": 93,
                                        "column": 49
                                      },
                                      "text": "'"
                                    }
                                  ]
                                },
                                {
                                  "type": ",",
                                  "start": {
                                    "row": 93,
                                    "column": 49
                                  },
                                  "end": {
                                    "row": 93,
                                    "column": 50
                                  },
                                  "text": ","
                                },
                                {
                                  "type": "attribute",
                                  "start": {
                                    "row": 93,
                                    "column": 51
                                  },
                                  "end": {
                                    "row": 93,
                                    "column": 57
                                  },
                                  "text": "vol.id",
                                  "children": [
                                    {
                                      "type": "identifier",
                                      "start": {
                                        "row": 93,
                                        "column": 51
                                      },
                                      "end": {
                                        "row": 93,
                                        "column": 54
                                      },
                                      "text": "vol"
                                    },
                                    {
                                      "type": ".",
                                      "start": {
                                        "row": 93,
                                        "column": 54
                                      },
                                      "end": {
                                        "row": 93,
                                        "column": 55
                                      },
                                      "text": "."
                                    },
                                    {
                                      "type": "identifier",
                                      "start": {
                                        "row": 93,
                                        "column": 55
                                      },
                                      "end": {
                                        "row": 93,
                                        "column": 57
                                      },
                                      "text": "id"
                                    }
                                  ]
                                },
                                {
                                  "type": ",",
                                  "start": {
                                    "row": 93,
                                    "column": 57
                                  },
                                  "end": {
                                    "row": 93,
                                    "column": 58
                                  },
                                  "text": ","
                                },
                                {
                                  "type": "call",
                                  "start": {
                                    "row": 93,
                                    "column": 59
                                  },
                                  "end": {
                                    "row": 93,
                                    "column": 89
                                  },
                                  "text": "dict(getattr(vol, 'tags', {}))",
                                  "children": [
                                    {
                                      "type": "identifier",
                                      "start": {
                                        "row": 93,
                                        "column": 59
                                      },
                                      "end": {
                                        "row": 93,
                                        "column": 63
                                      },
                                      "text": "dict"
                                    },
                                    {
                                      "type": "argument_list",
                                      "start": {
                                        "row": 93,
                                        "column": 63
                                      },
                                      "end": {
                                        "row": 93,
                                        "column": 89
                                      },
                                      "text": "(getattr(vol, 'tags', {}))",
                                      "children": [
                                        {
                                          "type": "(",
                                          "start": {
                                            "row": 93,
                                            "column": 63
                                          },
                                          "end": {
                                            "row": 93,
                                            "column": 64
                                          },
                                          "text": "("
                                        },
                                        {
                                          "type": "call",
                                          "start": {
                                            "row": 93,
                                            "column": 64
                                          },
                                          "end": {
                                            "row": 93,
                                            "column": 88
                                          },
                                          "text": "getattr(vol, 'tags', {})",
                                          "children": [
                                            {
                                              "type": "identifier",
                                              "start": {
                                                "row": 93,
                                                "column": 64
                                              },
                                              "end": {
                                                "row": 93,
                                                "column": 71
                                              },
                                              "text": "getattr"
                                            },
                                            {
                                              "type": "argument_list",
                                              "start": {
                                                "row": 93,
                                                "column": 71
                                              },
                                              "end": {
                                                "row": 93,
                                                "column": 88
                                              },
                                              "text": "(vol, 'tags', {})",
                                              "children": [
                                                {
                                                  "type": "(",
                                                  "start": {
                                                    "row": 93,
                                                    "column": 71
                                                  },
                                                  "end": {
                                                    "row": 93,
                                                    "column": 72
                                                  },
                                                  "text": "("
                                                },
                                                {
                                                  "type": "identifier",
                                                  "start": {
                                                    "row": 93,
                                                    "column": 72
                                                  },
                                                  "end": {
                                                    "row": 93,
                                                    "column": 75
                                                  },
                                                  "text": "vol"
                                                },
                                                {
                                                  "type": ",",
                                                  "start": {
                                                    "row": 93,
                                                    "column": 75
                                                  },
                                                  "end": {
                                                    "row": 93,
                                                    "column": 76
                                                  },
                                                  "text": ","
                                                },
                                                {
                                                  "type": "string",
                                                  "start": {
                                                    "row": 93,
                                                    "column": 77
                                                  },
                                                  "end": {
                                                    "row": 93,
                                                    "column": 83
                                                  },
                                                  "text": "'tags'",
                                                  "children": [
                                                    {
                                                      "type": "string_start",
                                                      "start": {
                                                        "row": 93,
                                                        "column": 77
                                                      },
                                                      "end": {
                                                        "row": 93,
                                                        "column": 78
                                                      },
                                                      "text": "'"
                                                    },
                                                    {
                                                      "type": "string_content",
                                                      "start": {
                                                        "row": 93,
                                                        "column": 78
                                                      },
                                                      "end": {
                                                        "row": 93,
                                                        "column": 82
                                                      },
                                                      "text": "tags"
                                                    },
                                                    {
                                                      "type": "string_end",
                                                      "start": {
                                                        "row": 93,
                                                        "column": 82
                                                      },
                                                      "end": {
                                                        "row": 93,
                                                        "column": 83
                                                      },
                                                      "text": "'"
                                                    }
                                                  ]
                                                },
                                                {
                                                  "type": ",",
                                                  "start": {
                                                    "row": 93,
                                                    "column": 83
                                                  },
                                                  "end": {
                                                    "row": 93,
                                                    "column": 84
                                                  },
                                                  "text": ","
                                                },
                                                {
                                                  "type": "dictionary",
                                                  "start": {
                                                    "row": 93,
                                                    "column": 85
                                                  },
                                                  "end": {
                                                    "row": 93,
                                                    "column": 87
                                                  },
                                                  "text": "{}",
                                                  "children": [
                                                    {
                                                      "type": "{",
                                                      "start": {
                                                        "row": 93,
                                                        "column": 85
                                                      },
                                                      "end": {
                                                        "row": 93,
                                                        "column": 86
                                                      },
                                                      "text": "{"
                                                    },
                                                    {
                                                      "type": "}",
                                                      "start": {
                                                        "row": 93,
                                                        "column": 86
                                                      },
                                                      "end": {
                                                        "row": 93,
                                                        "column": 87
                                                      },
                                                      "text": "}"
                                                    }
                                                  ]
                                                },
                                                {
                                                  "type": ")",
                                                  "start": {
                                                    "row": 93,
                                                    "column": 87
                                                  },
                                                  "end": {
                                                    "row": 93,
                                                    "column": 88
                                                  },
                                                  "text": ")"
                                                }
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "type": ")",
                                          "start": {
                                            "row": 93,
                                            "column": 88
                                          },
                                          "end": {
                                            "row": 93,
                                            "column": 89
                                          },
                                          "text": ")"
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "type": ")",
                                  "start": {
                                    "row": 93,
                                    "column": 89
                                  },
                                  "end": {
                                    "row": 93,
                                    "column": 90
                                  },
                                  "text": ")"
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "type": "expression_statement",
                      "start": {
                        "row": 94,
                        "column": 8
                      },
                      "end": {
                        "row": 94,
                        "column": 57
                      },
                      "text": "curr = set(dict(getattr(vol, 'tags', {})).keys())",
                      "children": [
                        {
                          "type": "assignment",
                          "start": {
                            "row": 94,
                            "column": 8
                          },
                          "end": {
                            "row": 94,
                            "column": 57
                          },
                          "text": "curr = set(dict(getattr(vol, 'tags', {})).keys())",
                          "children": [
                            {
                              "type": "identifier",
                              "start": {
                                "row": 94,
                                "column": 8
                              },
                              "end": {
                                "row": 94,
                                "column": 12
                              },
                              "text": "curr"
                            },
                            {
                              "type": "=",
                              "start": {
                                "row": 94,
                                "column": 13
                              },
                              "end": {
                                "row": 94,
                                "column": 14
                              },
                              "text": "="
                            },
                            {
                              "type": "call",
                              "start": {
                                "row": 94,
                                "column": 15
                              },
                              "end": {
                                "row": 94,
                                "column": 57
                              },
                              "text": "set(dict(getattr(vol, 'tags', {})).keys())",
                              "children": [
                                {
                                  "type": "identifier",
                                  "start": {
                                    "row": 94,
                                    "column": 15
                                  },
                                  "end": {
                                    "row": 94,
                                    "column": 18
                                  },
                                  "text": "set"
                                },
                                {
                                  "type": "argument_list",
                                  "start": {
                                    "row": 94,
                                    "column": 18
                                  },
                                  "end": {
                                    "row": 94,
                                    "column": 57
                                  },
                                  "text": "(dict(getattr(vol, 'tags', {})).keys())",
                                  "children": [
                                    {
                                      "type": "(",
                                      "start": {
                                        "row": 94,
                                        "column": 18
                                      },
                                      "end": {
                                        "row": 94,
                                        "column": 19
                                      },
                                      "text": "("
                                    },
                                    {
                                      "type": "call",
                                      "start": {
                                        "row": 94,
                                        "column": 19
                                      },
                                      "end": {
                                        "row": 94,
                                        "column": 56
                                      },
                                      "text": "dict(getattr(vol, 'tags', {})).keys()",
                                      "children": [
                                        {
                                          "type": "attribute",
                                          "start": {
                                            "row": 94,
                                            "column": 19
                                          },
                                          "end": {
                                            "row": 94,
                                            "column": 54
                                          },
                                          "text": "dict(getattr(vol, 'tags', {})).keys",
                                          "children": [
                                            {
                                              "type": "call",
                                              "start": {
                                                "row": 94,
                                                "column": 19
                                              },
                                              "end": {
                                                "row": 94,
                                                "column": 49
                                              },
                                              "text": "dict(getattr(vol, 'tags', {}))",
                                              "children": [
                                                {
                                                  "type": "identifier",
                                                  "start": {
                                                    "row": 94,
                                                    "column": 19
                                                  },
                                                  "end": {
                                                    "row": 94,
                                                    "column": 23
                                                  },
                                                  "text": "dict"
                                                },
                                                {
                                                  "type": "argument_list",
                                                  "start": {
                                                    "row": 94,
                                                    "column": 23
                                                  },
                                                  "end": {
                                                    "row": 94,
                                                    "column": 49
                                                  },
                                                  "text": "(getattr(vol, 'tags', {}))",
                                                  "children": [
                                                    {
                                                      "type": "(",
                                                      "start": {
                                                        "row": 94,
                                                        "column": 23
                                                      },
                                                      "end": {
                                                        "row": 94,
                                                        "column": 24
                                                      },
                                                      "text": "("
                                                    },
                                                    {
                                                      "type": "call",
                                                      "start": {
                                                        "row": 94,
                                                        "column": 24
                                                      },
                                                      "end": {
                                                        "row": 94,
                                                        "column": 48
                                                      },
                                                      "text": "getattr(vol, 'tags', {})",
                                                      "children": [
                                                        {
                                                          "type": "identifier",
                                                          "start": {
                                                            "row": 94,
                                                            "column": 24
                                                          },
                                                          "end": {
                                                            "row": 94,
                                                            "column": 31
                                                          },
                                                          "text": "getattr"
                                                        },
                                                        {
                                                          "type": "argument_list",
                                                          "start": {
                                                            "row": 94,
                                                            "column": 31
                                                          },
                                                          "end": {
                                                            "row": 94,
                                                            "column": 48
                                                          },
                                                          "text": "(vol, 'tags', {})",
                                                          "children": [
                                                            {
                                                              "type": "(",
                                                              "start": {
                                                                "row": 94,
                                                                "column": 31
                                                              },
                                                              "end": {
                                                                "row": 94,
                                                                "column": 32
                                                              },
                                                              "text": "("
                                                            },
                                                            {
                                                              "type": "identifier",
                                                              "start": {
                                                                "row": 94,
                                                                "column": 32
                                                              },
                                                              "end": {
                                                                "row": 94,
                                                                "column": 35
                                                              },
                                                              "text": "vol"
                                                            },
                                                            {
                                                              "type": ",",
                                                              "start": {
                                                                "row": 94,
                                                                "column": 35
                                                              },
                                                              "end": {
                                                                "row": 94,
                                                                "column": 36
                                                              },
                                                              "text": ","
                                                            },
                                                            {
                                                              "type": "string",
                                                              "start": {
                                                                "row": 94,
                                                                "column": 37
                                                              },
                                                              "end": {
                                                                "row": 94,
                                                                "column": 43
                                                              },
                                                              "text": "'tags'",
                                                              "children": [
                                                                {
                                                                  "type": "string_start",
                                                                  "start": {
                                                                    "row": 94,
                                                                    "column": 37
                                                                  },
                                                                  "end": {
                                                                    "row": 94,
                                                                    "column": 38
                                                                  },
                                                                  "text": "'"
                                                                },
                                                                {
                                                                  "type": "string_content",
                                                                  "start": {
                                                                    "row": 94,
                                                                    "column": 38
                                                                  },
                                                                  "end": {
                                                                    "row": 94,
                                                                    "column": 42
                                                                  },
                                                                  "text": "tags"
                                                                },
                                                                {
                                                                  "type": "string_end",
                                                                  "start": {
                                                                    "row": 94,
                                                                    "column": 42
                                                                  },
                                                                  "end": {
                                                                    "row": 94,
                                                                    "column": 43
                                                                  },
                                                                  "text": "'"
                                                                }
                                                              ]
                                                            },
                                                            {
                                                              "type": ",",
                                                              "start": {
                                                                "row": 94,
                                                                "column": 43
                                                              },
                                                              "end": {
                                                                "row": 94,
                                                                "column": 44
                                                              },
                                                              "text": ","
                                                            },
                                                            {
                                                              "type": "dictionary",
                                                              "start": {
                                                                "row": 94,
                                                                "column": 45
                                                              },
                                                              "end": {
                                                                "row": 94,
                                                                "column": 47
                                                              },
                                                              "text": "{}",
                                                              "children": [
                                                                {
                                                                  "type": "{",
                                                                  "start": {
                                                                    "row": 94,
                                                                    "column": 45
                                                                  },
                                                                  "end": {
                                                                    "row": 94,
                                                                    "column": 46
                                                                  },
                                                                  "text": "{"
                                                                },
                                                                {
                                                                  "type": "}",
                                                                  "start": {
                                                                    "row": 94,
                                                                    "column": 46
                                                                  },
                                                                  "end": {
                                                                    "row": 94,
                                                                    "column": 47
                                                                  },
                                                                  "text": "}"
                                                                }
                                                              ]
                                                            },
                                                            {
                                                              "type": ")",
                                                              "start": {
                                                                "row": 94,
                                                                "column": 47
                                                              },
                                                              "end": {
                                                                "row": 94,
                                                                "column": 48
                                                              },
                                                              "text": ")"
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "type": ")",
                                                      "start": {
                                                        "row": 94,
                                                        "column": 48
                                                      },
                                                      "end": {
                                                        "row": 94,
                                                        "column": 49
                                                      },
                                                      "text": ")"
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "type": ".",
                                              "start": {
                                                "row": 94,
                                                "column": 49
                                              },
                                              "end": {
                                                "row": 94,
                                                "column": 50
                                              },
                                              "text": "."
                                            },
                                            {
                                              "type": "identifier",
                                              "start": {
                                                "row": 94,
                                                "column": 50
                                              },
                                              "end": {
                                                "row": 94,
                                                "column": 54
                                              },
                                              "text": "keys"
                                            }
                                          ]
                                        },
                                        {
                                          "type": "argument_list",
                                          "start": {
                                            "row": 94,
                                            "column": 54
                                          },
                                          "end": {
                                            "row": 94,
                                            "column": 56
                                          },
                                          "text": "()",
                                          "children": [
                                            {
                                              "type": "(",
                                              "start": {
                                                "row": 94,
                                                "column": 54
                                              },
                                              "end": {
                                                "row": 94,
                                                "column": 55
                                              },
                                              "text": "("
                                            },
                                            {
                                              "type": ")",
                                              "start": {
                                                "row": 94,
                                                "column": 55
                                              },
                                              "end": {
                                                "row": 94,
                                                "column": 56
                                              },
                                              "text": ")"
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "type": ")",
                                      "start": {
                                        "row": 94,
                                        "column": 56
                                      },
                                      "end": {
                                        "row": 94,
                                        "column": 57
                                      },
                                      "text": ")"
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "type": "expression_statement",
                      "start": {
                        "row": 95,
                        "column": 8
                      },
                      "end": {
                        "row": 95,
                        "column": 66
                      },
                      "text": "log.debug('requested tags on vol.id %s: %s', vol.id, tags)",
                      "children": [
                        {
                          "type": "call",
                          "start": {
                            "row": 95,
                            "column": 8
                          },
                          "end": {
                            "row": 95,
                            "column": 66
                          },
                          "text": "log.debug('requested tags on vol.id %s: %s', vol.id, tags)",
                          "children": [
                            {
                              "type": "attribute",
                              "start": {
                                "row": 95,
                                "column": 8
                              },
                              "end": {
                                "row": 95,
                                "column": 17
                              },
                              "text": "log.debug",
                              "children": [
                                {
                                  "type": "identifier",
                                  "start": {
                                    "row": 95,
                                    "column": 8
                                  },
                                  "end": {
                                    "row": 95,
                                    "column": 11
                                  },
                                  "text": "log"
                                },
                                {
                                  "type": ".",
                                  "start": {
                                    "row": 95,
                                    "column": 11
                                  },
                                  "end": {
                                    "row": 95,
                                    "column": 12
                                  },
                                  "text": "."
                                },
                                {
                                  "type": "identifier",
                                  "start": {
                                    "row": 95,
                                    "column": 12
                                  },
                                  "end": {
                                    "row": 95,
                                    "column": 17
                                  },
                                  "text": "debug"
                                }
                              ]
                            },
                            {
                              "type": "argument_list",
                              "start": {
                                "row": 95,
                                "column": 17
                              },
                              "end": {
                                "row": 95,
                                "column": 66
                              },
                              "text": "('requested tags on vol.id %s: %s', vol.id, tags)",
                              "children": [
                                {
                                  "type": "(",
                                  "start": {
                                    "row": 95,
                                    "column": 17
                                  },
                                  "end": {
                                    "row": 95,
                                    "column": 18
                                  },
                                  "text": "("
                                },
                                {
                                  "type": "string",
                                  "start": {
                                    "row": 95,
                                    "column": 18
                                  },
                                  "end": {
                                    "row": 95,
                                    "column": 51
                                  },
                                  "text": "'requested tags on vol.id %s: %s'",
                                  "children": [
                                    {
                                      "type": "string_start",
                                      "start": {
                                        "row": 95,
                                        "column": 18
                                      },
                                      "end": {
                                        "row": 95,
                                        "column": 19
                                      },
                                      "text": "'"
                                    },
                                    {
                                      "type": "string_content",
                                      "start": {
                                        "row": 95,
                                        "column": 19
                                      },
                                      "end": {
                                        "row": 95,
                                        "column": 50
                                      },
                                      "text": "requested tags on vol.id %s: %s"
                                    },
                                    {
                                      "type": "string_end",
                                      "start": {
                                        "row": 95,
                                        "column": 50
                                      },
                                      "end": {
                                        "row": 95,
                                        "column": 51
                                      },
                                      "text": "'"
                                    }
                                  ]
                                },
                                {
                                  "type": ",",
                                  "start": {
                                    "row": 95,
                                    "column": 51
                                  },
                                  "end": {
                                    "row": 95,
                                    "column": 52
                                  },
                                  "text": ","
                                },
                                {
                                  "type": "attribute",
                                  "start": {
                                    "row": 95,
                                    "column": 53
                                  },
                                  "end": {
                                    "row": 95,
                                    "column": 59
                                  },
                                  "text": "vol.id",
                                  "children": [
                                    {
                                      "type": "identifier",
                                      "start": {
                                        "row": 95,
                                        "column": 53
                                      },
                                      "end": {
                                        "row": 95,
                                        "column": 56
                                      },
                                      "text": "vol"
                                    },
                                    {
                                      "type": ".",
                                      "start": {
                                        "row": 95,
                                        "column": 56
                                      },
                                      "end": {
                                        "row": 95,
                                        "column": 57
                                      },
                                      "text": "."
                                    },
                                    {
                                      "type": "identifier",
                                      "start": {
                                        "row": 95,
                                        "column": 57
                                      },
                                      "end": {
                                        "row": 95,
                                        "column": 59
                                      },
                                      "text": "id"
                                    }
                                  ]
                                },
                                {
                                  "type": ",",
                                  "start": {
                                    "row": 95,
                                    "column": 59
                                  },
                                  "end": {
                                    "row": 95,
                                    "column": 60
                                  },
                                  "text": ","
                                },
                                {
                                  "type": "identifier",
                                  "start": {
                                    "row": 95,
                                    "column": 61
                                  },
                                  "end": {
                                    "row": 95,
                                    "column": 65
                                  },
                                  "text": "tags"
                                },
                                {
                                  "type": ")",
                                  "start": {
                                    "row": 95,
                                    "column": 65
                                  },
                                  "end": {
                                    "row": 95,
                                    "column": 66
                                  },
                                  "text": ")"
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "type": "expression_statement",
                      "start": {
                        "row": 96,
                        "column": 8
                      },
                      "end": {
                        "row": 96,
                        "column": 30
                      },
                      "text": "req = set(tags.keys())",
                      "children": [
                        {
                          "type": "assignment",
                          "start": {
                            "row": 96,
                            "column": 8
                          },
                          "end": {
                            "row": 96,
                            "column": 30
                          },
                          "text": "req = set(tags.keys())",
                          "children": [
                            {
                              "type": "identifier",
                              "start": {
                                "row": 96,
                                "column": 8
                              },
                              "end": {
                                "row": 96,
                                "column": 11
                              },
                              "text": "req"
                            },
                            {
                              "type": "=",
                              "start": {
                                "row": 96,
                                "column": 12
                              },
                              "end": {
                                "row": 96,
                                "column": 13
                              },
                              "text": "="
                            },
                            {
                              "type": "call",
                              "start": {
                                "row": 96,
                                "column": 14
                              },
                              "end": {
                                "row": 96,
                                "column": 30
                              },
                              "text": "set(tags.keys())",
                              "children": [
                                {
                                  "type": "identifier",
                                  "start": {
                                    "row": 96,
                                    "column": 14
                                  },
                                  "end": {
                                    "row": 96,
                                    "column": 17
                                  },
                                  "text": "set"
                                },
                                {
                                  "type": "argument_list",
                                  "start": {
                                    "row": 96,
                                    "column": 17
                                  },
                                  "end": {
                                    "row": 96,
                                    "column": 30
                                  },
                                  "text": "(tags.keys())",
                                  "children": [
                                    {
                                      "type": "(",
                                      "start": {
                                        "row": 96,
                                        "column": 17
                                      },
                                      "end": {
                                        "row": 96,
                                        "column": 18
                                      },
                                      "text": "("
                                    },
                                    {
                                      "type": "call",
                                      "start": {
                                        "row": 96,
                                        "column": 18
                                      },
                                      "end": {
                                        "row": 96,
                                        "column": 29
                                      },
                                      "text": "tags.keys()",
                                      "children": [
                                        {
                                          "type": "attribute",
                                          "start": {
                                            "row": 96,
                                            "column": 18
                                          },
                                          "end": {
                                            "row": 96,
                                            "column": 27
                                          },
                                          "text": "tags.keys",
                                          "children": [
                                            {
                                              "type": "identifier",
                                              "start": {
                                                "row": 96,
                                                "column": 18
                                              },
                                              "end": {
                                                "row": 96,
                                                "column": 22
                                              },
                                              "text": "tags"
                                            },
                                            {
                                              "type": ".",
                                              "start": {
                                                "row": 96,
                                                "column": 22
                                              },
                                              "end": {
                                                "row": 96,
                                                "column": 23
                                              },
                                              "text": "."
                                            },
                                            {
                                              "type": "identifier",
                                              "start": {
                                                "row": 96,
                                                "column": 23
                                              },
                                              "end": {
                                                "row": 96,
                                                "column": 27
                                              },
                                              "text": "keys"
                                            }
                                          ]
                                        },
                                        {
                                          "type": "argument_list",
                                          "start": {
                                            "row": 96,
                                            "column": 27
                                          },
                                          "end": {
                                            "row": 96,
                                            "column": 29
                                          },
                                          "text": "()",
                                          "children": [
                                            {
                                              "type": "(",
                                              "start": {
                                                "row": 96,
                                                "column": 27
                                              },
                                              "end": {
                                                "row": 96,
                                                "column": 28
                                              },
                                              "text": "("
                                            },
                                            {
                                              "type": ")",
                                              "start": {
                                                "row": 96,
                                                "column": 28
                                              },
                                              "end": {
                                                "row": 96,
                                                "column": 29
                                              },
                                              "text": ")"
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "type": ")",
                                      "start": {
                                        "row": 96,
                                        "column": 29
                                      },
                                      "end": {
                                        "row": 96,
                                        "column": 30
                                      },
                                      "text": ")"
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "type": "expression_statement",
                      "start": {
                        "row": 97,
                        "column": 8
                      },
                      "end": {
                        "row": 97,
                        "column": 30
                      },
                      "text": "add = list(req - curr)",
                      "children": [
                        {
                          "type": "assignment",
                          "start": {
                            "row": 97,
                            "column": 8
                          },
                          "end": {
                            "row": 97,
                            "column": 30
                          },
                          "text": "add = list(req - curr)",
                          "children": [
                            {
                              "type": "identifier",
                              "start": {
                                "row": 97,
                                "column": 8
                              },
                              "end": {
                                "row": 97,
                                "column": 11
                              },
                              "text": "add"
                            },
                            {
                              "type": "=",
                              "start": {
                                "row": 97,
                                "column": 12
                              },
                              "end": {
                                "row": 97,
                                "column": 13
                              },
                              "text": "="
                            },
                            {
                              "type": "call",
                              "start": {
                                "row": 97,
                                "column": 14
                              },
                              "end": {
                                "row": 97,
                                "column": 30
                              },
                              "text": "list(req - curr)",
                              "children": [
                                {
                                  "type": "identifier",
                                  "start": {
                                    "row": 97,
                                    "column": 14
                                  },
                                  "end": {
                                    "row": 97,
                                    "column": 18
                                  },
                                  "text": "list"
                                },
                                {
                                  "type": "argument_list",
                                  "start": {
                                    "row": 97,
                                    "column": 18
                                  },
                                  "end": {
                                    "row": 97,
                                    "column": 30
                                  },
                                  "text": "(req - curr)",
                                  "children": [
                                    {
                                      "type": "(",
                                      "start": {
                                        "row": 97,
                                        "column": 18
                                      },
                                      "end": {
                                        "row": 97,
                                        "column": 19
                                      },
                                      "text": "("
                                    },
                                    {
                                      "type": "binary_operator",
                                      "start": {
                                        "row": 97,
                                        "column": 19
                                      },
                                      "end": {
                                        "row": 97,
                                        "column": 29
                                      },
                                      "text": "req - curr",
                                      "children": [
                                        {
                                          "type": "identifier",
                                          "start": {
                                            "row": 97,
                                            "column": 19
                                          },
                                          "end": {
                                            "row": 97,
                                            "column": 22
                                          },
                                          "text": "req"
                                        },
                                        {
                                          "type": "-",
                                          "start": {
                                            "row": 97,
                                            "column": 23
                                          },
                                          "end": {
                                            "row": 97,
                                            "column": 24
                                          },
                                          "text": "-"
                                        },
                                        {
                                          "type": "identifier",
                                          "start": {
                                            "row": 97,
                                            "column": 25
                                          },
                                          "end": {
                                            "row": 97,
                                            "column": 29
                                          },
                                          "text": "curr"
                                        }
                                      ]
                                    },
                                    {
                                      "type": ")",
                                      "start": {
                                        "row": 97,
                                        "column": 29
                                      },
                                      "end": {
                                        "row": 97,
                                        "column": 30
                                      },
                                      "text": ")"
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "type": "expression_statement",
                      "start": {
                        "row": 98,
                        "column": 8
                      },
                      "end": {
                        "row": 98,
                        "column": 68
                      },
                      "text": "update = [r for r in (req & curr) if vol.tags[r] != tags[r]]",
                      "children": [
                        {
                          "type": "assignment",
                          "start": {
                            "row": 98,
                            "column": 8
                          },
                          "end": {
                            "row": 98,
                            "column": 68
                          },
                          "text": "update = [r for r in (req & curr) if vol.tags[r] != tags[r]]",
                          "children": [
                            {
                              "type": "identifier",
                              "start": {
                                "row": 98,
                                "column": 8
                              },
                              "end": {
                                "row": 98,
                                "column": 14
                              },
                              "text": "update"
                            },
                            {
                              "type": "=",
                              "start": {
                                "row": 98,
                                "column": 15
                              },
                              "end": {
                                "row": 98,
                                "column": 16
                              },
                              "text": "="
                            },
                            {
                              "type": "list_comprehension",
                              "start": {
                                "row": 98,
                                "column": 17
                              },
                              "end": {
                                "row": 98,
                                "column": 68
                              },
                              "text": "[r for r in (req & curr) if vol.tags[r] != tags[r]]",
                              "children": [
                                {
                                  "type": "[",
                                  "start": {
                                    "row": 98,
                                    "column": 17
                                  },
                                  "end": {
                                    "row": 98,
                                    "column": 18
                                  },
                                  "text": "["
                                },
                                {
                                  "type": "identifier",
                                  "start": {
                                    "row": 98,
                                    "column": 18
                                  },
                                  "end": {
                                    "row": 98,
                                    "column": 19
                                  },
                                  "text": "r"
                                },
                                {
                                  "type": "for_in_clause",
                                  "start": {
                                    "row": 98,
                                    "column": 20
                                  },
                                  "end": {
                                    "row": 98,
                                    "column": 41
                                  },
                                  "text": "for r in (req & curr)",
                                  "children": [
                                    {
                                      "type": "for",
                                      "start": {
                                        "row": 98,
                                        "column": 20
                                      },
                                      "end": {
                                        "row": 98,
                                        "column": 23
                                      },
                                      "text": "for"
                                    },
                                    {
                                      "type": "identifier",
                                      "start": {
                                        "row": 98,
                                        "column": 24
                                      },
                                      "end": {
                                        "row": 98,
                                        "column": 25
                                      },
                                      "text": "r"
                                    },
                                    {
                                      "type": "in",
                                      "start": {
                                        "row": 98,
                                        "column": 26
                                      },
                                      "end": {
                                        "row": 98,
                                        "column": 28
                                      },
                                      "text": "in"
                                    },
                                    {
                                      "type": "parenthesized_expression",
                                      "start": {
                                        "row": 98,
                                        "column": 29
                                      },
                                      "end": {
                                        "row": 98,
                                        "column": 41
                                      },
                                      "text": "(req & curr)",
                                      "children": [
                                        {
                                          "type": "(",
                                          "start": {
                                            "row": 98,
                                            "column": 29
                                          },
                                          "end": {
                                            "row": 98,
                                            "column": 30
                                          },
                                          "text": "("
                                        },
                                        {
                                          "type": "binary_operator",
                                          "start": {
                                            "row": 98,
                                            "column": 30
                                          },
                                          "end": {
                                            "row": 98,
                                            "column": 40
                                          },
                                          "text": "req & curr",
                                          "children": [
                                            {
                                              "type": "identifier",
                                              "start": {
                                                "row": 98,
                                                "column": 30
                                              },
                                              "end": {
                                                "row": 98,
                                                "column": 33
                                              },
                                              "text": "req"
                                            },
                                            {
                                              "type": "&",
                                              "start": {
                                                "row": 98,
                                                "column": 34
                                              },
                                              "end": {
                                                "row": 98,
                                                "column": 35
                                              },
                                              "text": "&"
                                            },
                                            {
                                              "type": "identifier",
                                              "start": {
                                                "row": 98,
                                                "column": 36
                                              },
                                              "end": {
                                                "row": 98,
                                                "column": 40
                                              },
                                              "text": "curr"
                                            }
                                          ]
                                        },
                                        {
                                          "type": ")",
                                          "start": {
                                            "row": 98,
                                            "column": 40
                                          },
                                          "end": {
                                            "row": 98,
                                            "column": 41
                                          },
                                          "text": ")"
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "type": "if_clause",
                                  "start": {
                                    "row": 98,
                                    "column": 42
                                  },
                                  "end": {
                                    "row": 98,
                                    "column": 67
                                  },
                                  "text": "if vol.tags[r] != tags[r]",
                                  "children": [
                                    {
                                      "type": "if",
                                      "start": {
                                        "row": 98,
                                        "column": 42
                                      },
                                      "end": {
                                        "row": 98,
                                        "column": 44
                                      },
                                      "text": "if"
                                    },
                                    {
                                      "type": "comparison_operator",
                                      "start": {
                                        "row": 98,
                                        "column": 45
                                      },
                                      "end": {
                                        "row": 98,
                                        "column": 67
                                      },
                                      "text": "vol.tags[r] != tags[r]",
                                      "children": [
                                        {
                                          "type": "subscript",
                                          "start": {
                                            "row": 98,
                                            "column": 45
                                          },
                                          "end": {
                                            "row": 98,
                                            "column": 56
                                          },
                                          "text": "vol.tags[r]",
                                          "children": [
                                            {
                                              "type": "attribute",
                                              "start": {
                                                "row": 98,
                                                "column": 45
                                              },
                                              "end": {
                                                "row": 98,
                                                "column": 53
                                              },
                                              "text": "vol.tags",
                                              "children": [
                                                {
                                                  "type": "identifier",
                                                  "start": {
                                                    "row": 98,
                                                    "column": 45
                                                  },
                                                  "end": {
                                                    "row": 98,
                                                    "column": 48
                                                  },
                                                  "text": "vol"
                                                },
                                                {
                                                  "type": ".",
                                                  "start": {
                                                    "row": 98,
                                                    "column": 48
                                                  },
                                                  "end": {
                                                    "row": 98,
                                                    "column": 49
                                                  },
                                                  "text": "."
                                                },
                                                {
                                                  "type": "identifier",
                                                  "start": {
                                                    "row": 98,
                                                    "column": 49
                                                  },
                                                  "end": {
                                                    "row": 98,
                                                    "column": 53
                                                  },
                                                  "text": "tags"
                                                }
                                              ]
                                            },
                                            {
                                              "type": "[",
                                              "start": {
                                                "row": 98,
                                                "column": 53
                                              },
                                              "end": {
                                                "row": 98,
                                                "column": 54
                                              },
                                              "text": "["
                                            },
                                            {
                                              "type": "identifier",
                                              "start": {
                                                "row": 98,
                                                "column": 54
                                              },
                                              "end": {
                                                "row": 98,
                                                "column": 55
                                              },
                                              "text": "r"
                                            },
                                            {
                                              "type": "]",
                                              "start": {
                                                "row": 98,
                                                "column": 55
                                              },
                                              "end": {
                                                "row": 98,
                                                "column": 56
                                              },
                                              "text": "]"
                                            }
                                          ]
                                        },
                                        {
                                          "type": "!=",
                                          "start": {
                                            "row": 98,
                                            "column": 57
                                          },
                                          "end": {
                                            "row": 98,
                                            "column": 59
                                          },
                                          "text": "!="
                                        },
                                        {
                                          "type": "subscript",
                                          "start": {
                                            "row": 98,
                                            "column": 60
                                          },
                                          "end": {
                                            "row": 98,
                                            "column": 67
                                          },
                                          "text": "tags[r]",
                                          "children": [
                                            {
                                              "type": "identifier",
                                              "start": {
                                                "row": 98,
                                                "column": 60
                                              },
                                              "end": {
                                                "row": 98,
                                                "column": 64
                                              },
                                              "text": "tags"
                                            },
                                            {
                                              "type": "[",
                                              "start": {
                                                "row": 98,
                                                "column": 64
                                              },
                                              "end": {
                                                "row": 98,
                                                "column": 65
                                              },
                                              "text": "["
                                            },
                                            {
                                              "type": "identifier",
                                              "start": {
                                                "row": 98,
                                                "column": 65
                                              },
                                              "end": {
                                                "row": 98,
                                                "column": 66
                                              },
                                              "text": "r"
                                            },
                                            {
                                              "type": "]",
                                              "start": {
                                                "row": 98,
                                                "column": 66
                                              },
                                              "end": {
                                                "row": 98,
                                                "column": 67
                                              },
                                              "text": "]"
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "type": "]",
                                  "start": {
                                    "row": 98,
                                    "column": 67
                                  },
                                  "end": {
                                    "row": 98,
                                    "column": 68
                                  },
                                  "text": "]"
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "type": "expression_statement",
                      "start": {
                        "row": 99,
                        "column": 8
                      },
                      "end": {
                        "row": 99,
                        "column": 33
                      },
                      "text": "remove = list(curr - req)",
                      "children": [
                        {
                          "type": "assignment",
                          "start": {
                            "row": 99,
                            "column": 8
                          },
                          "end": {
                            "row": 99,
                            "column": 33
                          },
                          "text": "remove = list(curr - req)",
                          "children": [
                            {
                              "type": "identifier",
                              "start": {
                                "row": 99,
                                "column": 8
                              },
                              "end": {
                                "row": 99,
                                "column": 14
                              },
                              "text": "remove"
                            },
                            {
                              "type": "=",
                              "start": {
                                "row": 99,
                                "column": 15
                              },
                              "end": {
                                "row": 99,
                                "column": 16
                              },
                              "text": "="
                            },
                            {
                              "type": "call",
                              "start": {
                                "row": 99,
                                "column": 17
                              },
                              "end": {
                                "row": 99,
                                "column": 33
                              },
                              "text": "list(curr - req)",
                              "children": [
                                {
                                  "type": "identifier",
                                  "start": {
                                    "row": 99,
                                    "column": 17
                                  },
                                  "end": {
                                    "row": 99,
                                    "column": 21
                                  },
                                  "text": "list"
                                },
                                {
                                  "type": "argument_list",
                                  "start": {
                                    "row": 99,
                                    "column": 21
                                  },
                                  "end": {
                                    "row": 99,
                                    "column": 33
                                  },
                                  "text": "(curr - req)",
                                  "children": [
                                    {
                                      "type": "(",
                                      "start": {
                                        "row": 99,
                                        "column": 21
                                      },
                                      "end": {
                                        "row": 99,
                                        "column": 22
                                      },
                                      "text": "("
                                    },
                                    {
                                      "type": "binary_operator",
                                      "start": {
                                        "row": 99,
                                        "column": 22
                                      },
                                      "end": {
                                        "row": 99,
                                        "column": 32
                                      },
                                      "text": "curr - req",
                                      "children": [
                                        {
                                          "type": "identifier",
                                          "start": {
                                            "row": 99,
                                            "column": 22
                                          },
                                          "end": {
                                            "row": 99,
                                            "column": 26
                                          },
                                          "text": "curr"
                                        },
                                        {
                                          "type": "-",
                                          "start": {
                                            "row": 99,
                                            "column": 27
                                          },
                                          "end": {
                                            "row": 99,
                                            "column": 28
                                          },
                                          "text": "-"
                                        },
                                        {
                                          "type": "identifier",
                                          "start": {
                                            "row": 99,
                                            "column": 29
                                          },
                                          "end": {
                                            "row": 99,
                                            "column": 32
                                          },
                                          "text": "req"
                                        }
                                      ]
                                    },
                                    {
                                      "type": ")",
                                      "start": {
                                        "row": 99,
                                        "column": 32
                                      },
                                      "end": {
                                        "row": 99,
                                        "column": 33
                                      },
                                      "text": ")"
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "type": "if_statement",
                      "start": {
                        "row": 100,
                        "column": 8
                      },
                      "end": {
                        "row": 104,
                        "column": 64
                      },
                      "text": "if add or update or (authoritative and remove):\n            changes['old'][vol.id] = dict(getattr(vol, 'tags', {}))\n            changes['new'][vol.id] = tags\n        else:\n            log.debug('No changes needed for vol.id %s', vol.id)",
                      "children": [
                        {
                          "type": "if",
                          "start": {
                            "row": 100,
                            "column": 8
                          },
                          "end": {
                            "row": 100,
                            "column": 10
                          },
                          "text": "if"
                        },
                        {
                          "type": "boolean_operator",
                          "start": {
                            "row": 100,
                            "column": 11
                          },
                          "end": {
                            "row": 100,
                            "column": 54
                          },
                          "text": "add or update or (authoritative and remove)",
                          "children": [
                            {
                              "type": "boolean_operator",
                              "start": {
                                "row": 100,
                                "column": 11
                              },
                              "end": {
                                "row": 100,
                                "column": 24
                              },
                              "text": "add or update",
                              "children": [
                                {
                                  "type": "identifier",
                                  "start": {
                                    "row": 100,
                                    "column": 11
                                  },
                                  "end": {
                                    "row": 100,
                                    "column": 14
                                  },
                                  "text": "add"
                                },
                                {
                                  "type": "or",
                                  "start": {
                                    "row": 100,
                                    "column": 15
                                  },
                                  "end": {
                                    "row": 100,
                                    "column": 17
                                  },
                                  "text": "or"
                                },
                                {
                                  "type": "identifier",
                                  "start": {
                                    "row": 100,
                                    "column": 18
                                  },
                                  "end": {
                                    "row": 100,
                                    "column": 24
                                  },
                                  "text": "update"
                                }
                              ]
                            },
                            {
                              "type": "or",
                              "start": {
                                "row": 100,
                                "column": 25
                              },
                              "end": {
                                "row": 100,
                                "column": 27
                              },
                              "text": "or"
                            },
                            {
                              "type": "parenthesized_expression",
                              "start": {
                                "row": 100,
                                "column": 28
                              },
                              "end": {
                                "row": 100,
                                "column": 54
                              },
                              "text": "(authoritative and remove)",
                              "children": [
                                {
                                  "type": "(",
                                  "start": {
                                    "row": 100,
                                    "column": 28
                                  },
                                  "end": {
                                    "row": 100,
                                    "column": 29
                                  },
                                  "text": "("
                                },
                                {
                                  "type": "boolean_operator",
                                  "start": {
                                    "row": 100,
                                    "column": 29
                                  },
                                  "end": {
                                    "row": 100,
                                    "column": 53
                                  },
                                  "text": "authoritative and remove",
                                  "children": [
                                    {
                                      "type": "identifier",
                                      "start": {
                                        "row": 100,
                                        "column": 29
                                      },
                                      "end": {
                                        "row": 100,
                                        "column": 42
                                      },
                                      "text": "authoritative"
                                    },
                                    {
                                      "type": "and",
                                      "start": {
                                        "row": 100,
                                        "column": 43
                                      },
                                      "end": {
                                        "row": 100,
                                        "column": 46
                                      },
                                      "text": "and"
                                    },
                                    {
                                      "type": "identifier",
                                      "start": {
                                        "row": 100,
                                        "column": 47
                                      },
                                      "end": {
                                        "row": 100,
                                        "column": 53
                                      },
                                      "text": "remove"
                                    }
                                  ]
                                },
                                {
                                  "type": ")",
                                  "start": {
                                    "row": 100,
                                    "column": 53
                                  },
                                  "end": {
                                    "row": 100,
                                    "column": 54
                                  },
                                  "text": ")"
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": ":",
                          "start": {
                            "row": 100,
                            "column": 54
                          },
                          "end": {
                            "row": 100,
                            "column": 55
                          },
                          "text": ":"
                        },
                        {
                          "type": "block",
                          "start": {
                            "row": 101,
                            "column": 12
                          },
                          "end": {
                            "row": 102,
                            "column": 41
                          },
                          "text": "changes['old'][vol.id] = dict(getattr(vol, 'tags', {}))\n            changes['new'][vol.id] = tags",
                          "children": [
                            {
                              "type": "expression_statement",
                              "start": {
                                "row": 101,
                                "column": 12
                              },
                              "end": {
                                "row": 101,
                                "column": 67
                              },
                              "text": "changes['old'][vol.id] = dict(getattr(vol, 'tags', {}))",
                              "children": [
                                {
                                  "type": "assignment",
                                  "start": {
                                    "row": 101,
                                    "column": 12
                                  },
                                  "end": {
                                    "row": 101,
                                    "column": 67
                                  },
                                  "text": "changes['old'][vol.id] = dict(getattr(vol, 'tags', {}))",
                                  "children": [
                                    {
                                      "type": "subscript",
                                      "start": {
                                        "row": 101,
                                        "column": 12
                                      },
                                      "end": {
                                        "row": 101,
                                        "column": 34
                                      },
                                      "text": "changes['old'][vol.id]",
                                      "children": [
                                        {
                                          "type": "subscript",
                                          "start": {
                                            "row": 101,
                                            "column": 12
                                          },
                                          "end": {
                                            "row": 101,
                                            "column": 26
                                          },
                                          "text": "changes['old']",
                                          "children": [
                                            {
                                              "type": "identifier",
                                              "start": {
                                                "row": 101,
                                                "column": 12
                                              },
                                              "end": {
                                                "row": 101,
                                                "column": 19
                                              },
                                              "text": "changes"
                                            },
                                            {
                                              "type": "[",
                                              "start": {
                                                "row": 101,
                                                "column": 19
                                              },
                                              "end": {
                                                "row": 101,
                                                "column": 20
                                              },
                                              "text": "["
                                            },
                                            {
                                              "type": "string",
                                              "start": {
                                                "row": 101,
                                                "column": 20
                                              },
                                              "end": {
                                                "row": 101,
                                                "column": 25
                                              },
                                              "text": "'old'",
                                              "children": [
                                                {
                                                  "type": "string_start",
                                                  "start": {
                                                    "row": 101,
                                                    "column": 20
                                                  },
                                                  "end": {
                                                    "row": 101,
                                                    "column": 21
                                                  },
                                                  "text": "'"
                                                },
                                                {
                                                  "type": "string_content",
                                                  "start": {
                                                    "row": 101,
                                                    "column": 21
                                                  },
                                                  "end": {
                                                    "row": 101,
                                                    "column": 24
                                                  },
                                                  "text": "old"
                                                },
                                                {
                                                  "type": "string_end",
                                                  "start": {
                                                    "row": 101,
                                                    "column": 24
                                                  },
                                                  "end": {
                                                    "row": 101,
                                                    "column": 25
                                                  },
                                                  "text": "'"
                                                }
                                              ]
                                            },
                                            {
                                              "type": "]",
                                              "start": {
                                                "row": 101,
                                                "column": 25
                                              },
                                              "end": {
                                                "row": 101,
                                                "column": 26
                                              },
                                              "text": "]"
                                            }
                                          ]
                                        },
                                        {
                                          "type": "[",
                                          "start": {
                                            "row": 101,
                                            "column": 26
                                          },
                                          "end": {
                                            "row": 101,
                                            "column": 27
                                          },
                                          "text": "["
                                        },
                                        {
                                          "type": "attribute",
                                          "start": {
                                            "row": 101,
                                            "column": 27
                                          },
                                          "end": {
                                            "row": 101,
                                            "column": 33
                                          },
                                          "text": "vol.id",
                                          "children": [
                                            {
                                              "type": "identifier",
                                              "start": {
                                                "row": 101,
                                                "column": 27
                                              },
                                              "end": {
                                                "row": 101,
                                                "column": 30
                                              },
                                              "text": "vol"
                                            },
                                            {
                                              "type": ".",
                                              "start": {
                                                "row": 101,
                                                "column": 30
                                              },
                                              "end": {
                                                "row": 101,
                                                "column": 31
                                              },
                                              "text": "."
                                            },
                                            {
                                              "type": "identifier",
                                              "start": {
                                                "row": 101,
                                                "column": 31
                                              },
                                              "end": {
                                                "row": 101,
                                                "column": 33
                                              },
                                              "text": "id"
                                            }
                                          ]
                                        },
                                        {
                                          "type": "]",
                                          "start": {
                                            "row": 101,
                                            "column": 33
                                          },
                                          "end": {
                                            "row": 101,
                                            "column": 34
                                          },
                                          "text": "]"
                                        }
                                      ]
                                    },
                                    {
                                      "type": "=",
                                      "start": {
                                        "row": 101,
                                        "column": 35
                                      },
                                      "end": {
                                        "row": 101,
                                        "column": 36
                                      },
                                      "text": "="
                                    },
                                    {
                                      "type": "call",
                                      "start": {
                                        "row": 101,
                                        "column": 37
                                      },
                                      "end": {
                                        "row": 101,
                                        "column": 67
                                      },
                                      "text": "dict(getattr(vol, 'tags', {}))",
                                      "children": [
                                        {
                                          "type": "identifier",
                                          "start": {
                                            "row": 101,
                                            "column": 37
                                          },
                                          "end": {
                                            "row": 101,
                                            "column": 41
                                          },
                                          "text": "dict"
                                        },
                                        {
                                          "type": "argument_list",
                                          "start": {
                                            "row": 101,
                                            "column": 41
                                          },
                                          "end": {
                                            "row": 101,
                                            "column": 67
                                          },
                                          "text": "(getattr(vol, 'tags', {}))",
                                          "children": [
                                            {
                                              "type": "(",
                                              "start": {
                                                "row": 101,
                                                "column": 41
                                              },
                                              "end": {
                                                "row": 101,
                                                "column": 42
                                              },
                                              "text": "("
                                            },
                                            {
                                              "type": "call",
                                              "start": {
                                                "row": 101,
                                                "column": 42
                                              },
                                              "end": {
                                                "row": 101,
                                                "column": 66
                                              },
                                              "text": "getattr(vol, 'tags', {})",
                                              "children": [
                                                {
                                                  "type": "identifier",
                                                  "start": {
                                                    "row": 101,
                                                    "column": 42
                                                  },
                                                  "end": {
                                                    "row": 101,
                                                    "column": 49
                                                  },
                                                  "text": "getattr"
                                                },
                                                {
                                                  "type": "argument_list",
                                                  "start": {
                                                    "row": 101,
                                                    "column": 49
                                                  },
                                                  "end": {
                                                    "row": 101,
                                                    "column": 66
                                                  },
                                                  "text": "(vol, 'tags', {})",
                                                  "children": [
                                                    {
                                                      "type": "(",
                                                      "start": {
                                                        "row": 101,
                                                        "column": 49
                                                      },
                                                      "end": {
                                                        "row": 101,
                                                        "column": 50
                                                      },
                                                      "text": "("
                                                    },
                                                    {
                                                      "type": "identifier",
                                                      "start": {
                                                        "row": 101,
                                                        "column": 50
                                                      },
                                                      "end": {
                                                        "row": 101,
                                                        "column": 53
                                                      },
                                                      "text": "vol"
                                                    },
                                                    {
                                                      "type": ",",
                                                      "start": {
                                                        "row": 101,
                                                        "column": 53
                                                      },
                                                      "end": {
                                                        "row": 101,
                                                        "column": 54
                                                      },
                                                      "text": ","
                                                    },
                                                    {
                                                      "type": "string",
                                                      "start": {
                                                        "row": 101,
                                                        "column": 55
                                                      },
                                                      "end": {
                                                        "row": 101,
                                                        "column": 61
                                                      },
                                                      "text": "'tags'",
                                                      "children": [
                                                        {
                                                          "type": "string_start",
                                                          "start": {
                                                            "row": 101,
                                                            "column": 55
                                                          },
                                                          "end": {
                                                            "row": 101,
                                                            "column": 56
                                                          },
                                                          "text": "'"
                                                        },
                                                        {
                                                          "type": "string_content",
                                                          "start": {
                                                            "row": 101,
                                                            "column": 56
                                                          },
                                                          "end": {
                                                            "row": 101,
                                                            "column": 60
                                                          },
                                                          "text": "tags"
                                                        },
                                                        {
                                                          "type": "string_end",
                                                          "start": {
                                                            "row": 101,
                                                            "column": 60
                                                          },
                                                          "end": {
                                                            "row": 101,
                                                            "column": 61
                                                          },
                                                          "text": "'"
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "type": ",",
                                                      "start": {
                                                        "row": 101,
                                                        "column": 61
                                                      },
                                                      "end": {
                                                        "row": 101,
                                                        "column": 62
                                                      },
                                                      "text": ","
                                                    },
                                                    {
                                                      "type": "dictionary",
                                                      "start": {
                                                        "row": 101,
                                                        "column": 63
                                                      },
                                                      "end": {
                                                        "row": 101,
                                                        "column": 65
                                                      },
                                                      "text": "{}",
                                                      "children": [
                                                        {
                                                          "type": "{",
                                                          "start": {
                                                            "row": 101,
                                                            "column": 63
                                                          },
                                                          "end": {
                                                            "row": 101,
                                                            "column": 64
                                                          },
                                                          "text": "{"
                                                        },
                                                        {
                                                          "type": "}",
                                                          "start": {
                                                            "row": 101,
                                                            "column": 64
                                                          },
                                                          "end": {
                                                            "row": 101,
                                                            "column": 65
                                                          },
                                                          "text": "}"
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "type": ")",
                                                      "start": {
                                                        "row": 101,
                                                        "column": 65
                                                      },
                                                      "end": {
                                                        "row": 101,
                                                        "column": 66
                                                      },
                                                      "text": ")"
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "type": ")",
                                              "start": {
                                                "row": 101,
                                                "column": 66
                                              },
                                              "end": {
                                                "row": 101,
                                                "column": 67
                                              },
                                              "text": ")"
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "type": "expression_statement",
                              "start": {
                                "row": 102,
                                "column": 12
                              },
                              "end": {
                                "row": 102,
                                "column": 41
                              },
                              "text": "changes['new'][vol.id] = tags",
                              "children": [
                                {
                                  "type": "assignment",
                                  "start": {
                                    "row": 102,
                                    "column": 12
                                  },
                                  "end": {
                                    "row": 102,
                                    "column": 41
                                  },
                                  "text": "changes['new'][vol.id] = tags",
                                  "children": [
                                    {
                                      "type": "subscript",
                                      "start": {
                                        "row": 102,
                                        "column": 12
                                      },
                                      "end": {
                                        "row": 102,
                                        "column": 34
                                      },
                                      "text": "changes['new'][vol.id]",
                                      "children": [
                                        {
                                          "type": "subscript",
                                          "start": {
                                            "row": 102,
                                            "column": 12
                                          },
                                          "end": {
                                            "row": 102,
                                            "column": 26
                                          },
                                          "text": "changes['new']",
                                          "children": [
                                            {
                                              "type": "identifier",
                                              "start": {
                                                "row": 102,
                                                "column": 12
                                              },
                                              "end": {
                                                "row": 102,
                                                "column": 19
                                              },
                                              "text": "changes"
                                            },
                                            {
                                              "type": "[",
                                              "start": {
                                                "row": 102,
                                                "column": 19
                                              },
                                              "end": {
                                                "row": 102,
                                                "column": 20
                                              },
                                              "text": "["
                                            },
                                            {
                                              "type": "string",
                                              "start": {
                                                "row": 102,
                                                "column": 20
                                              },
                                              "end": {
                                                "row": 102,
                                                "column": 25
                                              },
                                              "text": "'new'",
                                              "children": [
                                                {
                                                  "type": "string_start",
                                                  "start": {
                                                    "row": 102,
                                                    "column": 20
                                                  },
                                                  "end": {
                                                    "row": 102,
                                                    "column": 21
                                                  },
                                                  "text": "'"
                                                },
                                                {
                                                  "type": "string_content",
                                                  "start": {
                                                    "row": 102,
                                                    "column": 21
                                                  },
                                                  "end": {
                                                    "row": 102,
                                                    "column": 24
                                                  },
                                                  "text": "new"
                                                },
                                                {
                                                  "type": "string_end",
                                                  "start": {
                                                    "row": 102,
                                                    "column": 24
                                                  },
                                                  "end": {
                                                    "row": 102,
                                                    "column": 25
                                                  },
                                                  "text": "'"
                                                }
                                              ]
                                            },
                                            {
                                              "type": "]",
                                              "start": {
                                                "row": 102,
                                                "column": 25
                                              },
                                              "end": {
                                                "row": 102,
                                                "column": 26
                                              },
                                              "text": "]"
                                            }
                                          ]
                                        },
                                        {
                                          "type": "[",
                                          "start": {
                                            "row": 102,
                                            "column": 26
                                          },
                                          "end": {
                                            "row": 102,
                                            "column": 27
                                          },
                                          "text": "["
                                        },
                                        {
                                          "type": "attribute",
                                          "start": {
                                            "row": 102,
                                            "column": 27
                                          },
                                          "end": {
                                            "row": 102,
                                            "column": 33
                                          },
                                          "text": "vol.id",
                                          "children": [
                                            {
                                              "type": "identifier",
                                              "start": {
                                                "row": 102,
                                                "column": 27
                                              },
                                              "end": {
                                                "row": 102,
                                                "column": 30
                                              },
                                              "text": "vol"
                                            },
                                            {
                                              "type": ".",
                                              "start": {
                                                "row": 102,
                                                "column": 30
                                              },
                                              "end": {
                                                "row": 102,
                                                "column": 31
                                              },
                                              "text": "."
                                            },
                                            {
                                              "type": "identifier",
                                              "start": {
                                                "row": 102,
                                                "column": 31
                                              },
                                              "end": {
                                                "row": 102,
                                                "column": 33
                                              },
                                              "text": "id"
                                            }
                                          ]
                                        },
                                        {
                                          "type": "]",
                                          "start": {
                                            "row": 102,
                                            "column": 33
                                          },
                                          "end": {
                                            "row": 102,
                                            "column": 34
                                          },
                                          "text": "]"
                                        }
                                      ]
                                    },
                                    {
                                      "type": "=",
                                      "start": {
                                        "row": 102,
                                        "column": 35
                                      },
                                      "end": {
                                        "row": 102,
                                        "column": 36
                                      },
                                      "text": "="
                                    },
                                    {
                                      "type": "identifier",
                                      "start": {
                                        "row": 102,
                                        "column": 37
                                      },
                                      "end": {
                                        "row": 102,
                                        "column": 41
                                      },
                                      "text": "tags"
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": "else_clause",
                          "start": {
                            "row": 103,
                            "column": 8
                          },
                          "end": {
                            "row": 104,
                            "column": 64
                          },
                          "text": "else:\n            log.debug('No changes needed for vol.id %s', vol.id)",
                          "children": [
                            {
                              "type": "else",
                              "start": {
                                "row": 103,
                                "column": 8
                              },
                              "end": {
                                "row": 103,
                                "column": 12
                              },
                              "text": "else"
                            },
                            {
                              "type": ":",
                              "start": {
                                "row": 103,
                                "column": 12
                              },
                              "end": {
                                "row": 103,
                                "column": 13
                              },
                              "text": ":"
                            },
                            {
                              "type": "block",
                              "start": {
                                "row": 104,
                                "column": 12
                              },
                              "end": {
                                "row": 104,
                                "column": 64
                              },
                              "text": "log.debug('No changes needed for vol.id %s', vol.id)",
                              "children": [
                                {
                                  "type": "expression_statement",
                                  "start": {
                                    "row": 104,
                                    "column": 12
                                  },
                                  "end": {
                                    "row": 104,
                                    "column": 64
                                  },
                                  "text": "log.debug('No changes needed for vol.id %s', vol.id)",
                                  "children": [
                                    {
                                      "type": "call",
                                      "start": {
                                        "row": 104,
                                        "column": 12
                                      },
                                      "end": {
                                        "row": 104,
                                        "column": 64
                                      },
                                      "text": "log.debug('No changes needed for vol.id %s', vol.id)",
                                      "children": [
                                        {
                                          "type": "attribute",
                                          "start": {
                                            "row": 104,
                                            "column": 12
                                          },
                                          "end": {
                                            "row": 104,
                                            "column": 21
                                          },
                                          "text": "log.debug",
                                          "children": [
                                            {
                                              "type": "identifier",
                                              "start": {
                                                "row": 104,
                                                "column": 12
                                              },
                                              "end": {
                                                "row": 104,
                                                "column": 15
                                              },
                                              "text": "log"
                                            },
                                            {
                                              "type": ".",
                                              "start": {
                                                "row": 104,
                                                "column": 15
                                              },
                                              "end": {
                                                "row": 104,
                                                "column": 16
                                              },
                                              "text": "."
                                            },
                                            {
                                              "type": "identifier",
                                              "start": {
                                                "row": 104,
                                                "column": 16
                                              },
                                              "end": {
                                                "row": 104,
                                                "column": 21
                                              },
                                              "text": "debug"
                                            }
                                          ]
                                        },
                                        {
                                          "type": "argument_list",
                                          "start": {
                                            "row": 104,
                                            "column": 21
                                          },
                                          "end": {
                                            "row": 104,
                                            "column": 64
                                          },
                                          "text": "('No changes needed for vol.id %s', vol.id)",
                                          "children": [
                                            {
                                              "type": "(",
                                              "start": {
                                                "row": 104,
                                                "column": 21
                                              },
                                              "end": {
                                                "row": 104,
                                                "column": 22
                                              },
                                              "text": "("
                                            },
                                            {
                                              "type": "string",
                                              "start": {
                                                "row": 104,
                                                "column": 22
                                              },
                                              "end": {
                                                "row": 104,
                                                "column": 55
                                              },
                                              "text": "'No changes needed for vol.id %s'",
                                              "children": [
                                                {
                                                  "type": "string_start",
                                                  "start": {
                                                    "row": 104,
                                                    "column": 22
                                                  },
                                                  "end": {
                                                    "row": 104,
                                                    "column": 23
                                                  },
                                                  "text": "'"
                                                },
                                                {
                                                  "type": "string_content",
                                                  "start": {
                                                    "row": 104,
                                                    "column": 23
                                                  },
                                                  "end": {
                                                    "row": 104,
                                                    "column": 54
                                                  },
                                                  "text": "No changes needed for vol.id %s"
                                                },
                                                {
                                                  "type": "string_end",
                                                  "start": {
                                                    "row": 104,
                                                    "column": 54
                                                  },
                                                  "end": {
                                                    "row": 104,
                                                    "column": 55
                                                  },
                                                  "text": "'"
                                                }
                                              ]
                                            },
                                            {
                                              "type": ",",
                                              "start": {
                                                "row": 104,
                                                "column": 55
                                              },
                                              "end": {
                                                "row": 104,
                                                "column": 56
                                              },
                                              "text": ","
                                            },
                                            {
                                              "type": "attribute",
                                              "start": {
                                                "row": 104,
                                                "column": 57
                                              },
                                              "end": {
                                                "row": 104,
                                                "column": 63
                                              },
                                              "text": "vol.id",
                                              "children": [
                                                {
                                                  "type": "identifier",
                                                  "start": {
                                                    "row": 104,
                                                    "column": 57
                                                  },
                                                  "end": {
                                                    "row": 104,
                                                    "column": 60
                                                  },
                                                  "text": "vol"
                                                },
                                                {
                                                  "type": ".",
                                                  "start": {
                                                    "row": 104,
                                                    "column": 60
                                                  },
                                                  "end": {
                                                    "row": 104,
                                                    "column": 61
                                                  },
                                                  "text": "."
                                                },
                                                {
                                                  "type": "identifier",
                                                  "start": {
                                                    "row": 104,
                                                    "column": 61
                                                  },
                                                  "end": {
                                                    "row": 104,
                                                    "column": 63
                                                  },
                                                  "text": "id"
                                                }
                                              ]
                                            },
                                            {
                                              "type": ")",
                                              "start": {
                                                "row": 104,
                                                "column": 63
                                              },
                                              "end": {
                                                "row": 104,
                                                "column": 64
                                              },
                                              "text": ")"
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "type": "if_statement",
                      "start": {
                        "row": 105,
                        "column": 8
                      },
                      "end": {
                        "row": 107,
                        "column": 62
                      },
                      "text": "if add:\n            d = dict((k, tags[k]) for k in add)\n            log.debug('New tags for vol.id %s: %s', vol.id, d)",
                      "children": [
                        {
                          "type": "if",
                          "start": {
                            "row": 105,
                            "column": 8
                          },
                          "end": {
                            "row": 105,
                            "column": 10
                          },
                          "text": "if"
                        },
                        {
                          "type": "identifier",
                          "start": {
                            "row": 105,
                            "column": 11
                          },
                          "end": {
                            "row": 105,
                            "column": 14
                          },
                          "text": "add"
                        },
                        {
                          "type": ":",
                          "start": {
                            "row": 105,
                            "column": 14
                          },
                          "end": {
                            "row": 105,
                            "column": 15
                          },
                          "text": ":"
                        },
                        {
                          "type": "block",
                          "start": {
                            "row": 106,
                            "column": 12
                          },
                          "end": {
                            "row": 107,
                            "column": 62
                          },
                          "text": "d = dict((k, tags[k]) for k in add)\n            log.debug('New tags for vol.id %s: %s', vol.id, d)",
                          "children": [
                            {
                              "type": "expression_statement",
                              "start": {
                                "row": 106,
                                "column": 12
                              },
                              "end": {
                                "row": 106,
                                "column": 47
                              },
                              "text": "d = dict((k, tags[k]) for k in add)",
                              "children": [
                                {
                                  "type": "assignment",
                                  "start": {
                                    "row": 106,
                                    "column": 12
                                  },
                                  "end": {
                                    "row": 106,
                                    "column": 47
                                  },
                                  "text": "d = dict((k, tags[k]) for k in add)",
                                  "children": [
                                    {
                                      "type": "identifier",
                                      "start": {
                                        "row": 106,
                                        "column": 12
                                      },
                                      "end": {
                                        "row": 106,
                                        "column": 13
                                      },
                                      "text": "d"
                                    },
                                    {
                                      "type": "=",
                                      "start": {
                                        "row": 106,
                                        "column": 14
                                      },
                                      "end": {
                                        "row": 106,
                                        "column": 15
                                      },
                                      "text": "="
                                    },
                                    {
                                      "type": "call",
                                      "start": {
                                        "row": 106,
                                        "column": 16
                                      },
                                      "end": {
                                        "row": 106,
                                        "column": 47
                                      },
                                      "text": "dict((k, tags[k]) for k in add)",
                                      "children": [
                                        {
                                          "type": "identifier",
                                          "start": {
                                            "row": 106,
                                            "column": 16
                                          },
                                          "end": {
                                            "row": 106,
                                            "column": 20
                                          },
                                          "text": "dict"
                                        },
                                        {
                                          "type": "generator_expression",
                                          "start": {
                                            "row": 106,
                                            "column": 20
                                          },
                                          "end": {
                                            "row": 106,
                                            "column": 47
                                          },
                                          "text": "((k, tags[k]) for k in add)",
                                          "children": [
                                            {
                                              "type": "(",
                                              "start": {
                                                "row": 106,
                                                "column": 20
                                              },
                                              "end": {
                                                "row": 106,
                                                "column": 21
                                              },
                                              "text": "("
                                            },
                                            {
                                              "type": "tuple",
                                              "start": {
                                                "row": 106,
                                                "column": 21
                                              },
                                              "end": {
                                                "row": 106,
                                                "column": 33
                                              },
                                              "text": "(k, tags[k])",
                                              "children": [
                                                {
                                                  "type": "(",
                                                  "start": {
                                                    "row": 106,
                                                    "column": 21
                                                  },
                                                  "end": {
                                                    "row": 106,
                                                    "column": 22
                                                  },
                                                  "text": "("
                                                },
                                                {
                                                  "type": "identifier",
                                                  "start": {
                                                    "row": 106,
                                                    "column": 22
                                                  },
                                                  "end": {
                                                    "row": 106,
                                                    "column": 23
                                                  },
                                                  "text": "k"
                                                },
                                                {
                                                  "type": ",",
                                                  "start": {
                                                    "row": 106,
                                                    "column": 23
                                                  },
                                                  "end": {
                                                    "row": 106,
                                                    "column": 24
                                                  },
                                                  "text": ","
                                                },
                                                {
                                                  "type": "subscript",
                                                  "start": {
                                                    "row": 106,
                                                    "column": 25
                                                  },
                                                  "end": {
                                                    "row": 106,
                                                    "column": 32
                                                  },
                                                  "text": "tags[k]",
                                                  "children": [
                                                    {
                                                      "type": "identifier",
                                                      "start": {
                                                        "row": 106,
                                                        "column": 25
                                                      },
                                                      "end": {
                                                        "row": 106,
                                                        "column": 29
                                                      },
                                                      "text": "tags"
                                                    },
                                                    {
                                                      "type": "[",
                                                      "start": {
                                                        "row": 106,
                                                        "column": 29
                                                      },
                                                      "end": {
                                                        "row": 106,
                                                        "column": 30
                                                      },
                                                      "text": "["
                                                    },
                                                    {
                                                      "type": "identifier",
                                                      "start": {
                                                        "row": 106,
                                                        "column": 30
                                                      },
                                                      "end": {
                                                        "row": 106,
                                                        "column": 31
                                                      },
                                                      "text": "k"
                                                    },
                                                    {
                                                      "type": "]",
                                                      "start": {
                                                        "row": 106,
                                                        "column": 31
                                                      },
                                                      "end": {
                                                        "row": 106,
                                                        "column": 32
                                                      },
                                                      "text": "]"
                                                    }
                                                  ]
                                                },
                                                {
                                                  "type": ")",
                                                  "start": {
                                                    "row": 106,
                                                    "column": 32
                                                  },
                                                  "end": {
                                                    "row": 106,
                                                    "column": 33
                                                  },
                                                  "text": ")"
                                                }
                                              ]
                                            },
                                            {
                                              "type": "for_in_clause",
                                              "start": {
                                                "row": 106,
                                                "column": 34
                                              },
                                              "end": {
                                                "row": 106,
                                                "column": 46
                                              },
                                              "text": "for k in add",
                                              "children": [
                                                {
                                                  "type": "for",
                                                  "start": {
                                                    "row": 106,
                                                    "column": 34
                                                  },
                                                  "end": {
                                                    "row": 106,
                                                    "column": 37
                                                  },
                                                  "text": "for"
                                                },
                                                {
                                                  "type": "identifier",
                                                  "start": {
                                                    "row": 106,
                                                    "column": 38
                                                  },
                                                  "end": {
                                                    "row": 106,
                                                    "column": 39
                                                  },
                                                  "text": "k"
                                                },
                                                {
                                                  "type": "in",
                                                  "start": {
                                                    "row": 106,
                                                    "column": 40
                                                  },
                                                  "end": {
                                                    "row": 106,
                                                    "column": 42
                                                  },
                                                  "text": "in"
                                                },
                                                {
                                                  "type": "identifier",
                                                  "start": {
                                                    "row": 106,
                                                    "column": 43
                                                  },
                                                  "end": {
                                                    "row": 106,
                                                    "column": 46
                                                  },
                                                  "text": "add"
                                                }
                                              ]
                                            },
                                            {
                                              "type": ")",
                                              "start": {
                                                "row": 106,
                                                "column": 46
                                              },
                                              "end": {
                                                "row": 106,
                                                "column": 47
                                              },
                                              "text": ")"
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "type": "expression_statement",
                              "start": {
                                "row": 107,
                                "column": 12
                              },
                              "end": {
                                "row": 107,
                                "column": 62
                              },
                              "text": "log.debug('New tags for vol.id %s: %s', vol.id, d)",
                              "children": [
                                {
                                  "type": "call",
                                  "start": {
                                    "row": 107,
                                    "column": 12
                                  },
                                  "end": {
                                    "row": 107,
                                    "column": 62
                                  },
                                  "text": "log.debug('New tags for vol.id %s: %s', vol.id, d)",
                                  "children": [
                                    {
                                      "type": "attribute",
                                      "start": {
                                        "row": 107,
                                        "column": 12
                                      },
                                      "end": {
                                        "row": 107,
                                        "column": 21
                                      },
                                      "text": "log.debug",
                                      "children": [
                                        {
                                          "type": "identifier",
                                          "start": {
                                            "row": 107,
                                            "column": 12
                                          },
                                          "end": {
                                            "row": 107,
                                            "column": 15
                                          },
                                          "text": "log"
                                        },
                                        {
                                          "type": ".",
                                          "start": {
                                            "row": 107,
                                            "column": 15
                                          },
                                          "end": {
                                            "row": 107,
                                            "column": 16
                                          },
                                          "text": "."
                                        },
                                        {
                                          "type": "identifier",
                                          "start": {
                                            "row": 107,
                                            "column": 16
                                          },
                                          "end": {
                                            "row": 107,
                                            "column": 21
                                          },
                                          "text": "debug"
                                        }
                                      ]
                                    },
                                    {
                                      "type": "argument_list",
                                      "start": {
                                        "row": 107,
                                        "column": 21
                                      },
                                      "end": {
                                        "row": 107,
                                        "column": 62
                                      },
                                      "text": "('New tags for vol.id %s: %s', vol.id, d)",
                                      "children": [
                                        {
                                          "type": "(",
                                          "start": {
                                            "row": 107,
                                            "column": 21
                                          },
                                          "end": {
                                            "row": 107,
                                            "column": 22
                                          },
                                          "text": "("
                                        },
                                        {
                                          "type": "string",
                                          "start": {
                                            "row": 107,
                                            "column": 22
                                          },
                                          "end": {
                                            "row": 107,
                                            "column": 50
                                          },
                                          "text": "'New tags for vol.id %s: %s'",
                                          "children": [
                                            {
                                              "type": "string_start",
                                              "start": {
                                                "row": 107,
                                                "column": 22
                                              },
                                              "end": {
                                                "row": 107,
                                                "column": 23
                                              },
                                              "text": "'"
                                            },
                                            {
                                              "type": "string_content",
                                              "start": {
                                                "row": 107,
                                                "column": 23
                                              },
                                              "end": {
                                                "row": 107,
                                                "column": 49
                                              },
                                              "text": "New tags for vol.id %s: %s"
                                            },
                                            {
                                              "type": "string_end",
                                              "start": {
                                                "row": 107,
                                                "column": 49
                                              },
                                              "end": {
                                                "row": 107,
                                                "column": 50
                                              },
                                              "text": "'"
                                            }
                                          ]
                                        },
                                        {
                                          "type": ",",
                                          "start": {
                                            "row": 107,
                                            "column": 50
                                          },
                                          "end": {
                                            "row": 107,
                                            "column": 51
                                          },
                                          "text": ","
                                        },
                                        {
                                          "type": "attribute",
                                          "start": {
                                            "row": 107,
                                            "column": 52
                                          },
                                          "end": {
                                            "row": 107,
                                            "column": 58
                                          },
                                          "text": "vol.id",
                                          "children": [
                                            {
                                              "type": "identifier",
                                              "start": {
                                                "row": 107,
                                                "column": 52
                                              },
                                              "end": {
                                                "row": 107,
                                                "column": 55
                                              },
                                              "text": "vol"
                                            },
                                            {
                                              "type": ".",
                                              "start": {
                                                "row": 107,
                                                "column": 55
                                              },
                                              "end": {
                                                "row": 107,
                                                "column": 56
                                              },
                                              "text": "."
                                            },
                                            {
                                              "type": "identifier",
                                              "start": {
                                                "row": 107,
                                                "column": 56
                                              },
                                              "end": {
                                                "row": 107,
                                                "column": 58
                                              },
                                              "text": "id"
                                            }
                                          ]
                                        },
                                        {
                                          "type": ",",
                                          "start": {
                                            "row": 107,
                                            "column": 58
                                          },
                                          "end": {
                                            "row": 107,
                                            "column": 59
                                          },
                                          "text": ","
                                        },
                                        {
                                          "type": "identifier",
                                          "start": {
                                            "row": 107,
                                            "column": 60
                                          },
                                          "end": {
                                            "row": 107,
                                            "column": 61
                                          },
                                          "text": "d"
                                        },
                                        {
                                          "type": ")",
                                          "start": {
                                            "row": 107,
                                            "column": 61
                                          },
                                          "end": {
                                            "row": 107,
                                            "column": 62
                                          },
                                          "text": ")"
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "type": "if_statement",
                      "start": {
                        "row": 108,
                        "column": 8
                      },
                      "end": {
                        "row": 110,
                        "column": 66
                      },
                      "text": "if update:\n            d = dict((k, tags[k]) for k in update)\n            log.debug('Updated tags for vol.id %s: %s', vol.id, d)",
                      "children": [
                        {
                          "type": "if",
                          "start": {
                            "row": 108,
                            "column": 8
                          },
                          "end": {
                            "row": 108,
                            "column": 10
                          },
                          "text": "if"
                        },
                        {
                          "type": "identifier",
                          "start": {
                            "row": 108,
                            "column": 11
                          },
                          "end": {
                            "row": 108,
                            "column": 17
                          },
                          "text": "update"
                        },
                        {
                          "type": ":",
                          "start": {
                            "row": 108,
                            "column": 17
                          },
                          "end": {
                            "row": 108,
                            "column": 18
                          },
                          "text": ":"
                        },
                        {
                          "type": "block",
                          "start": {
                            "row": 109,
                            "column": 12
                          },
                          "end": {
                            "row": 110,
                            "column": 66
                          },
                          "text": "d = dict((k, tags[k]) for k in update)\n            log.debug('Updated tags for vol.id %s: %s', vol.id, d)",
                          "children": [
                            {
                              "type": "expression_statement",
                              "start": {
                                "row": 109,
                                "column": 12
                              },
                              "end": {
                                "row": 109,
                                "column": 50
                              },
                              "text": "d = dict((k, tags[k]) for k in update)",
                              "children": [
                                {
                                  "type": "assignment",
                                  "start": {
                                    "row": 109,
                                    "column": 12
                                  },
                                  "end": {
                                    "row": 109,
                                    "column": 50
                                  },
                                  "text": "d = dict((k, tags[k]) for k in update)",
                                  "children": [
                                    {
                                      "type": "identifier",
                                      "start": {
                                        "row": 109,
                                        "column": 12
                                      },
                                      "end": {
                                        "row": 109,
                                        "column": 13
                                      },
                                      "text": "d"
                                    },
                                    {
                                      "type": "=",
                                      "start": {
                                        "row": 109,
                                        "column": 14
                                      },
                                      "end": {
                                        "row": 109,
                                        "column": 15
                                      },
                                      "text": "="
                                    },
                                    {
                                      "type": "call",
                                      "start": {
                                        "row": 109,
                                        "column": 16
                                      },
                                      "end": {
                                        "row": 109,
                                        "column": 50
                                      },
                                      "text": "dict((k, tags[k]) for k in update)",
                                      "children": [
                                        {
                                          "type": "identifier",
                                          "start": {
                                            "row": 109,
                                            "column": 16
                                          },
                                          "end": {
                                            "row": 109,
                                            "column": 20
                                          },
                                          "text": "dict"
                                        },
                                        {
                                          "type": "generator_expression",
                                          "start": {
                                            "row": 109,
                                            "column": 20
                                          },
                                          "end": {
                                            "row": 109,
                                            "column": 50
                                          },
                                          "text": "((k, tags[k]) for k in update)",
                                          "children": [
                                            {
                                              "type": "(",
                                              "start": {
                                                "row": 109,
                                                "column": 20
                                              },
                                              "end": {
                                                "row": 109,
                                                "column": 21
                                              },
                                              "text": "("
                                            },
                                            {
                                              "type": "tuple",
                                              "start": {
                                                "row": 109,
                                                "column": 21
                                              },
                                              "end": {
                                                "row": 109,
                                                "column": 33
                                              },
                                              "text": "(k, tags[k])",
                                              "children": [
                                                {
                                                  "type": "(",
                                                  "start": {
                                                    "row": 109,
                                                    "column": 21
                                                  },
                                                  "end": {
                                                    "row": 109,
                                                    "column": 22
                                                  },
                                                  "text": "("
                                                },
                                                {
                                                  "type": "identifier",
                                                  "start": {
                                                    "row": 109,
                                                    "column": 22
                                                  },
                                                  "end": {
                                                    "row": 109,
                                                    "column": 23
                                                  },
                                                  "text": "k"
                                                },
                                                {
                                                  "type": ",",
                                                  "start": {
                                                    "row": 109,
                                                    "column": 23
                                                  },
                                                  "end": {
                                                    "row": 109,
                                                    "column": 24
                                                  },
                                                  "text": ","
                                                },
                                                {
                                                  "type": "subscript",
                                                  "start": {
                                                    "row": 109,
                                                    "column": 25
                                                  },
                                                  "end": {
                                                    "row": 109,
                                                    "column": 32
                                                  },
                                                  "text": "tags[k]",
                                                  "children": [
                                                    {
                                                      "type": "identifier",
                                                      "start": {
                                                        "row": 109,
                                                        "column": 25
                                                      },
                                                      "end": {
                                                        "row": 109,
                                                        "column": 29
                                                      },
                                                      "text": "tags"
                                                    },
                                                    {
                                                      "type": "[",
                                                      "start": {
                                                        "row": 109,
                                                        "column": 29
                                                      },
                                                      "end": {
                                                        "row": 109,
                                                        "column": 30
                                                      },
                                                      "text": "["
                                                    },
                                                    {
                                                      "type": "identifier",
                                                      "start": {
                                                        "row": 109,
                                                        "column": 30
                                                      },
                                                      "end": {
                                                        "row": 109,
                                                        "column": 31
                                                      },
                                                      "text": "k"
                                                    },
                                                    {
                                                      "type": "]",
                                                      "start": {
                                                        "row": 109,
                                                        "column": 31
                                                      },
                                                      "end": {
                                                        "row": 109,
                                                        "column": 32
                                                      },
                                                      "text": "]"
                                                    }
                                                  ]
                                                },
                                                {
                                                  "type": ")",
                                                  "start": {
                                                    "row": 109,
                                                    "column": 32
                                                  },
                                                  "end": {
                                                    "row": 109,
                                                    "column": 33
                                                  },
                                                  "text": ")"
                                                }
                                              ]
                                            },
                                            {
                                              "type": "for_in_clause",
                                              "start": {
                                                "row": 109,
                                                "column": 34
                                              },
                                              "end": {
                                                "row": 109,
                                                "column": 49
                                              },
                                              "text": "for k in update",
                                              "children": [
                                                {
                                                  "type": "for",
                                                  "start": {
                                                    "row": 109,
                                                    "column": 34
                                                  },
                                                  "end": {
                                                    "row": 109,
                                                    "column": 37
                                                  },
                                                  "text": "for"
                                                },
                                                {
                                                  "type": "identifier",
                                                  "start": {
                                                    "row": 109,
                                                    "column": 38
                                                  },
                                                  "end": {
                                                    "row": 109,
                                                    "column": 39
                                                  },
                                                  "text": "k"
                                                },
                                                {
                                                  "type": "in",
                                                  "start": {
                                                    "row": 109,
                                                    "column": 40
                                                  },
                                                  "end": {
                                                    "row": 109,
                                                    "column": 42
                                                  },
                                                  "text": "in"
                                                },
                                                {
                                                  "type": "identifier",
                                                  "start": {
                                                    "row": 109,
                                                    "column": 43
                                                  },
                                                  "end": {
                                                    "row": 109,
                                                    "column": 49
                                                  },
                                                  "text": "update"
                                                }
                                              ]
                                            },
                                            {
                                              "type": ")",
                                              "start": {
                                                "row": 109,
                                                "column": 49
                                              },
                                              "end": {
                                                "row": 109,
                                                "column": 50
                                              },
                                              "text": ")"
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "type": "expression_statement",
                              "start": {
                                "row": 110,
                                "column": 12
                              },
                              "end": {
                                "row": 110,
                                "column": 66
                              },
                              "text": "log.debug('Updated tags for vol.id %s: %s', vol.id, d)",
                              "children": [
                                {
                                  "type": "call",
                                  "start": {
                                    "row": 110,
                                    "column": 12
                                  },
                                  "end": {
                                    "row": 110,
                                    "column": 66
                                  },
                                  "text": "log.debug('Updated tags for vol.id %s: %s', vol.id, d)",
                                  "children": [
                                    {
                                      "type": "attribute",
                                      "start": {
                                        "row": 110,
                                        "column": 12
                                      },
                                      "end": {
                                        "row": 110,
                                        "column": 21
                                      },
                                      "text": "log.debug",
                                      "children": [
                                        {
                                          "type": "identifier",
                                          "start": {
                                            "row": 110,
                                            "column": 12
                                          },
                                          "end": {
                                            "row": 110,
                                            "column": 15
                                          },
                                          "text": "log"
                                        },
                                        {
                                          "type": ".",
                                          "start": {
                                            "row": 110,
                                            "column": 15
                                          },
                                          "end": {
                                            "row": 110,
                                            "column": 16
                                          },
                                          "text": "."
                                        },
                                        {
                                          "type": "identifier",
                                          "start": {
                                            "row": 110,
                                            "column": 16
                                          },
                                          "end": {
                                            "row": 110,
                                            "column": 21
                                          },
                                          "text": "debug"
                                        }
                                      ]
                                    },
                                    {
                                      "type": "argument_list",
                                      "start": {
                                        "row": 110,
                                        "column": 21
                                      },
                                      "end": {
                                        "row": 110,
                                        "column": 66
                                      },
                                      "text": "('Updated tags for vol.id %s: %s', vol.id, d)",
                                      "children": [
                                        {
                                          "type": "(",
                                          "start": {
                                            "row": 110,
                                            "column": 21
                                          },
                                          "end": {
                                            "row": 110,
                                            "column": 22
                                          },
                                          "text": "("
                                        },
                                        {
                                          "type": "string",
                                          "start": {
                                            "row": 110,
                                            "column": 22
                                          },
                                          "end": {
                                            "row": 110,
                                            "column": 54
                                          },
                                          "text": "'Updated tags for vol.id %s: %s'",
                                          "children": [
                                            {
                                              "type": "string_start",
                                              "start": {
                                                "row": 110,
                                                "column": 22
                                              },
                                              "end": {
                                                "row": 110,
                                                "column": 23
                                              },
                                              "text": "'"
                                            },
                                            {
                                              "type": "string_content",
                                              "start": {
                                                "row": 110,
                                                "column": 23
                                              },
                                              "end": {
                                                "row": 110,
                                                "column": 53
                                              },
                                              "text": "Updated tags for vol.id %s: %s"
                                            },
                                            {
                                              "type": "string_end",
                                              "start": {
                                                "row": 110,
                                                "column": 53
                                              },
                                              "end": {
                                                "row": 110,
                                                "column": 54
                                              },
                                              "text": "'"
                                            }
                                          ]
                                        },
                                        {
                                          "type": ",",
                                          "start": {
                                            "row": 110,
                                            "column": 54
                                          },
                                          "end": {
                                            "row": 110,
                                            "column": 55
                                          },
                                          "text": ","
                                        },
                                        {
                                          "type": "attribute",
                                          "start": {
                                            "row": 110,
                                            "column": 56
                                          },
                                          "end": {
                                            "row": 110,
                                            "column": 62
                                          },
                                          "text": "vol.id",
                                          "children": [
                                            {
                                              "type": "identifier",
                                              "start": {
                                                "row": 110,
                                                "column": 56
                                              },
                                              "end": {
                                                "row": 110,
                                                "column": 59
                                              },
                                              "text": "vol"
                                            },
                                            {
                                              "type": ".",
                                              "start": {
                                                "row": 110,
                                                "column": 59
                                              },
                                              "end": {
                                                "row": 110,
                                                "column": 60
                                              },
                                              "text": "."
                                            },
                                            {
                                              "type": "identifier",
                                              "start": {
                                                "row": 110,
                                                "column": 60
                                              },
                                              "end": {
                                                "row": 110,
                                                "column": 62
                                              },
                                              "text": "id"
                                            }
                                          ]
                                        },
                                        {
                                          "type": ",",
                                          "start": {
                                            "row": 110,
                                            "column": 62
                                          },
                                          "end": {
                                            "row": 110,
                                            "column": 63
                                          },
                                          "text": ","
                                        },
                                        {
                                          "type": "identifier",
                                          "start": {
                                            "row": 110,
                                            "column": 64
                                          },
                                          "end": {
                                            "row": 110,
                                            "column": 65
                                          },
                                          "text": "d"
                                        },
                                        {
                                          "type": ")",
                                          "start": {
                                            "row": 110,
                                            "column": 65
                                          },
                                          "end": {
                                            "row": 110,
                                            "column": 66
                                          },
                                          "text": ")"
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "type": "if_statement",
                      "start": {
                        "row": 111,
                        "column": 8
                      },
                      "end": {
                        "row": 122,
                        "column": 34
                      },
                      "text": "if not dry_run:\n            if not create_tags(vol.id, tags, region=region, key=key, keyid=keyid, profile=profile):\n                ret['success'] = False\n                ret['comment'] = \"Failed to set tags on vol.id {0}: {1}\".format(vol.id, tags)\n                return ret\n            if authoritative:\n                if remove:\n                    log.debug('Removed tags for vol.id %s: %s', vol.id, remove)\n                    if not delete_tags(vol.id, remove, region=region, key=key, keyid=keyid, profile=profile):\n                        ret['success'] = False\n                        ret['comment'] = \"Failed to remove tags on vol.id {0}: {1}\".format(vol.id, remove)\n                        return ret",
                      "children": [
                        {
                          "type": "if",
                          "start": {
                            "row": 111,
                            "column": 8
                          },
                          "end": {
                            "row": 111,
                            "column": 10
                          },
                          "text": "if"
                        },
                        {
                          "type": "not_operator",
                          "start": {
                            "row": 111,
                            "column": 11
                          },
                          "end": {
                            "row": 111,
                            "column": 22
                          },
                          "text": "not dry_run",
                          "children": [
                            {
                              "type": "not",
                              "start": {
                                "row": 111,
                                "column": 11
                              },
                              "end": {
                                "row": 111,
                                "column": 14
                              },
                              "text": "not"
                            },
                            {
                              "type": "identifier",
                              "start": {
                                "row": 111,
                                "column": 15
                              },
                              "end": {
                                "row": 111,
                                "column": 22
                              },
                              "text": "dry_run"
                            }
                          ]
                        },
                        {
                          "type": ":",
                          "start": {
                            "row": 111,
                            "column": 22
                          },
                          "end": {
                            "row": 111,
                            "column": 23
                          },
                          "text": ":"
                        },
                        {
                          "type": "block",
                          "start": {
                            "row": 112,
                            "column": 12
                          },
                          "end": {
                            "row": 122,
                            "column": 34
                          },
                          "text": "if not create_tags(vol.id, tags, region=region, key=key, keyid=keyid, profile=profile):\n                ret['success'] = False\n                ret['comment'] = \"Failed to set tags on vol.id {0}: {1}\".format(vol.id, tags)\n                return ret\n            if authoritative:\n                if remove:\n                    log.debug('Removed tags for vol.id %s: %s', vol.id, remove)\n                    if not delete_tags(vol.id, remove, region=region, key=key, keyid=keyid, profile=profile):\n                        ret['success'] = False\n                        ret['comment'] = \"Failed to remove tags on vol.id {0}: {1}\".format(vol.id, remove)\n                        return ret",
                          "children": [
                            {
                              "type": "if_statement",
                              "start": {
                                "row": 112,
                                "column": 12
                              },
                              "end": {
                                "row": 115,
                                "column": 26
                              },
                              "text": "if not create_tags(vol.id, tags, region=region, key=key, keyid=keyid, profile=profile):\n                ret['success'] = False\n                ret['comment'] = \"Failed to set tags on vol.id {0}: {1}\".format(vol.id, tags)\n                return ret",
                              "children": [
                                {
                                  "type": "if",
                                  "start": {
                                    "row": 112,
                                    "column": 12
                                  },
                                  "end": {
                                    "row": 112,
                                    "column": 14
                                  },
                                  "text": "if"
                                },
                                {
                                  "type": "not_operator",
                                  "start": {
                                    "row": 112,
                                    "column": 15
                                  },
                                  "end": {
                                    "row": 112,
                                    "column": 98
                                  },
                                  "text": "not create_tags(vol.id, tags, region=region, key=key, keyid=keyid, profile=profile)",
                                  "children": [
                                    {
                                      "type": "not",
                                      "start": {
                                        "row": 112,
                                        "column": 15
                                      },
                                      "end": {
                                        "row": 112,
                                        "column": 18
                                      },
                                      "text": "not"
                                    },
                                    {
                                      "type": "call",
                                      "start": {
                                        "row": 112,
                                        "column": 19
                                      },
                                      "end": {
                                        "row": 112,
                                        "column": 98
                                      },
                                      "text": "create_tags(vol.id, tags, region=region, key=key, keyid=keyid, profile=profile)",
                                      "children": [
                                        {
                                          "type": "identifier",
                                          "start": {
                                            "row": 112,
                                            "column": 19
                                          },
                                          "end": {
                                            "row": 112,
                                            "column": 30
                                          },
                                          "text": "create_tags"
                                        },
                                        {
                                          "type": "argument_list",
                                          "start": {
                                            "row": 112,
                                            "column": 30
                                          },
                                          "end": {
                                            "row": 112,
                                            "column": 98
                                          },
                                          "text": "(vol.id, tags, region=region, key=key, keyid=keyid, profile=profile)",
                                          "children": [
                                            {
                                              "type": "(",
                                              "start": {
                                                "row": 112,
                                                "column": 30
                                              },
                                              "end": {
                                                "row": 112,
                                                "column": 31
                                              },
                                              "text": "("
                                            },
                                            {
                                              "type": "attribute",
                                              "start": {
                                                "row": 112,
                                                "column": 31
                                              },
                                              "end": {
                                                "row": 112,
                                                "column": 37
                                              },
                                              "text": "vol.id",
                                              "children": [
                                                {
                                                  "type": "identifier",
                                                  "start": {
                                                    "row": 112,
                                                    "column": 31
                                                  },
                                                  "end": {
                                                    "row": 112,
                                                    "column": 34
                                                  },
                                                  "text": "vol"
                                                },
                                                {
                                                  "type": ".",
                                                  "start": {
                                                    "row": 112,
                                                    "column": 34
                                                  },
                                                  "end": {
                                                    "row": 112,
                                                    "column": 35
                                                  },
                                                  "text": "."
                                                },
                                                {
                                                  "type": "identifier",
                                                  "start": {
                                                    "row": 112,
                                                    "column": 35
                                                  },
                                                  "end": {
                                                    "row": 112,
                                                    "column": 37
                                                  },
                                                  "text": "id"
                                                }
                                              ]
                                            },
                                            {
                                              "type": ",",
                                              "start": {
                                                "row": 112,
                                                "column": 37
                                              },
                                              "end": {
                                                "row": 112,
                                                "column": 38
                                              },
                                              "text": ","
                                            },
                                            {
                                              "type": "identifier",
                                              "start": {
                                                "row": 112,
                                                "column": 39
                                              },
                                              "end": {
                                                "row": 112,
                                                "column": 43
                                              },
                                              "text": "tags"
                                            },
                                            {
                                              "type": ",",
                                              "start": {
                                                "row": 112,
                                                "column": 43
                                              },
                                              "end": {
                                                "row": 112,
                                                "column": 44
                                              },
                                              "text": ","
                                            },
                                            {
                                              "type": "keyword_argument",
                                              "start": {
                                                "row": 112,
                                                "column": 45
                                              },
                                              "end": {
                                                "row": 112,
                                                "column": 58
                                              },
                                              "text": "region=region",
                                              "children": [
                                                {
                                                  "type": "identifier",
                                                  "start": {
                                                    "row": 112,
                                                    "column": 45
                                                  },
                                                  "end": {
                                                    "row": 112,
                                                    "column": 51
                                                  },
                                                  "text": "region"
                                                },
                                                {
                                                  "type": "=",
                                                  "start": {
                                                    "row": 112,
                                                    "column": 51
                                                  },
                                                  "end": {
                                                    "row": 112,
                                                    "column": 52
                                                  },
                                                  "text": "="
                                                },
                                                {
                                                  "type": "identifier",
                                                  "start": {
                                                    "row": 112,
                                                    "column": 52
                                                  },
                                                  "end": {
                                                    "row": 112,
                                                    "column": 58
                                                  },
                                                  "text": "region"
                                                }
                                              ]
                                            },
                                            {
                                              "type": ",",
                                              "start": {
                                                "row": 112,
                                                "column": 58
                                              },
                                              "end": {
                                                "row": 112,
                                                "column": 59
                                              },
                                              "text": ","
                                            },
                                            {
                                              "type": "keyword_argument",
                                              "start": {
                                                "row": 112,
                                                "column": 60
                                              },
                                              "end": {
                                                "row": 112,
                                                "column": 67
                                              },
                                              "text": "key=key",
                                              "children": [
                                                {
                                                  "type": "identifier",
                                                  "start": {
                                                    "row": 112,
                                                    "column": 60
                                                  },
                                                  "end": {
                                                    "row": 112,
                                                    "column": 63
                                                  },
                                                  "text": "key"
                                                },
                                                {
                                                  "type": "=",
                                                  "start": {
                                                    "row": 112,
                                                    "column": 63
                                                  },
                                                  "end": {
                                                    "row": 112,
                                                    "column": 64
                                                  },
                                                  "text": "="
                                                },
                                                {
                                                  "type": "identifier",
                                                  "start": {
                                                    "row": 112,
                                                    "column": 64
                                                  },
                                                  "end": {
                                                    "row": 112,
                                                    "column": 67
                                                  },
                                                  "text": "key"
                                                }
                                              ]
                                            },
                                            {
                                              "type": ",",
                                              "start": {
                                                "row": 112,
                                                "column": 67
                                              },
                                              "end": {
                                                "row": 112,
                                                "column": 68
                                              },
                                              "text": ","
                                            },
                                            {
                                              "type": "keyword_argument",
                                              "start": {
                                                "row": 112,
                                                "column": 69
                                              },
                                              "end": {
                                                "row": 112,
                                                "column": 80
                                              },
                                              "text": "keyid=keyid",
                                              "children": [
                                                {
                                                  "type": "identifier",
                                                  "start": {
                                                    "row": 112,
                                                    "column": 69
                                                  },
                                                  "end": {
                                                    "row": 112,
                                                    "column": 74
                                                  },
                                                  "text": "keyid"
                                                },
                                                {
                                                  "type": "=",
                                                  "start": {
                                                    "row": 112,
                                                    "column": 74
                                                  },
                                                  "end": {
                                                    "row": 112,
                                                    "column": 75
                                                  },
                                                  "text": "="
                                                },
                                                {
                                                  "type": "identifier",
                                                  "start": {
                                                    "row": 112,
                                                    "column": 75
                                                  },
                                                  "end": {
                                                    "row": 112,
                                                    "column": 80
                                                  },
                                                  "text": "keyid"
                                                }
                                              ]
                                            },
                                            {
                                              "type": ",",
                                              "start": {
                                                "row": 112,
                                                "column": 80
                                              },
                                              "end": {
                                                "row": 112,
                                                "column": 81
                                              },
                                              "text": ","
                                            },
                                            {
                                              "type": "keyword_argument",
                                              "start": {
                                                "row": 112,
                                                "column": 82
                                              },
                                              "end": {
                                                "row": 112,
                                                "column": 97
                                              },
                                              "text": "profile=profile",
                                              "children": [
                                                {
                                                  "type": "identifier",
                                                  "start": {
                                                    "row": 112,
                                                    "column": 82
                                                  },
                                                  "end": {
                                                    "row": 112,
                                                    "column": 89
                                                  },
                                                  "text": "profile"
                                                },
                                                {
                                                  "type": "=",
                                                  "start": {
                                                    "row": 112,
                                                    "column": 89
                                                  },
                                                  "end": {
                                                    "row": 112,
                                                    "column": 90
                                                  },
                                                  "text": "="
                                                },
                                                {
                                                  "type": "identifier",
                                                  "start": {
                                                    "row": 112,
                                                    "column": 90
                                                  },
                                                  "end": {
                                                    "row": 112,
                                                    "column": 97
                                                  },
                                                  "text": "profile"
                                                }
                                              ]
                                            },
                                            {
                                              "type": ")",
                                              "start": {
                                                "row": 112,
                                                "column": 97
                                              },
                                              "end": {
                                                "row": 112,
                                                "column": 98
                                              },
                                              "text": ")"
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "type": ":",
                                  "start": {
                                    "row": 112,
                                    "column": 98
                                  },
                                  "end": {
                                    "row": 112,
                                    "column": 99
                                  },
                                  "text": ":"
                                },
                                {
                                  "type": "block",
                                  "start": {
                                    "row": 113,
                                    "column": 16
                                  },
                                  "end": {
                                    "row": 115,
                                    "column": 26
                                  },
                                  "text": "ret['success'] = False\n                ret['comment'] = \"Failed to set tags on vol.id {0}: {1}\".format(vol.id, tags)\n                return ret",
                                  "children": [
                                    {
                                      "type": "expression_statement",
                                      "start": {
                                        "row": 113,
                                        "column": 16
                                      },
                                      "end": {
                                        "row": 113,
                                        "column": 38
                                      },
                                      "text": "ret['success'] = False",
                                      "children": [
                                        {
                                          "type": "assignment",
                                          "start": {
                                            "row": 113,
                                            "column": 16
                                          },
                                          "end": {
                                            "row": 113,
                                            "column": 38
                                          },
                                          "text": "ret['success'] = False",
                                          "children": [
                                            {
                                              "type": "subscript",
                                              "start": {
                                                "row": 113,
                                                "column": 16
                                              },
                                              "end": {
                                                "row": 113,
                                                "column": 30
                                              },
                                              "text": "ret['success']",
                                              "children": [
                                                {
                                                  "type": "identifier",
                                                  "start": {
                                                    "row": 113,
                                                    "column": 16
                                                  },
                                                  "end": {
                                                    "row": 113,
                                                    "column": 19
                                                  },
                                                  "text": "ret"
                                                },
                                                {
                                                  "type": "[",
                                                  "start": {
                                                    "row": 113,
                                                    "column": 19
                                                  },
                                                  "end": {
                                                    "row": 113,
                                                    "column": 20
                                                  },
                                                  "text": "["
                                                },
                                                {
                                                  "type": "string",
                                                  "start": {
                                                    "row": 113,
                                                    "column": 20
                                                  },
                                                  "end": {
                                                    "row": 113,
                                                    "column": 29
                                                  },
                                                  "text": "'success'",
                                                  "children": [
                                                    {
                                                      "type": "string_start",
                                                      "start": {
                                                        "row": 113,
                                                        "column": 20
                                                      },
                                                      "end": {
                                                        "row": 113,
                                                        "column": 21
                                                      },
                                                      "text": "'"
                                                    },
                                                    {
                                                      "type": "string_content",
                                                      "start": {
                                                        "row": 113,
                                                        "column": 21
                                                      },
                                                      "end": {
                                                        "row": 113,
                                                        "column": 28
                                                      },
                                                      "text": "success"
                                                    },
                                                    {
                                                      "type": "string_end",
                                                      "start": {
                                                        "row": 113,
                                                        "column": 28
                                                      },
                                                      "end": {
                                                        "row": 113,
                                                        "column": 29
                                                      },
                                                      "text": "'"
                                                    }
                                                  ]
                                                },
                                                {
                                                  "type": "]",
                                                  "start": {
                                                    "row": 113,
                                                    "column": 29
                                                  },
                                                  "end": {
                                                    "row": 113,
                                                    "column": 30
                                                  },
                                                  "text": "]"
                                                }
                                              ]
                                            },
                                            {
                                              "type": "=",
                                              "start": {
                                                "row": 113,
                                                "column": 31
                                              },
                                              "end": {
                                                "row": 113,
                                                "column": 32
                                              },
                                              "text": "="
                                            },
                                            {
                                              "type": "false",
                                              "start": {
                                                "row": 113,
                                                "column": 33
                                              },
                                              "end": {
                                                "row": 113,
                                                "column": 38
                                              },
                                              "text": "False"
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "type": "expression_statement",
                                      "start": {
                                        "row": 114,
                                        "column": 16
                                      },
                                      "end": {
                                        "row": 114,
                                        "column": 93
                                      },
                                      "text": "ret['comment'] = \"Failed to set tags on vol.id {0}: {1}\".format(vol.id, tags)",
                                      "children": [
                                        {
                                          "type": "assignment",
                                          "start": {
                                            "row": 114,
                                            "column": 16
                                          },
                                          "end": {
                                            "row": 114,
                                            "column": 93
                                          },
                                          "text": "ret['comment'] = \"Failed to set tags on vol.id {0}: {1}\".format(vol.id, tags)",
                                          "children": [
                                            {
                                              "type": "subscript",
                                              "start": {
                                                "row": 114,
                                                "column": 16
                                              },
                                              "end": {
                                                "row": 114,
                                                "column": 30
                                              },
                                              "text": "ret['comment']",
                                              "children": [
                                                {
                                                  "type": "identifier",
                                                  "start": {
                                                    "row": 114,
                                                    "column": 16
                                                  },
                                                  "end": {
                                                    "row": 114,
                                                    "column": 19
                                                  },
                                                  "text": "ret"
                                                },
                                                {
                                                  "type": "[",
                                                  "start": {
                                                    "row": 114,
                                                    "column": 19
                                                  },
                                                  "end": {
                                                    "row": 114,
                                                    "column": 20
                                                  },
                                                  "text": "["
                                                },
                                                {
                                                  "type": "string",
                                                  "start": {
                                                    "row": 114,
                                                    "column": 20
                                                  },
                                                  "end": {
                                                    "row": 114,
                                                    "column": 29
                                                  },
                                                  "text": "'comment'",
                                                  "children": [
                                                    {
                                                      "type": "string_start",
                                                      "start": {
                                                        "row": 114,
                                                        "column": 20
                                                      },
                                                      "end": {
                                                        "row": 114,
                                                        "column": 21
                                                      },
                                                      "text": "'"
                                                    },
                                                    {
                                                      "type": "string_content",
                                                      "start": {
                                                        "row": 114,
                                                        "column": 21
                                                      },
                                                      "end": {
                                                        "row": 114,
                                                        "column": 28
                                                      },
                                                      "text": "comment"
                                                    },
                                                    {
                                                      "type": "string_end",
                                                      "start": {
                                                        "row": 114,
                                                        "column": 28
                                                      },
                                                      "end": {
                                                        "row": 114,
                                                        "column": 29
                                                      },
                                                      "text": "'"
                                                    }
                                                  ]
                                                },
                                                {
                                                  "type": "]",
                                                  "start": {
                                                    "row": 114,
                                                    "column": 29
                                                  },
                                                  "end": {
                                                    "row": 114,
                                                    "column": 30
                                                  },
                                                  "text": "]"
                                                }
                                              ]
                                            },
                                            {
                                              "type": "=",
                                              "start": {
                                                "row": 114,
                                                "column": 31
                                              },
                                              "end": {
                                                "row": 114,
                                                "column": 32
                                              },
                                              "text": "="
                                            },
                                            {
                                              "type": "call",
                                              "start": {
                                                "row": 114,
                                                "column": 33
                                              },
                                              "end": {
                                                "row": 114,
                                                "column": 93
                                              },
                                              "text": "\"Failed to set tags on vol.id {0}: {1}\".format(vol.id, tags)",
                                              "children": [
                                                {
                                                  "type": "attribute",
                                                  "start": {
                                                    "row": 114,
                                                    "column": 33
                                                  },
                                                  "end": {
                                                    "row": 114,
                                                    "column": 79
                                                  },
                                                  "text": "\"Failed to set tags on vol.id {0}: {1}\".format",
                                                  "children": [
                                                    {
                                                      "type": "string",
                                                      "start": {
                                                        "row": 114,
                                                        "column": 33
                                                      },
                                                      "end": {
                                                        "row": 114,
                                                        "column": 72
                                                      },
                                                      "text": "\"Failed to set tags on vol.id {0}: {1}\"",
                                                      "children": [
                                                        {
                                                          "type": "string_start",
                                                          "start": {
                                                            "row": 114,
                                                            "column": 33
                                                          },
                                                          "end": {
                                                            "row": 114,
                                                            "column": 34
                                                          },
                                                          "text": "\""
                                                        },
                                                        {
                                                          "type": "string_content",
                                                          "start": {
                                                            "row": 114,
                                                            "column": 34
                                                          },
                                                          "end": {
                                                            "row": 114,
                                                            "column": 71
                                                          },
                                                          "text": "Failed to set tags on vol.id {0}: {1}"
                                                        },
                                                        {
                                                          "type": "string_end",
                                                          "start": {
                                                            "row": 114,
                                                            "column": 71
                                                          },
                                                          "end": {
                                                            "row": 114,
                                                            "column": 72
                                                          },
                                                          "text": "\""
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "type": ".",
                                                      "start": {
                                                        "row": 114,
                                                        "column": 72
                                                      },
                                                      "end": {
                                                        "row": 114,
                                                        "column": 73
                                                      },
                                                      "text": "."
                                                    },
                                                    {
                                                      "type": "identifier",
                                                      "start": {
                                                        "row": 114,
                                                        "column": 73
                                                      },
                                                      "end": {
                                                        "row": 114,
                                                        "column": 79
                                                      },
                                                      "text": "format"
                                                    }
                                                  ]
                                                },
                                                {
                                                  "type": "argument_list",
                                                  "start": {
                                                    "row": 114,
                                                    "column": 79
                                                  },
                                                  "end": {
                                                    "row": 114,
                                                    "column": 93
                                                  },
                                                  "text": "(vol.id, tags)",
                                                  "children": [
                                                    {
                                                      "type": "(",
                                                      "start": {
                                                        "row": 114,
                                                        "column": 79
                                                      },
                                                      "end": {
                                                        "row": 114,
                                                        "column": 80
                                                      },
                                                      "text": "("
                                                    },
                                                    {
                                                      "type": "attribute",
                                                      "start": {
                                                        "row": 114,
                                                        "column": 80
                                                      },
                                                      "end": {
                                                        "row": 114,
                                                        "column": 86
                                                      },
                                                      "text": "vol.id",
                                                      "children": [
                                                        {
                                                          "type": "identifier",
                                                          "start": {
                                                            "row": 114,
                                                            "column": 80
                                                          },
                                                          "end": {
                                                            "row": 114,
                                                            "column": 83
                                                          },
                                                          "text": "vol"
                                                        },
                                                        {
                                                          "type": ".",
                                                          "start": {
                                                            "row": 114,
                                                            "column": 83
                                                          },
                                                          "end": {
                                                            "row": 114,
                                                            "column": 84
                                                          },
                                                          "text": "."
                                                        },
                                                        {
                                                          "type": "identifier",
                                                          "start": {
                                                            "row": 114,
                                                            "column": 84
                                                          },
                                                          "end": {
                                                            "row": 114,
                                                            "column": 86
                                                          },
                                                          "text": "id"
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "type": ",",
                                                      "start": {
                                                        "row": 114,
                                                        "column": 86
                                                      },
                                                      "end": {
                                                        "row": 114,
                                                        "column": 87
                                                      },
                                                      "text": ","
                                                    },
                                                    {
                                                      "type": "identifier",
                                                      "start": {
                                                        "row": 114,
                                                        "column": 88
                                                      },
                                                      "end": {
                                                        "row": 114,
                                                        "column": 92
                                                      },
                                                      "text": "tags"
                                                    },
                                                    {
                                                      "type": ")",
                                                      "start": {
                                                        "row": 114,
                                                        "column": 92
                                                      },
                                                      "end": {
                                                        "row": 114,
                                                        "column": 93
                                                      },
                                                      "text": ")"
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "type": "return_statement",
                                      "start": {
                                        "row": 115,
                                        "column": 16
                                      },
                                      "end": {
                                        "row": 115,
                                        "column": 26
                                      },
                                      "text": "return ret",
                                      "children": [
                                        {
                                          "type": "return",
                                          "start": {
                                            "row": 115,
                                            "column": 16
                                          },
                                          "end": {
                                            "row": 115,
                                            "column": 22
                                          },
                                          "text": "return"
                                        },
                                        {
                                          "type": "identifier",
                                          "start": {
                                            "row": 115,
                                            "column": 23
                                          },
                                          "end": {
                                            "row": 115,
                                            "column": 26
                                          },
                                          "text": "ret"
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "type": "if_statement",
                              "start": {
                                "row": 116,
                                "column": 12
                              },
                              "end": {
                                "row": 122,
                                "column": 34
                              },
                              "text": "if authoritative:\n                if remove:\n                    log.debug('Removed tags for vol.id %s: %s', vol.id, remove)\n                    if not delete_tags(vol.id, remove, region=region, key=key, keyid=keyid, profile=profile):\n                        ret['success'] = False\n                        ret['comment'] = \"Failed to remove tags on vol.id {0}: {1}\".format(vol.id, remove)\n                        return ret",
                              "children": [
                                {
                                  "type": "if",
                                  "start": {
                                    "row": 116,
                                    "column": 12
                                  },
                                  "end": {
                                    "row": 116,
                                    "column": 14
                                  },
                                  "text": "if"
                                },
                                {
                                  "type": "identifier",
                                  "start": {
                                    "row": 116,
                                    "column": 15
                                  },
                                  "end": {
                                    "row": 116,
                                    "column": 28
                                  },
                                  "text": "authoritative"
                                },
                                {
                                  "type": ":",
                                  "start": {
                                    "row": 116,
                                    "column": 28
                                  },
                                  "end": {
                                    "row": 116,
                                    "column": 29
                                  },
                                  "text": ":"
                                },
                                {
                                  "type": "block",
                                  "start": {
                                    "row": 117,
                                    "column": 16
                                  },
                                  "end": {
                                    "row": 122,
                                    "column": 34
                                  },
                                  "text": "if remove:\n                    log.debug('Removed tags for vol.id %s: %s', vol.id, remove)\n                    if not delete_tags(vol.id, remove, region=region, key=key, keyid=keyid, profile=profile):\n                        ret['success'] = False\n                        ret['comment'] = \"Failed to remove tags on vol.id {0}: {1}\".format(vol.id, remove)\n                        return ret",
                                  "children": [
                                    {
                                      "type": "if_statement",
                                      "start": {
                                        "row": 117,
                                        "column": 16
                                      },
                                      "end": {
                                        "row": 122,
                                        "column": 34
                                      },
                                      "text": "if remove:\n                    log.debug('Removed tags for vol.id %s: %s', vol.id, remove)\n                    if not delete_tags(vol.id, remove, region=region, key=key, keyid=keyid, profile=profile):\n                        ret['success'] = False\n                        ret['comment'] = \"Failed to remove tags on vol.id {0}: {1}\".format(vol.id, remove)\n                        return ret",
                                      "children": [
                                        {
                                          "type": "if",
                                          "start": {
                                            "row": 117,
                                            "column": 16
                                          },
                                          "end": {
                                            "row": 117,
                                            "column": 18
                                          },
                                          "text": "if"
                                        },
                                        {
                                          "type": "identifier",
                                          "start": {
                                            "row": 117,
                                            "column": 19
                                          },
                                          "end": {
                                            "row": 117,
                                            "column": 25
                                          },
                                          "text": "remove"
                                        },
                                        {
                                          "type": ":",
                                          "start": {
                                            "row": 117,
                                            "column": 25
                                          },
                                          "end": {
                                            "row": 117,
                                            "column": 26
                                          },
                                          "text": ":"
                                        },
                                        {
                                          "type": "block",
                                          "start": {
                                            "row": 118,
                                            "column": 20
                                          },
                                          "end": {
                                            "row": 122,
                                            "column": 34
                                          },
                                          "text": "log.debug('Removed tags for vol.id %s: %s', vol.id, remove)\n                    if not delete_tags(vol.id, remove, region=region, key=key, keyid=keyid, profile=profile):\n                        ret['success'] = False\n                        ret['comment'] = \"Failed to remove tags on vol.id {0}: {1}\".format(vol.id, remove)\n                        return ret",
                                          "children": [
                                            {
                                              "type": "expression_statement",
                                              "start": {
                                                "row": 118,
                                                "column": 20
                                              },
                                              "end": {
                                                "row": 118,
                                                "column": 79
                                              },
                                              "text": "log.debug('Removed tags for vol.id %s: %s', vol.id, remove)",
                                              "children": [
                                                {
                                                  "type": "call",
                                                  "start": {
                                                    "row": 118,
                                                    "column": 20
                                                  },
                                                  "end": {
                                                    "row": 118,
                                                    "column": 79
                                                  },
                                                  "text": "log.debug('Removed tags for vol.id %s: %s', vol.id, remove)",
                                                  "children": [
                                                    {
                                                      "type": "attribute",
                                                      "start": {
                                                        "row": 118,
                                                        "column": 20
                                                      },
                                                      "end": {
                                                        "row": 118,
                                                        "column": 29
                                                      },
                                                      "text": "log.debug",
                                                      "children": [
                                                        {
                                                          "type": "identifier",
                                                          "start": {
                                                            "row": 118,
                                                            "column": 20
                                                          },
                                                          "end": {
                                                            "row": 118,
                                                            "column": 23
                                                          },
                                                          "text": "log"
                                                        },
                                                        {
                                                          "type": ".",
                                                          "start": {
                                                            "row": 118,
                                                            "column": 23
                                                          },
                                                          "end": {
                                                            "row": 118,
                                                            "column": 24
                                                          },
                                                          "text": "."
                                                        },
                                                        {
                                                          "type": "identifier",
                                                          "start": {
                                                            "row": 118,
                                                            "column": 24
                                                          },
                                                          "end": {
                                                            "row": 118,
                                                            "column": 29
                                                          },
                                                          "text": "debug"
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "type": "argument_list",
                                                      "start": {
                                                        "row": 118,
                                                        "column": 29
                                                      },
                                                      "end": {
                                                        "row": 118,
                                                        "column": 79
                                                      },
                                                      "text": "('Removed tags for vol.id %s: %s', vol.id, remove)",
                                                      "children": [
                                                        {
                                                          "type": "(",
                                                          "start": {
                                                            "row": 118,
                                                            "column": 29
                                                          },
                                                          "end": {
                                                            "row": 118,
                                                            "column": 30
                                                          },
                                                          "text": "("
                                                        },
                                                        {
                                                          "type": "string",
                                                          "start": {
                                                            "row": 118,
                                                            "column": 30
                                                          },
                                                          "end": {
                                                            "row": 118,
                                                            "column": 62
                                                          },
                                                          "text": "'Removed tags for vol.id %s: %s'",
                                                          "children": [
                                                            {
                                                              "type": "string_start",
                                                              "start": {
                                                                "row": 118,
                                                                "column": 30
                                                              },
                                                              "end": {
                                                                "row": 118,
                                                                "column": 31
                                                              },
                                                              "text": "'"
                                                            },
                                                            {
                                                              "type": "string_content",
                                                              "start": {
                                                                "row": 118,
                                                                "column": 31
                                                              },
                                                              "end": {
                                                                "row": 118,
                                                                "column": 61
                                                              },
                                                              "text": "Removed tags for vol.id %s: %s"
                                                            },
                                                            {
                                                              "type": "string_end",
                                                              "start": {
                                                                "row": 118,
                                                                "column": 61
                                                              },
                                                              "end": {
                                                                "row": 118,
                                                                "column": 62
                                                              },
                                                              "text": "'"
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "type": ",",
                                                          "start": {
                                                            "row": 118,
                                                            "column": 62
                                                          },
                                                          "end": {
                                                            "row": 118,
                                                            "column": 63
                                                          },
                                                          "text": ","
                                                        },
                                                        {
                                                          "type": "attribute",
                                                          "start": {
                                                            "row": 118,
                                                            "column": 64
                                                          },
                                                          "end": {
                                                            "row": 118,
                                                            "column": 70
                                                          },
                                                          "text": "vol.id",
                                                          "children": [
                                                            {
                                                              "type": "identifier",
                                                              "start": {
                                                                "row": 118,
                                                                "column": 64
                                                              },
                                                              "end": {
                                                                "row": 118,
                                                                "column": 67
                                                              },
                                                              "text": "vol"
                                                            },
                                                            {
                                                              "type": ".",
                                                              "start": {
                                                                "row": 118,
                                                                "column": 67
                                                              },
                                                              "end": {
                                                                "row": 118,
                                                                "column": 68
                                                              },
                                                              "text": "."
                                                            },
                                                            {
                                                              "type": "identifier",
                                                              "start": {
                                                                "row": 118,
                                                                "column": 68
                                                              },
                                                              "end": {
                                                                "row": 118,
                                                                "column": 70
                                                              },
                                                              "text": "id"
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "type": ",",
                                                          "start": {
                                                            "row": 118,
                                                            "column": 70
                                                          },
                                                          "end": {
                                                            "row": 118,
                                                            "column": 71
                                                          },
                                                          "text": ","
                                                        },
                                                        {
                                                          "type": "identifier",
                                                          "start": {
                                                            "row": 118,
                                                            "column": 72
                                                          },
                                                          "end": {
                                                            "row": 118,
                                                            "column": 78
                                                          },
                                                          "text": "remove"
                                                        },
                                                        {
                                                          "type": ")",
                                                          "start": {
                                                            "row": 118,
                                                            "column": 78
                                                          },
                                                          "end": {
                                                            "row": 118,
                                                            "column": 79
                                                          },
                                                          "text": ")"
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "type": "if_statement",
                                              "start": {
                                                "row": 119,
                                                "column": 20
                                              },
                                              "end": {
                                                "row": 122,
                                                "column": 34
                                              },
                                              "text": "if not delete_tags(vol.id, remove, region=region, key=key, keyid=keyid, profile=profile):\n                        ret['success'] = False\n                        ret['comment'] = \"Failed to remove tags on vol.id {0}: {1}\".format(vol.id, remove)\n                        return ret",
                                              "children": [
                                                {
                                                  "type": "if",
                                                  "start": {
                                                    "row": 119,
                                                    "column": 20
                                                  },
                                                  "end": {
                                                    "row": 119,
                                                    "column": 22
                                                  },
                                                  "text": "if"
                                                },
                                                {
                                                  "type": "not_operator",
                                                  "start": {
                                                    "row": 119,
                                                    "column": 23
                                                  },
                                                  "end": {
                                                    "row": 119,
                                                    "column": 108
                                                  },
                                                  "text": "not delete_tags(vol.id, remove, region=region, key=key, keyid=keyid, profile=profile)",
                                                  "children": [
                                                    {
                                                      "type": "not",
                                                      "start": {
                                                        "row": 119,
                                                        "column": 23
                                                      },
                                                      "end": {
                                                        "row": 119,
                                                        "column": 26
                                                      },
                                                      "text": "not"
                                                    },
                                                    {
                                                      "type": "call",
                                                      "start": {
                                                        "row": 119,
                                                        "column": 27
                                                      },
                                                      "end": {
                                                        "row": 119,
                                                        "column": 108
                                                      },
                                                      "text": "delete_tags(vol.id, remove, region=region, key=key, keyid=keyid, profile=profile)",
                                                      "children": [
                                                        {
                                                          "type": "identifier",
                                                          "start": {
                                                            "row": 119,
                                                            "column": 27
                                                          },
                                                          "end": {
                                                            "row": 119,
                                                            "column": 38
                                                          },
                                                          "text": "delete_tags"
                                                        },
                                                        {
                                                          "type": "argument_list",
                                                          "start": {
                                                            "row": 119,
                                                            "column": 38
                                                          },
                                                          "end": {
                                                            "row": 119,
                                                            "column": 108
                                                          },
                                                          "text": "(vol.id, remove, region=region, key=key, keyid=keyid, profile=profile)",
                                                          "children": [
                                                            {
                                                              "type": "(",
                                                              "start": {
                                                                "row": 119,
                                                                "column": 38
                                                              },
                                                              "end": {
                                                                "row": 119,
                                                                "column": 39
                                                              },
                                                              "text": "("
                                                            },
                                                            {
                                                              "type": "attribute",
                                                              "start": {
                                                                "row": 119,
                                                                "column": 39
                                                              },
                                                              "end": {
                                                                "row": 119,
                                                                "column": 45
                                                              },
                                                              "text": "vol.id",
                                                              "children": [
                                                                {
                                                                  "type": "identifier",
                                                                  "start": {
                                                                    "row": 119,
                                                                    "column": 39
                                                                  },
                                                                  "end": {
                                                                    "row": 119,
                                                                    "column": 42
                                                                  },
                                                                  "text": "vol"
                                                                },
                                                                {
                                                                  "type": ".",
                                                                  "start": {
                                                                    "row": 119,
                                                                    "column": 42
                                                                  },
                                                                  "end": {
                                                                    "row": 119,
                                                                    "column": 43
                                                                  },
                                                                  "text": "."
                                                                },
                                                                {
                                                                  "type": "identifier",
                                                                  "start": {
                                                                    "row": 119,
                                                                    "column": 43
                                                                  },
                                                                  "end": {
                                                                    "row": 119,
                                                                    "column": 45
                                                                  },
                                                                  "text": "id"
                                                                }
                                                              ]
                                                            },
                                                            {
                                                              "type": ",",
                                                              "start": {
                                                                "row": 119,
                                                                "column": 45
                                                              },
                                                              "end": {
                                                                "row": 119,
                                                                "column": 46
                                                              },
                                                              "text": ","
                                                            },
                                                            {
                                                              "type": "identifier",
                                                              "start": {
                                                                "row": 119,
                                                                "column": 47
                                                              },
                                                              "end": {
                                                                "row": 119,
                                                                "column": 53
                                                              },
                                                              "text": "remove"
                                                            },
                                                            {
                                                              "type": ",",
                                                              "start": {
                                                                "row": 119,
                                                                "column": 53
                                                              },
                                                              "end": {
                                                                "row": 119,
                                                                "column": 54
                                                              },
                                                              "text": ","
                                                            },
                                                            {
                                                              "type": "keyword_argument",
                                                              "start": {
                                                                "row": 119,
                                                                "column": 55
                                                              },
                                                              "end": {
                                                                "row": 119,
                                                                "column": 68
                                                              },
                                                              "text": "region=region",
                                                              "children": [
                                                                {
                                                                  "type": "identifier",
                                                                  "start": {
                                                                    "row": 119,
                                                                    "column": 55
                                                                  },
                                                                  "end": {
                                                                    "row": 119,
                                                                    "column": 61
                                                                  },
                                                                  "text": "region"
                                                                },
                                                                {
                                                                  "type": "=",
                                                                  "start": {
                                                                    "row": 119,
                                                                    "column": 61
                                                                  },
                                                                  "end": {
                                                                    "row": 119,
                                                                    "column": 62
                                                                  },
                                                                  "text": "="
                                                                },
                                                                {
                                                                  "type": "identifier",
                                                                  "start": {
                                                                    "row": 119,
                                                                    "column": 62
                                                                  },
                                                                  "end": {
                                                                    "row": 119,
                                                                    "column": 68
                                                                  },
                                                                  "text": "region"
                                                                }
                                                              ]
                                                            },
                                                            {
                                                              "type": ",",
                                                              "start": {
                                                                "row": 119,
                                                                "column": 68
                                                              },
                                                              "end": {
                                                                "row": 119,
                                                                "column": 69
                                                              },
                                                              "text": ","
                                                            },
                                                            {
                                                              "type": "keyword_argument",
                                                              "start": {
                                                                "row": 119,
                                                                "column": 70
                                                              },
                                                              "end": {
                                                                "row": 119,
                                                                "column": 77
                                                              },
                                                              "text": "key=key",
                                                              "children": [
                                                                {
                                                                  "type": "identifier",
                                                                  "start": {
                                                                    "row": 119,
                                                                    "column": 70
                                                                  },
                                                                  "end": {
                                                                    "row": 119,
                                                                    "column": 73
                                                                  },
                                                                  "text": "key"
                                                                },
                                                                {
                                                                  "type": "=",
                                                                  "start": {
                                                                    "row": 119,
                                                                    "column": 73
                                                                  },
                                                                  "end": {
                                                                    "row": 119,
                                                                    "column": 74
                                                                  },
                                                                  "text": "="
                                                                },
                                                                {
                                                                  "type": "identifier",
                                                                  "start": {
                                                                    "row": 119,
                                                                    "column": 74
                                                                  },
                                                                  "end": {
                                                                    "row": 119,
                                                                    "column": 77
                                                                  },
                                                                  "text": "key"
                                                                }
                                                              ]
                                                            },
                                                            {
                                                              "type": ",",
                                                              "start": {
                                                                "row": 119,
                                                                "column": 77
                                                              },
                                                              "end": {
                                                                "row": 119,
                                                                "column": 78
                                                              },
                                                              "text": ","
                                                            },
                                                            {
                                                              "type": "keyword_argument",
                                                              "start": {
                                                                "row": 119,
                                                                "column": 79
                                                              },
                                                              "end": {
                                                                "row": 119,
                                                                "column": 90
                                                              },
                                                              "text": "keyid=keyid",
                                                              "children": [
                                                                {
                                                                  "type": "identifier",
                                                                  "start": {
                                                                    "row": 119,
                                                                    "column": 79
                                                                  },
                                                                  "end": {
                                                                    "row": 119,
                                                                    "column": 84
                                                                  },
                                                                  "text": "keyid"
                                                                },
                                                                {
                                                                  "type": "=",
                                                                  "start": {
                                                                    "row": 119,
                                                                    "column": 84
                                                                  },
                                                                  "end": {
                                                                    "row": 119,
                                                                    "column": 85
                                                                  },
                                                                  "text": "="
                                                                },
                                                                {
                                                                  "type": "identifier",
                                                                  "start": {
                                                                    "row": 119,
                                                                    "column": 85
                                                                  },
                                                                  "end": {
                                                                    "row": 119,
                                                                    "column": 90
                                                                  },
                                                                  "text": "keyid"
                                                                }
                                                              ]
                                                            },
                                                            {
                                                              "type": ",",
                                                              "start": {
                                                                "row": 119,
                                                                "column": 90
                                                              },
                                                              "end": {
                                                                "row": 119,
                                                                "column": 91
                                                              },
                                                              "text": ","
                                                            },
                                                            {
                                                              "type": "keyword_argument",
                                                              "start": {
                                                                "row": 119,
                                                                "column": 92
                                                              },
                                                              "end": {
                                                                "row": 119,
                                                                "column": 107
                                                              },
                                                              "text": "profile=profile",
                                                              "children": [
                                                                {
                                                                  "type": "identifier",
                                                                  "start": {
                                                                    "row": 119,
                                                                    "column": 92
                                                                  },
                                                                  "end": {
                                                                    "row": 119,
                                                                    "column": 99
                                                                  },
                                                                  "text": "profile"
                                                                },
                                                                {
                                                                  "type": "=",
                                                                  "start": {
                                                                    "row": 119,
                                                                    "column": 99
                                                                  },
                                                                  "end": {
                                                                    "row": 119,
                                                                    "column": 100
                                                                  },
                                                                  "text": "="
                                                                },
                                                                {
                                                                  "type": "identifier",
                                                                  "start": {
                                                                    "row": 119,
                                                                    "column": 100
                                                                  },
                                                                  "end": {
                                                                    "row": 119,
                                                                    "column": 107
                                                                  },
                                                                  "text": "profile"
                                                                }
                                                              ]
                                                            },
                                                            {
                                                              "type": ")",
                                                              "start": {
                                                                "row": 119,
                                                                "column": 107
                                                              },
                                                              "end": {
                                                                "row": 119,
                                                                "column": 108
                                                              },
                                                              "text": ")"
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "type": ":",
                                                  "start": {
                                                    "row": 119,
                                                    "column": 108
                                                  },
                                                  "end": {
                                                    "row": 119,
                                                    "column": 109
                                                  },
                                                  "text": ":"
                                                },
                                                {
                                                  "type": "block",
                                                  "start": {
                                                    "row": 120,
                                                    "column": 24
                                                  },
                                                  "end": {
                                                    "row": 122,
                                                    "column": 34
                                                  },
                                                  "text": "ret['success'] = False\n                        ret['comment'] = \"Failed to remove tags on vol.id {0}: {1}\".format(vol.id, remove)\n                        return ret",
                                                  "children": [
                                                    {
                                                      "type": "expression_statement",
                                                      "start": {
                                                        "row": 120,
                                                        "column": 24
                                                      },
                                                      "end": {
                                                        "row": 120,
                                                        "column": 46
                                                      },
                                                      "text": "ret['success'] = False",
                                                      "children": [
                                                        {
                                                          "type": "assignment",
                                                          "start": {
                                                            "row": 120,
                                                            "column": 24
                                                          },
                                                          "end": {
                                                            "row": 120,
                                                            "column": 46
                                                          },
                                                          "text": "ret['success'] = False",
                                                          "children": [
                                                            {
                                                              "type": "subscript",
                                                              "start": {
                                                                "row": 120,
                                                                "column": 24
                                                              },
                                                              "end": {
                                                                "row": 120,
                                                                "column": 38
                                                              },
                                                              "text": "ret['success']",
                                                              "children": [
                                                                {
                                                                  "type": "identifier",
                                                                  "start": {
                                                                    "row": 120,
                                                                    "column": 24
                                                                  },
                                                                  "end": {
                                                                    "row": 120,
                                                                    "column": 27
                                                                  },
                                                                  "text": "ret"
                                                                },
                                                                {
                                                                  "type": "[",
                                                                  "start": {
                                                                    "row": 120,
                                                                    "column": 27
                                                                  },
                                                                  "end": {
                                                                    "row": 120,
                                                                    "column": 28
                                                                  },
                                                                  "text": "["
                                                                },
                                                                {
                                                                  "type": "string",
                                                                  "start": {
                                                                    "row": 120,
                                                                    "column": 28
                                                                  },
                                                                  "end": {
                                                                    "row": 120,
                                                                    "column": 37
                                                                  },
                                                                  "text": "'success'",
                                                                  "children": [
                                                                    {
                                                                      "type": "string_start",
                                                                      "start": {
                                                                        "row": 120,
                                                                        "column": 28
                                                                      },
                                                                      "end": {
                                                                        "row": 120,
                                                                        "column": 29
                                                                      },
                                                                      "text": "'"
                                                                    },
                                                                    {
                                                                      "type": "string_content",
                                                                      "start": {
                                                                        "row": 120,
                                                                        "column": 29
                                                                      },
                                                                      "end": {
                                                                        "row": 120,
                                                                        "column": 36
                                                                      },
                                                                      "text": "success"
                                                                    },
                                                                    {
                                                                      "type": "string_end",
                                                                      "start": {
                                                                        "row": 120,
                                                                        "column": 36
                                                                      },
                                                                      "end": {
                                                                        "row": 120,
                                                                        "column": 37
                                                                      },
                                                                      "text": "'"
                                                                    }
                                                                  ]
                                                                },
                                                                {
                                                                  "type": "]",
                                                                  "start": {
                                                                    "row": 120,
                                                                    "column": 37
                                                                  },
                                                                  "end": {
                                                                    "row": 120,
                                                                    "column": 38
                                                                  },
                                                                  "text": "]"
                                                                }
                                                              ]
                                                            },
                                                            {
                                                              "type": "=",
                                                              "start": {
                                                                "row": 120,
                                                                "column": 39
                                                              },
                                                              "end": {
                                                                "row": 120,
                                                                "column": 40
                                                              },
                                                              "text": "="
                                                            },
                                                            {
                                                              "type": "false",
                                                              "start": {
                                                                "row": 120,
                                                                "column": 41
                                                              },
                                                              "end": {
                                                                "row": 120,
                                                                "column": 46
                                                              },
                                                              "text": "False"
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "type": "expression_statement",
                                                      "start": {
                                                        "row": 121,
                                                        "column": 24
                                                      },
                                                      "end": {
                                                        "row": 121,
                                                        "column": 106
                                                      },
                                                      "text": "ret['comment'] = \"Failed to remove tags on vol.id {0}: {1}\".format(vol.id, remove)",
                                                      "children": [
                                                        {
                                                          "type": "assignment",
                                                          "start": {
                                                            "row": 121,
                                                            "column": 24
                                                          },
                                                          "end": {
                                                            "row": 121,
                                                            "column": 106
                                                          },
                                                          "text": "ret['comment'] = \"Failed to remove tags on vol.id {0}: {1}\".format(vol.id, remove)",
                                                          "children": [
                                                            {
                                                              "type": "subscript",
                                                              "start": {
                                                                "row": 121,
                                                                "column": 24
                                                              },
                                                              "end": {
                                                                "row": 121,
                                                                "column": 38
                                                              },
                                                              "text": "ret['comment']",
                                                              "children": [
                                                                {
                                                                  "type": "identifier",
                                                                  "start": {
                                                                    "row": 121,
                                                                    "column": 24
                                                                  },
                                                                  "end": {
                                                                    "row": 121,
                                                                    "column": 27
                                                                  },
                                                                  "text": "ret"
                                                                },
                                                                {
                                                                  "type": "[",
                                                                  "start": {
                                                                    "row": 121,
                                                                    "column": 27
                                                                  },
                                                                  "end": {
                                                                    "row": 121,
                                                                    "column": 28
                                                                  },
                                                                  "text": "["
                                                                },
                                                                {
                                                                  "type": "string",
                                                                  "start": {
                                                                    "row": 121,
                                                                    "column": 28
                                                                  },
                                                                  "end": {
                                                                    "row": 121,
                                                                    "column": 37
                                                                  },
                                                                  "text": "'comment'",
                                                                  "children": [
                                                                    {
                                                                      "type": "string_start",
                                                                      "start": {
                                                                        "row": 121,
                                                                        "column": 28
                                                                      },
                                                                      "end": {
                                                                        "row": 121,
                                                                        "column": 29
                                                                      },
                                                                      "text": "'"
                                                                    },
                                                                    {
                                                                      "type": "string_content",
                                                                      "start": {
                                                                        "row": 121,
                                                                        "column": 29
                                                                      },
                                                                      "end": {
                                                                        "row": 121,
                                                                        "column": 36
                                                                      },
                                                                      "text": "comment"
                                                                    },
                                                                    {
                                                                      "type": "string_end",
                                                                      "start": {
                                                                        "row": 121,
                                                                        "column": 36
                                                                      },
                                                                      "end": {
                                                                        "row": 121,
                                                                        "column": 37
                                                                      },
                                                                      "text": "'"
                                                                    }
                                                                  ]
                                                                },
                                                                {
                                                                  "type": "]",
                                                                  "start": {
                                                                    "row": 121,
                                                                    "column": 37
                                                                  },
                                                                  "end": {
                                                                    "row": 121,
                                                                    "column": 38
                                                                  },
                                                                  "text": "]"
                                                                }
                                                              ]
                                                            },
                                                            {
                                                              "type": "=",
                                                              "start": {
                                                                "row": 121,
                                                                "column": 39
                                                              },
                                                              "end": {
                                                                "row": 121,
                                                                "column": 40
                                                              },
                                                              "text": "="
                                                            },
                                                            {
                                                              "type": "call",
                                                              "start": {
                                                                "row": 121,
                                                                "column": 41
                                                              },
                                                              "end": {
                                                                "row": 121,
                                                                "column": 106
                                                              },
                                                              "text": "\"Failed to remove tags on vol.id {0}: {1}\".format(vol.id, remove)",
                                                              "children": [
                                                                {
                                                                  "type": "attribute",
                                                                  "start": {
                                                                    "row": 121,
                                                                    "column": 41
                                                                  },
                                                                  "end": {
                                                                    "row": 121,
                                                                    "column": 90
                                                                  },
                                                                  "text": "\"Failed to remove tags on vol.id {0}: {1}\".format",
                                                                  "children": [
                                                                    {
                                                                      "type": "string",
                                                                      "start": {
                                                                        "row": 121,
                                                                        "column": 41
                                                                      },
                                                                      "end": {
                                                                        "row": 121,
                                                                        "column": 83
                                                                      },
                                                                      "text": "\"Failed to remove tags on vol.id {0}: {1}\"",
                                                                      "children": [
                                                                        {
                                                                          "type": "string_start",
                                                                          "start": {
                                                                            "row": 121,
                                                                            "column": 41
                                                                          },
                                                                          "end": {
                                                                            "row": 121,
                                                                            "column": 42
                                                                          },
                                                                          "text": "\""
                                                                        },
                                                                        {
                                                                          "type": "string_content",
                                                                          "start": {
                                                                            "row": 121,
                                                                            "column": 42
                                                                          },
                                                                          "end": {
                                                                            "row": 121,
                                                                            "column": 82
                                                                          },
                                                                          "text": "Failed to remove tags on vol.id {0}: {1}"
                                                                        },
                                                                        {
                                                                          "type": "string_end",
                                                                          "start": {
                                                                            "row": 121,
                                                                            "column": 82
                                                                          },
                                                                          "end": {
                                                                            "row": 121,
                                                                            "column": 83
                                                                          },
                                                                          "text": "\""
                                                                        }
                                                                      ]
                                                                    },
                                                                    {
                                                                      "type": ".",
                                                                      "start": {
                                                                        "row": 121,
                                                                        "column": 83
                                                                      },
                                                                      "end": {
                                                                        "row": 121,
                                                                        "column": 84
                                                                      },
                                                                      "text": "."
                                                                    },
                                                                    {
                                                                      "type": "identifier",
                                                                      "start": {
                                                                        "row": 121,
                                                                        "column": 84
                                                                      },
                                                                      "end": {
                                                                        "row": 121,
                                                                        "column": 90
                                                                      },
                                                                      "text": "format"
                                                                    }
                                                                  ]
                                                                },
                                                                {
                                                                  "type": "argument_list",
                                                                  "start": {
                                                                    "row": 121,
                                                                    "column": 90
                                                                  },
                                                                  "end": {
                                                                    "row": 121,
                                                                    "column": 106
                                                                  },
                                                                  "text": "(vol.id, remove)",
                                                                  "children": [
                                                                    {
                                                                      "type": "(",
                                                                      "start": {
                                                                        "row": 121,
                                                                        "column": 90
                                                                      },
                                                                      "end": {
                                                                        "row": 121,
                                                                        "column": 91
                                                                      },
                                                                      "text": "("
                                                                    },
                                                                    {
                                                                      "type": "attribute",
                                                                      "start": {
                                                                        "row": 121,
                                                                        "column": 91
                                                                      },
                                                                      "end": {
                                                                        "row": 121,
                                                                        "column": 97
                                                                      },
                                                                      "text": "vol.id",
                                                                      "children": [
                                                                        {
                                                                          "type": "identifier",
                                                                          "start": {
                                                                            "row": 121,
                                                                            "column": 91
                                                                          },
                                                                          "end": {
                                                                            "row": 121,
                                                                            "column": 94
                                                                          },
                                                                          "text": "vol"
                                                                        },
                                                                        {
                                                                          "type": ".",
                                                                          "start": {
                                                                            "row": 121,
                                                                            "column": 94
                                                                          },
                                                                          "end": {
                                                                            "row": 121,
                                                                            "column": 95
                                                                          },
                                                                          "text": "."
                                                                        },
                                                                        {
                                                                          "type": "identifier",
                                                                          "start": {
                                                                            "row": 121,
                                                                            "column": 95
                                                                          },
                                                                          "end": {
                                                                            "row": 121,
                                                                            "column": 97
                                                                          },
                                                                          "text": "id"
                                                                        }
                                                                      ]
                                                                    },
                                                                    {
                                                                      "type": ",",
                                                                      "start": {
                                                                        "row": 121,
                                                                        "column": 97
                                                                      },
                                                                      "end": {
                                                                        "row": 121,
                                                                        "column": 98
                                                                      },
                                                                      "text": ","
                                                                    },
                                                                    {
                                                                      "type": "identifier",
                                                                      "start": {
                                                                        "row": 121,
                                                                        "column": 99
                                                                      },
                                                                      "end": {
                                                                        "row": 121,
                                                                        "column": 105
                                                                      },
                                                                      "text": "remove"
                                                                    },
                                                                    {
                                                                      "type": ")",
                                                                      "start": {
                                                                        "row": 121,
                                                                        "column": 105
                                                                      },
                                                                      "end": {
                                                                        "row": 121,
                                                                        "column": 106
                                                                      },
                                                                      "text": ")"
                                                                    }
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "type": "return_statement",
                                                      "start": {
                                                        "row": 122,
                                                        "column": 24
                                                      },
                                                      "end": {
                                                        "row": 122,
                                                        "column": 34
                                                      },
                                                      "text": "return ret",
                                                      "children": [
                                                        {
                                                          "type": "return",
                                                          "start": {
                                                            "row": 122,
                                                            "column": 24
                                                          },
                                                          "end": {
                                                            "row": 122,
                                                            "column": 30
                                                          },
                                                          "text": "return"
                                                        },
                                                        {
                                                          "type": "identifier",
                                                          "start": {
                                                            "row": 122,
                                                            "column": 31
                                                          },
                                                          "end": {
                                                            "row": 122,
                                                            "column": 34
                                                          },
                                                          "text": "ret"
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "type": "expression_statement",
              "start": {
                "row": 123,
                "column": 4
              },
              "end": {
                "row": 123,
                "column": 80
              },
              "text": "ret['changes'].update(changes) if changes['old'] or changes['new'] else None",
              "children": [
                {
                  "type": "conditional_expression",
                  "start": {
                    "row": 123,
                    "column": 4
                  },
                  "end": {
                    "row": 123,
                    "column": 80
                  },
                  "text": "ret['changes'].update(changes) if changes['old'] or changes['new'] else None",
                  "children": [
                    {
                      "type": "call",
                      "start": {
                        "row": 123,
                        "column": 4
                      },
                      "end": {
                        "row": 123,
                        "column": 34
                      },
                      "text": "ret['changes'].update(changes)",
                      "children": [
                        {
                          "type": "attribute",
                          "start": {
                            "row": 123,
                            "column": 4
                          },
                          "end": {
                            "row": 123,
                            "column": 25
                          },
                          "text": "ret['changes'].update",
                          "children": [
                            {
                              "type": "subscript",
                              "start": {
                                "row": 123,
                                "column": 4
                              },
                              "end": {
                                "row": 123,
                                "column": 18
                              },
                              "text": "ret['changes']",
                              "children": [
                                {
                                  "type": "identifier",
                                  "start": {
                                    "row": 123,
                                    "column": 4
                                  },
                                  "end": {
                                    "row": 123,
                                    "column": 7
                                  },
                                  "text": "ret"
                                },
                                {
                                  "type": "[",
                                  "start": {
                                    "row": 123,
                                    "column": 7
                                  },
                                  "end": {
                                    "row": 123,
                                    "column": 8
                                  },
                                  "text": "["
                                },
                                {
                                  "type": "string",
                                  "start": {
                                    "row": 123,
                                    "column": 8
                                  },
                                  "end": {
                                    "row": 123,
                                    "column": 17
                                  },
                                  "text": "'changes'",
                                  "children": [
                                    {
                                      "type": "string_start",
                                      "start": {
                                        "row": 123,
                                        "column": 8
                                      },
                                      "end": {
                                        "row": 123,
                                        "column": 9
                                      },
                                      "text": "'"
                                    },
                                    {
                                      "type": "string_content",
                                      "start": {
                                        "row": 123,
                                        "column": 9
                                      },
                                      "end": {
                                        "row": 123,
                                        "column": 16
                                      },
                                      "text": "changes"
                                    },
                                    {
                                      "type": "string_end",
                                      "start": {
                                        "row": 123,
                                        "column": 16
                                      },
                                      "end": {
                                        "row": 123,
                                        "column": 17
                                      },
                                      "text": "'"
                                    }
                                  ]
                                },
                                {
                                  "type": "]",
                                  "start": {
                                    "row": 123,
                                    "column": 17
                                  },
                                  "end": {
                                    "row": 123,
                                    "column": 18
                                  },
                                  "text": "]"
                                }
                              ]
                            },
                            {
                              "type": ".",
                              "start": {
                                "row": 123,
                                "column": 18
                              },
                              "end": {
                                "row": 123,
                                "column": 19
                              },
                              "text": "."
                            },
                            {
                              "type": "identifier",
                              "start": {
                                "row": 123,
                                "column": 19
                              },
                              "end": {
                                "row": 123,
                                "column": 25
                              },
                              "text": "update"
                            }
                          ]
                        },
                        {
                          "type": "argument_list",
                          "start": {
                            "row": 123,
                            "column": 25
                          },
                          "end": {
                            "row": 123,
                            "column": 34
                          },
                          "text": "(changes)",
                          "children": [
                            {
                              "type": "(",
                              "start": {
                                "row": 123,
                                "column": 25
                              },
                              "end": {
                                "row": 123,
                                "column": 26
                              },
                              "text": "("
                            },
                            {
                              "type": "identifier",
                              "start": {
                                "row": 123,
                                "column": 26
                              },
                              "end": {
                                "row": 123,
                                "column": 33
                              },
                              "text": "changes"
                            },
                            {
                              "type": ")",
                              "start": {
                                "row": 123,
                                "column": 33
                              },
                              "end": {
                                "row": 123,
                                "column": 34
                              },
                              "text": ")"
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "type": "if",
                      "start": {
                        "row": 123,
                        "column": 35
                      },
                      "end": {
                        "row": 123,
                        "column": 37
                      },
                      "text": "if"
                    },
                    {
                      "type": "boolean_operator",
                      "start": {
                        "row": 123,
                        "column": 38
                      },
                      "end": {
                        "row": 123,
                        "column": 70
                      },
                      "text": "changes['old'] or changes['new']",
                      "children": [
                        {
                          "type": "subscript",
                          "start": {
                            "row": 123,
                            "column": 38
                          },
                          "end": {
                            "row": 123,
                            "column": 52
                          },
                          "text": "changes['old']",
                          "children": [
                            {
                              "type": "identifier",
                              "start": {
                                "row": 123,
                                "column": 38
                              },
                              "end": {
                                "row": 123,
                                "column": 45
                              },
                              "text": "changes"
                            },
                            {
                              "type": "[",
                              "start": {
                                "row": 123,
                                "column": 45
                              },
                              "end": {
                                "row": 123,
                                "column": 46
                              },
                              "text": "["
                            },
                            {
                              "type": "string",
                              "start": {
                                "row": 123,
                                "column": 46
                              },
                              "end": {
                                "row": 123,
                                "column": 51
                              },
                              "text": "'old'",
                              "children": [
                                {
                                  "type": "string_start",
                                  "start": {
                                    "row": 123,
                                    "column": 46
                                  },
                                  "end": {
                                    "row": 123,
                                    "column": 47
                                  },
                                  "text": "'"
                                },
                                {
                                  "type": "string_content",
                                  "start": {
                                    "row": 123,
                                    "column": 47
                                  },
                                  "end": {
                                    "row": 123,
                                    "column": 50
                                  },
                                  "text": "old"
                                },
                                {
                                  "type": "string_end",
                                  "start": {
                                    "row": 123,
                                    "column": 50
                                  },
                                  "end": {
                                    "row": 123,
                                    "column": 51
                                  },
                                  "text": "'"
                                }
                              ]
                            },
                            {
                              "type": "]",
                              "start": {
                                "row": 123,
                                "column": 51
                              },
                              "end": {
                                "row": 123,
                                "column": 52
                              },
                              "text": "]"
                            }
                          ]
                        },
                        {
                          "type": "or",
                          "start": {
                            "row": 123,
                            "column": 53
                          },
                          "end": {
                            "row": 123,
                            "column": 55
                          },
                          "text": "or"
                        },
                        {
                          "type": "subscript",
                          "start": {
                            "row": 123,
                            "column": 56
                          },
                          "end": {
                            "row": 123,
                            "column": 70
                          },
                          "text": "changes['new']",
                          "children": [
                            {
                              "type": "identifier",
                              "start": {
                                "row": 123,
                                "column": 56
                              },
                              "end": {
                                "row": 123,
                                "column": 63
                              },
                              "text": "changes"
                            },
                            {
                              "type": "[",
                              "start": {
                                "row": 123,
                                "column": 63
                              },
                              "end": {
                                "row": 123,
                                "column": 64
                              },
                              "text": "["
                            },
                            {
                              "type": "string",
                              "start": {
                                "row": 123,
                                "column": 64
                              },
                              "end": {
                                "row": 123,
                                "column": 69
                              },
                              "text": "'new'",
                              "children": [
                                {
                                  "type": "string_start",
                                  "start": {
                                    "row": 123,
                                    "column": 64
                                  },
                                  "end": {
                                    "row": 123,
                                    "column": 65
                                  },
                                  "text": "'"
                                },
                                {
                                  "type": "string_content",
                                  "start": {
                                    "row": 123,
                                    "column": 65
                                  },
                                  "end": {
                                    "row": 123,
                                    "column": 68
                                  },
                                  "text": "new"
                                },
                                {
                                  "type": "string_end",
                                  "start": {
                                    "row": 123,
                                    "column": 68
                                  },
                                  "end": {
                                    "row": 123,
                                    "column": 69
                                  },
                                  "text": "'"
                                }
                              ]
                            },
                            {
                              "type": "]",
                              "start": {
                                "row": 123,
                                "column": 69
                              },
                              "end": {
                                "row": 123,
                                "column": 70
                              },
                              "text": "]"
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "type": "else",
                      "start": {
                        "row": 123,
                        "column": 71
                      },
                      "end": {
                        "row": 123,
                        "column": 75
                      },
                      "text": "else"
                    },
                    {
                      "type": "none",
                      "start": {
                        "row": 123,
                        "column": 76
                      },
                      "end": {
                        "row": 123,
                        "column": 80
                      },
                      "text": "None"
                    }
                  ]
                }
              ]
            },
            {
              "type": "comment",
              "start": {
                "row": 123,
                "column": 82
              },
              "end": {
                "row": 123,
                "column": 105
              },
              "text": "# pylint: disable=W0106"
            },
            {
              "type": "return_statement",
              "start": {
                "row": 124,
                "column": 4
              },
              "end": {
                "row": 124,
                "column": 14
              },
              "text": "return ret",
              "children": [
                {
                  "type": "return",
                  "start": {
                    "row": 124,
                    "column": 4
                  },
                  "end": {
                    "row": 124,
                    "column": 10
                  },
                  "text": "return"
                },
                {
                  "type": "identifier",
                  "start": {
                    "row": 124,
                    "column": 11
                  },
                  "end": {
                    "row": 124,
                    "column": 14
                  },
                  "text": "ret"
                }
              ]
            }
          ]
        }
      ]
    }
  ]
}