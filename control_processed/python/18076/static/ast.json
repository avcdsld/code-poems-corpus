{
  "type": "module",
  "start": {
    "row": 0,
    "column": 0
  },
  "end": {
    "row": 47,
    "column": 50
  },
  "text": "def text_embedding_column(key, module_spec, trainable=False):\n  \"\"\"Uses a Module to construct a dense representation from a text feature.\n\n  This feature column can be used on an input feature whose values are strings\n  of arbitrary size.\n\n  The result of this feature column is the result of passing its `input`\n  through the module `m` instantiated from `module_spec`, as per\n  `result = m(input)`. The `result` must have dtype float32 and shape\n  `[batch_size, num_features]` with a known value of num_features.\n\n  Example:\n\n  ```python\n    comment = text_embedding_column(\"comment\", \"/tmp/text-module\")\n    feature_columns = [comment, ...]\n    ...\n    features = {\n      \"comment\": np.array([\"wow, much amazing\", \"so easy\", ...]),\n      ...\n    }\n    labels = np.array([[1], [0], ...])\n    # If running TF 2.x, use `tf.compat.v1.estimator.inputs.numpy_input_fn`\n    input_fn = tf.estimator.inputs.numpy_input_fn(features, labels,\n                                                  shuffle=True)\n    estimator = tf.estimator.DNNClassifier(hidden_units, feature_columns)\n    estimator.train(input_fn, max_steps=100)\n  ```\n\n  Args:\n    key: A string or `_FeatureColumn` identifying the text feature.\n    module_spec: A ModuleSpec defining the Module to instantiate or a path where\n      to load a ModuleSpec via `load_module_spec`\n    trainable: Whether or not the Module is trainable. False by default,\n      meaning the pre-trained weights are frozen. This is different from the\n      ordinary tf.feature_column.embedding_column(), but that one is intended\n      for training from scratch.\n\n  Returns:\n    `_DenseColumn` that converts from text input.\n\n  Raises:\n     ValueError: if module_spec is not suitable for use in this feature column.\n  \"\"\"\n  module_spec = module.as_module_spec(module_spec)\n  _check_module_is_text_embedding(module_spec)\n  return _TextEmbeddingColumn(key=key, module_spec=module_spec,\n                              trainable=trainable)",
  "children": [
    {
      "type": "function_definition",
      "start": {
        "row": 0,
        "column": 0
      },
      "end": {
        "row": 47,
        "column": 50
      },
      "text": "def text_embedding_column(key, module_spec, trainable=False):\n  \"\"\"Uses a Module to construct a dense representation from a text feature.\n\n  This feature column can be used on an input feature whose values are strings\n  of arbitrary size.\n\n  The result of this feature column is the result of passing its `input`\n  through the module `m` instantiated from `module_spec`, as per\n  `result = m(input)`. The `result` must have dtype float32 and shape\n  `[batch_size, num_features]` with a known value of num_features.\n\n  Example:\n\n  ```python\n    comment = text_embedding_column(\"comment\", \"/tmp/text-module\")\n    feature_columns = [comment, ...]\n    ...\n    features = {\n      \"comment\": np.array([\"wow, much amazing\", \"so easy\", ...]),\n      ...\n    }\n    labels = np.array([[1], [0], ...])\n    # If running TF 2.x, use `tf.compat.v1.estimator.inputs.numpy_input_fn`\n    input_fn = tf.estimator.inputs.numpy_input_fn(features, labels,\n                                                  shuffle=True)\n    estimator = tf.estimator.DNNClassifier(hidden_units, feature_columns)\n    estimator.train(input_fn, max_steps=100)\n  ```\n\n  Args:\n    key: A string or `_FeatureColumn` identifying the text feature.\n    module_spec: A ModuleSpec defining the Module to instantiate or a path where\n      to load a ModuleSpec via `load_module_spec`\n    trainable: Whether or not the Module is trainable. False by default,\n      meaning the pre-trained weights are frozen. This is different from the\n      ordinary tf.feature_column.embedding_column(), but that one is intended\n      for training from scratch.\n\n  Returns:\n    `_DenseColumn` that converts from text input.\n\n  Raises:\n     ValueError: if module_spec is not suitable for use in this feature column.\n  \"\"\"\n  module_spec = module.as_module_spec(module_spec)\n  _check_module_is_text_embedding(module_spec)\n  return _TextEmbeddingColumn(key=key, module_spec=module_spec,\n                              trainable=trainable)",
      "children": [
        {
          "type": "def",
          "start": {
            "row": 0,
            "column": 0
          },
          "end": {
            "row": 0,
            "column": 3
          },
          "text": "def"
        },
        {
          "type": "identifier",
          "start": {
            "row": 0,
            "column": 4
          },
          "end": {
            "row": 0,
            "column": 25
          },
          "text": "text_embedding_column"
        },
        {
          "type": "parameters",
          "start": {
            "row": 0,
            "column": 25
          },
          "end": {
            "row": 0,
            "column": 60
          },
          "text": "(key, module_spec, trainable=False)",
          "children": [
            {
              "type": "(",
              "start": {
                "row": 0,
                "column": 25
              },
              "end": {
                "row": 0,
                "column": 26
              },
              "text": "("
            },
            {
              "type": "identifier",
              "start": {
                "row": 0,
                "column": 26
              },
              "end": {
                "row": 0,
                "column": 29
              },
              "text": "key"
            },
            {
              "type": ",",
              "start": {
                "row": 0,
                "column": 29
              },
              "end": {
                "row": 0,
                "column": 30
              },
              "text": ","
            },
            {
              "type": "identifier",
              "start": {
                "row": 0,
                "column": 31
              },
              "end": {
                "row": 0,
                "column": 42
              },
              "text": "module_spec"
            },
            {
              "type": ",",
              "start": {
                "row": 0,
                "column": 42
              },
              "end": {
                "row": 0,
                "column": 43
              },
              "text": ","
            },
            {
              "type": "default_parameter",
              "start": {
                "row": 0,
                "column": 44
              },
              "end": {
                "row": 0,
                "column": 59
              },
              "text": "trainable=False",
              "children": [
                {
                  "type": "identifier",
                  "start": {
                    "row": 0,
                    "column": 44
                  },
                  "end": {
                    "row": 0,
                    "column": 53
                  },
                  "text": "trainable"
                },
                {
                  "type": "=",
                  "start": {
                    "row": 0,
                    "column": 53
                  },
                  "end": {
                    "row": 0,
                    "column": 54
                  },
                  "text": "="
                },
                {
                  "type": "false",
                  "start": {
                    "row": 0,
                    "column": 54
                  },
                  "end": {
                    "row": 0,
                    "column": 59
                  },
                  "text": "False"
                }
              ]
            },
            {
              "type": ")",
              "start": {
                "row": 0,
                "column": 59
              },
              "end": {
                "row": 0,
                "column": 60
              },
              "text": ")"
            }
          ]
        },
        {
          "type": ":",
          "start": {
            "row": 0,
            "column": 60
          },
          "end": {
            "row": 0,
            "column": 61
          },
          "text": ":"
        },
        {
          "type": "block",
          "start": {
            "row": 1,
            "column": 2
          },
          "end": {
            "row": 47,
            "column": 50
          },
          "text": "\"\"\"Uses a Module to construct a dense representation from a text feature.\n\n  This feature column can be used on an input feature whose values are strings\n  of arbitrary size.\n\n  The result of this feature column is the result of passing its `input`\n  through the module `m` instantiated from `module_spec`, as per\n  `result = m(input)`. The `result` must have dtype float32 and shape\n  `[batch_size, num_features]` with a known value of num_features.\n\n  Example:\n\n  ```python\n    comment = text_embedding_column(\"comment\", \"/tmp/text-module\")\n    feature_columns = [comment, ...]\n    ...\n    features = {\n      \"comment\": np.array([\"wow, much amazing\", \"so easy\", ...]),\n      ...\n    }\n    labels = np.array([[1], [0], ...])\n    # If running TF 2.x, use `tf.compat.v1.estimator.inputs.numpy_input_fn`\n    input_fn = tf.estimator.inputs.numpy_input_fn(features, labels,\n                                                  shuffle=True)\n    estimator = tf.estimator.DNNClassifier(hidden_units, feature_columns)\n    estimator.train(input_fn, max_steps=100)\n  ```\n\n  Args:\n    key: A string or `_FeatureColumn` identifying the text feature.\n    module_spec: A ModuleSpec defining the Module to instantiate or a path where\n      to load a ModuleSpec via `load_module_spec`\n    trainable: Whether or not the Module is trainable. False by default,\n      meaning the pre-trained weights are frozen. This is different from the\n      ordinary tf.feature_column.embedding_column(), but that one is intended\n      for training from scratch.\n\n  Returns:\n    `_DenseColumn` that converts from text input.\n\n  Raises:\n     ValueError: if module_spec is not suitable for use in this feature column.\n  \"\"\"\n  module_spec = module.as_module_spec(module_spec)\n  _check_module_is_text_embedding(module_spec)\n  return _TextEmbeddingColumn(key=key, module_spec=module_spec,\n                              trainable=trainable)",
          "children": [
            {
              "type": "expression_statement",
              "start": {
                "row": 1,
                "column": 2
              },
              "end": {
                "row": 43,
                "column": 5
              },
              "text": "\"\"\"Uses a Module to construct a dense representation from a text feature.\n\n  This feature column can be used on an input feature whose values are strings\n  of arbitrary size.\n\n  The result of this feature column is the result of passing its `input`\n  through the module `m` instantiated from `module_spec`, as per\n  `result = m(input)`. The `result` must have dtype float32 and shape\n  `[batch_size, num_features]` with a known value of num_features.\n\n  Example:\n\n  ```python\n    comment = text_embedding_column(\"comment\", \"/tmp/text-module\")\n    feature_columns = [comment, ...]\n    ...\n    features = {\n      \"comment\": np.array([\"wow, much amazing\", \"so easy\", ...]),\n      ...\n    }\n    labels = np.array([[1], [0], ...])\n    # If running TF 2.x, use `tf.compat.v1.estimator.inputs.numpy_input_fn`\n    input_fn = tf.estimator.inputs.numpy_input_fn(features, labels,\n                                                  shuffle=True)\n    estimator = tf.estimator.DNNClassifier(hidden_units, feature_columns)\n    estimator.train(input_fn, max_steps=100)\n  ```\n\n  Args:\n    key: A string or `_FeatureColumn` identifying the text feature.\n    module_spec: A ModuleSpec defining the Module to instantiate or a path where\n      to load a ModuleSpec via `load_module_spec`\n    trainable: Whether or not the Module is trainable. False by default,\n      meaning the pre-trained weights are frozen. This is different from the\n      ordinary tf.feature_column.embedding_column(), but that one is intended\n      for training from scratch.\n\n  Returns:\n    `_DenseColumn` that converts from text input.\n\n  Raises:\n     ValueError: if module_spec is not suitable for use in this feature column.\n  \"\"\"",
              "children": [
                {
                  "type": "string",
                  "start": {
                    "row": 1,
                    "column": 2
                  },
                  "end": {
                    "row": 43,
                    "column": 5
                  },
                  "text": "\"\"\"Uses a Module to construct a dense representation from a text feature.\n\n  This feature column can be used on an input feature whose values are strings\n  of arbitrary size.\n\n  The result of this feature column is the result of passing its `input`\n  through the module `m` instantiated from `module_spec`, as per\n  `result = m(input)`. The `result` must have dtype float32 and shape\n  `[batch_size, num_features]` with a known value of num_features.\n\n  Example:\n\n  ```python\n    comment = text_embedding_column(\"comment\", \"/tmp/text-module\")\n    feature_columns = [comment, ...]\n    ...\n    features = {\n      \"comment\": np.array([\"wow, much amazing\", \"so easy\", ...]),\n      ...\n    }\n    labels = np.array([[1], [0], ...])\n    # If running TF 2.x, use `tf.compat.v1.estimator.inputs.numpy_input_fn`\n    input_fn = tf.estimator.inputs.numpy_input_fn(features, labels,\n                                                  shuffle=True)\n    estimator = tf.estimator.DNNClassifier(hidden_units, feature_columns)\n    estimator.train(input_fn, max_steps=100)\n  ```\n\n  Args:\n    key: A string or `_FeatureColumn` identifying the text feature.\n    module_spec: A ModuleSpec defining the Module to instantiate or a path where\n      to load a ModuleSpec via `load_module_spec`\n    trainable: Whether or not the Module is trainable. False by default,\n      meaning the pre-trained weights are frozen. This is different from the\n      ordinary tf.feature_column.embedding_column(), but that one is intended\n      for training from scratch.\n\n  Returns:\n    `_DenseColumn` that converts from text input.\n\n  Raises:\n     ValueError: if module_spec is not suitable for use in this feature column.\n  \"\"\"",
                  "children": [
                    {
                      "type": "string_start",
                      "start": {
                        "row": 1,
                        "column": 2
                      },
                      "end": {
                        "row": 1,
                        "column": 5
                      },
                      "text": "\"\"\""
                    },
                    {
                      "type": "string_content",
                      "start": {
                        "row": 1,
                        "column": 5
                      },
                      "end": {
                        "row": 43,
                        "column": 2
                      },
                      "text": "Uses a Module to construct a dense representation from a text feature.\n\n  This feature column can be used on an input feature whose values are strings\n  of arbitrary size.\n\n  The result of this feature column is the result of passing its `input`\n  through the module `m` instantiated from `module_spec`, as per\n  `result = m(input)`. The `result` must have dtype float32 and shape\n  `[batch_size, num_features]` with a known value of num_features.\n\n  Example:\n\n  ```python\n    comment = text_embedding_column(\"comment\", \"/tmp/text-module\")\n    feature_columns = [comment, ...]\n    ...\n    features = {\n      \"comment\": np.array([\"wow, much amazing\", \"so easy\", ...]),\n      ...\n    }\n    labels = np.array([[1], [0], ...])\n    # If running TF 2.x, use `tf.compat.v1.estimator.inputs.numpy_input_fn`\n    input_fn = tf.estimator.inputs.numpy_input_fn(features, labels,\n                                                  shuffle=True)\n    estimator = tf.estimator.DNNClassifier(hidden_units, feature_columns)\n    estimator.train(input_fn, max_steps=100)\n  ```\n\n  Args:\n    key: A string or `_FeatureColumn` identifying the text feature.\n    module_spec: A ModuleSpec defining the Module to instantiate or a path where\n      to load a ModuleSpec via `load_module_spec`\n    trainable: Whether or not the Module is trainable. False by default,\n      meaning the pre-trained weights are frozen. This is different from the\n      ordinary tf.feature_column.embedding_column(), but that one is intended\n      for training from scratch.\n\n  Returns:\n    `_DenseColumn` that converts from text input.\n\n  Raises:\n     ValueError: if module_spec is not suitable for use in this feature column.\n  "
                    },
                    {
                      "type": "string_end",
                      "start": {
                        "row": 43,
                        "column": 2
                      },
                      "end": {
                        "row": 43,
                        "column": 5
                      },
                      "text": "\"\"\""
                    }
                  ]
                }
              ]
            },
            {
              "type": "expression_statement",
              "start": {
                "row": 44,
                "column": 2
              },
              "end": {
                "row": 44,
                "column": 50
              },
              "text": "module_spec = module.as_module_spec(module_spec)",
              "children": [
                {
                  "type": "assignment",
                  "start": {
                    "row": 44,
                    "column": 2
                  },
                  "end": {
                    "row": 44,
                    "column": 50
                  },
                  "text": "module_spec = module.as_module_spec(module_spec)",
                  "children": [
                    {
                      "type": "identifier",
                      "start": {
                        "row": 44,
                        "column": 2
                      },
                      "end": {
                        "row": 44,
                        "column": 13
                      },
                      "text": "module_spec"
                    },
                    {
                      "type": "=",
                      "start": {
                        "row": 44,
                        "column": 14
                      },
                      "end": {
                        "row": 44,
                        "column": 15
                      },
                      "text": "="
                    },
                    {
                      "type": "call",
                      "start": {
                        "row": 44,
                        "column": 16
                      },
                      "end": {
                        "row": 44,
                        "column": 50
                      },
                      "text": "module.as_module_spec(module_spec)",
                      "children": [
                        {
                          "type": "attribute",
                          "start": {
                            "row": 44,
                            "column": 16
                          },
                          "end": {
                            "row": 44,
                            "column": 37
                          },
                          "text": "module.as_module_spec",
                          "children": [
                            {
                              "type": "identifier",
                              "start": {
                                "row": 44,
                                "column": 16
                              },
                              "end": {
                                "row": 44,
                                "column": 22
                              },
                              "text": "module"
                            },
                            {
                              "type": ".",
                              "start": {
                                "row": 44,
                                "column": 22
                              },
                              "end": {
                                "row": 44,
                                "column": 23
                              },
                              "text": "."
                            },
                            {
                              "type": "identifier",
                              "start": {
                                "row": 44,
                                "column": 23
                              },
                              "end": {
                                "row": 44,
                                "column": 37
                              },
                              "text": "as_module_spec"
                            }
                          ]
                        },
                        {
                          "type": "argument_list",
                          "start": {
                            "row": 44,
                            "column": 37
                          },
                          "end": {
                            "row": 44,
                            "column": 50
                          },
                          "text": "(module_spec)",
                          "children": [
                            {
                              "type": "(",
                              "start": {
                                "row": 44,
                                "column": 37
                              },
                              "end": {
                                "row": 44,
                                "column": 38
                              },
                              "text": "("
                            },
                            {
                              "type": "identifier",
                              "start": {
                                "row": 44,
                                "column": 38
                              },
                              "end": {
                                "row": 44,
                                "column": 49
                              },
                              "text": "module_spec"
                            },
                            {
                              "type": ")",
                              "start": {
                                "row": 44,
                                "column": 49
                              },
                              "end": {
                                "row": 44,
                                "column": 50
                              },
                              "text": ")"
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "type": "expression_statement",
              "start": {
                "row": 45,
                "column": 2
              },
              "end": {
                "row": 45,
                "column": 46
              },
              "text": "_check_module_is_text_embedding(module_spec)",
              "children": [
                {
                  "type": "call",
                  "start": {
                    "row": 45,
                    "column": 2
                  },
                  "end": {
                    "row": 45,
                    "column": 46
                  },
                  "text": "_check_module_is_text_embedding(module_spec)",
                  "children": [
                    {
                      "type": "identifier",
                      "start": {
                        "row": 45,
                        "column": 2
                      },
                      "end": {
                        "row": 45,
                        "column": 33
                      },
                      "text": "_check_module_is_text_embedding"
                    },
                    {
                      "type": "argument_list",
                      "start": {
                        "row": 45,
                        "column": 33
                      },
                      "end": {
                        "row": 45,
                        "column": 46
                      },
                      "text": "(module_spec)",
                      "children": [
                        {
                          "type": "(",
                          "start": {
                            "row": 45,
                            "column": 33
                          },
                          "end": {
                            "row": 45,
                            "column": 34
                          },
                          "text": "("
                        },
                        {
                          "type": "identifier",
                          "start": {
                            "row": 45,
                            "column": 34
                          },
                          "end": {
                            "row": 45,
                            "column": 45
                          },
                          "text": "module_spec"
                        },
                        {
                          "type": ")",
                          "start": {
                            "row": 45,
                            "column": 45
                          },
                          "end": {
                            "row": 45,
                            "column": 46
                          },
                          "text": ")"
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "type": "return_statement",
              "start": {
                "row": 46,
                "column": 2
              },
              "end": {
                "row": 47,
                "column": 50
              },
              "text": "return _TextEmbeddingColumn(key=key, module_spec=module_spec,\n                              trainable=trainable)",
              "children": [
                {
                  "type": "return",
                  "start": {
                    "row": 46,
                    "column": 2
                  },
                  "end": {
                    "row": 46,
                    "column": 8
                  },
                  "text": "return"
                },
                {
                  "type": "call",
                  "start": {
                    "row": 46,
                    "column": 9
                  },
                  "end": {
                    "row": 47,
                    "column": 50
                  },
                  "text": "_TextEmbeddingColumn(key=key, module_spec=module_spec,\n                              trainable=trainable)",
                  "children": [
                    {
                      "type": "identifier",
                      "start": {
                        "row": 46,
                        "column": 9
                      },
                      "end": {
                        "row": 46,
                        "column": 29
                      },
                      "text": "_TextEmbeddingColumn"
                    },
                    {
                      "type": "argument_list",
                      "start": {
                        "row": 46,
                        "column": 29
                      },
                      "end": {
                        "row": 47,
                        "column": 50
                      },
                      "text": "(key=key, module_spec=module_spec,\n                              trainable=trainable)",
                      "children": [
                        {
                          "type": "(",
                          "start": {
                            "row": 46,
                            "column": 29
                          },
                          "end": {
                            "row": 46,
                            "column": 30
                          },
                          "text": "("
                        },
                        {
                          "type": "keyword_argument",
                          "start": {
                            "row": 46,
                            "column": 30
                          },
                          "end": {
                            "row": 46,
                            "column": 37
                          },
                          "text": "key=key",
                          "children": [
                            {
                              "type": "identifier",
                              "start": {
                                "row": 46,
                                "column": 30
                              },
                              "end": {
                                "row": 46,
                                "column": 33
                              },
                              "text": "key"
                            },
                            {
                              "type": "=",
                              "start": {
                                "row": 46,
                                "column": 33
                              },
                              "end": {
                                "row": 46,
                                "column": 34
                              },
                              "text": "="
                            },
                            {
                              "type": "identifier",
                              "start": {
                                "row": 46,
                                "column": 34
                              },
                              "end": {
                                "row": 46,
                                "column": 37
                              },
                              "text": "key"
                            }
                          ]
                        },
                        {
                          "type": ",",
                          "start": {
                            "row": 46,
                            "column": 37
                          },
                          "end": {
                            "row": 46,
                            "column": 38
                          },
                          "text": ","
                        },
                        {
                          "type": "keyword_argument",
                          "start": {
                            "row": 46,
                            "column": 39
                          },
                          "end": {
                            "row": 46,
                            "column": 62
                          },
                          "text": "module_spec=module_spec",
                          "children": [
                            {
                              "type": "identifier",
                              "start": {
                                "row": 46,
                                "column": 39
                              },
                              "end": {
                                "row": 46,
                                "column": 50
                              },
                              "text": "module_spec"
                            },
                            {
                              "type": "=",
                              "start": {
                                "row": 46,
                                "column": 50
                              },
                              "end": {
                                "row": 46,
                                "column": 51
                              },
                              "text": "="
                            },
                            {
                              "type": "identifier",
                              "start": {
                                "row": 46,
                                "column": 51
                              },
                              "end": {
                                "row": 46,
                                "column": 62
                              },
                              "text": "module_spec"
                            }
                          ]
                        },
                        {
                          "type": ",",
                          "start": {
                            "row": 46,
                            "column": 62
                          },
                          "end": {
                            "row": 46,
                            "column": 63
                          },
                          "text": ","
                        },
                        {
                          "type": "keyword_argument",
                          "start": {
                            "row": 47,
                            "column": 30
                          },
                          "end": {
                            "row": 47,
                            "column": 49
                          },
                          "text": "trainable=trainable",
                          "children": [
                            {
                              "type": "identifier",
                              "start": {
                                "row": 47,
                                "column": 30
                              },
                              "end": {
                                "row": 47,
                                "column": 39
                              },
                              "text": "trainable"
                            },
                            {
                              "type": "=",
                              "start": {
                                "row": 47,
                                "column": 39
                              },
                              "end": {
                                "row": 47,
                                "column": 40
                              },
                              "text": "="
                            },
                            {
                              "type": "identifier",
                              "start": {
                                "row": 47,
                                "column": 40
                              },
                              "end": {
                                "row": 47,
                                "column": 49
                              },
                              "text": "trainable"
                            }
                          ]
                        },
                        {
                          "type": ")",
                          "start": {
                            "row": 47,
                            "column": 49
                          },
                          "end": {
                            "row": 47,
                            "column": 50
                          },
                          "text": ")"
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    }
  ]
}